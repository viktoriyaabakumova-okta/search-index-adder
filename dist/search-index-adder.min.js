!function(f){"object"==typeof exports&&"undefined"!=typeof module?module.exports=f():"function"==typeof define&&define.amd?define([],f):("undefined"!=typeof window?window:"undefined"!=typeof global?global:"undefined"!=typeof self?self:this).SearchIndexAdder=f()}(function(){return function r(e,n,t){function o(i,f){if(!n[i]){if(!e[i]){var p="function"==typeof require&&require;if(!f&&p)return p(i,!0);if(u)return u(i,!0);throw(p=new Error("Cannot find module '"+i+"'")).code="MODULE_NOT_FOUND",p}p=n[i]={exports:{}},e[i][0].call(p.exports,function(r){return o(e[i][1][r]||r)},p,p.exports,r,e,n,t)}return n[i].exports}for(var u="function"==typeof require&&require,i=0;i<t.length;i++)o(t[i]);return o}({1:[function(require,module,exports){const Logger=require("js-logger"),level=require("level"),API=require("./lib/API.js");module.exports=function(givenOptions,callback){getOptions(givenOptions,function(err,options){var api=API(options);const Indexer={};return Indexer.options=options,Indexer.add=api.add,Indexer.concurrentAdd=api.concurrentAdd,Indexer.concurrentDel=api.concurrentDel,Indexer.close=api.close,Indexer.dbWriteStream=api.dbWriteStream,Indexer.defaultPipeline=api.defaultPipeline,Indexer.deleteStream=api.deleteStream,Indexer.deleter=api.deleter,Indexer.feed=api.feed,Indexer.flush=api.flush,Indexer.synonyms=api.synonyms,callback(err,Indexer)})};const getOptions=function(options,done){(options=Object.assign({},{appendOnly:!1,deletable:!0,batchSize:1e3,compositeField:!0,fastSort:!0,fieldedSearch:!0,fieldOptions:{},preserveCase:!1,keySeparator:"ï¿®",storeable:!0,storeDocument:!0,storeVector:!0,searchable:!0,indexPath:"si",logLevel:"ERROR",logHandler:Logger.createDefaultHandler(),nGramLength:1,nGramSeparator:" ",separator:/\s|\\n|\\u0003|[-.,<>]/,stopwords:[],weight:0,wildcard:!0},options)).log=Logger.get("search-index-adder"),options.log.setLevel(Logger[options.logLevel.toUpperCase()]),Logger.setHandler(options.logHandler),options.indexes?done(null,options):level(options.indexPath||"si",{valueEncoding:"json"},function(err,db){options.indexes=db,done(err,options)})}},{"./lib/API.js":2,"js-logger":66,level:95}],2:[function(require,module,exports){const DBEntries=require("./delete.js").DBEntries,DBWriteCleanStream=require("./replicate.js").DBWriteCleanStream,DBWriteMergeStream=require("./replicate.js").DBWriteMergeStream,DocVector=require("./delete.js").DocVector,JSONStream=require("JSONStream"),Readable=require("stream").Readable,RecalibrateDB=require("./delete.js").RecalibrateDB,IndexBatch=require("./add.js").IndexBatch,async=require("async"),del=require("./delete.js"),docProc=require("docproc"),pumpify=require("pumpify");module.exports=function(options){const q=async.queue(function(batch,done){var s;"add"===batch.operation?(s=new Readable({objectMode:!0}),batch.batch.forEach(function(doc){s.push(doc)}),s.push(null),s.pipe(Indexer.defaultPipeline(batch.batchOps)).pipe(Indexer.add()).on("finish",function(){return done()}).on("error",function(err){return done(err)})):"delete"===batch.operation&&(s=new Readable,batch.docIds.forEach(function(docId){s.push(JSON.stringify(docId))}),s.push(null),s.pipe(Indexer.deleteStream(options)).on("data",function(){}).on("end",function(){done(null)}))},1);function deleter(docIds,done){const s=new Readable;docIds.forEach(function(docId){s.push(JSON.stringify(docId))}),s.push(null),s.pipe(Indexer.deleteStream(options)).on("data",function(){}).on("end",function(){done(null)})}const Indexer={add:function(thisOps){thisOps=Object.assign(options,thisOps);return pumpify.obj(new IndexBatch(deleter,thisOps),new DBWriteMergeStream(thisOps))},concurrentAdd:function(batchOps,batch,done){q.push({batch:batch,batchOps:batchOps,operation:"add"},function(err){done(err)})},concurrentDel:function(docIds,done){q.push({docIds:docIds,operation:"delete"},function(err){done(err)})},close:function(callback){options.indexes.close(function(err){for(;!options.indexes.isClosed();)options.log.debug("closing...");options.indexes.isClosed()&&(options.log.debug("closed..."),callback(err))})},dbWriteStream:function(streamOps){return new((streamOps=Object.assign({},{merge:!0},streamOps)).merge?DBWriteMergeStream:DBWriteCleanStream)(options)},defaultPipeline:function(batchOptions){return batchOptions=Object.assign({},options,batchOptions),docProc.pipeline(batchOptions)},deleteStream:function(options){return pumpify.obj(new DocVector(options),new DBEntries(options),new RecalibrateDB(options))}};return Indexer.deleter=deleter,Indexer.feed=function(ops){return ops&&ops.objectMode?pumpify.obj(Indexer.defaultPipeline(ops),Indexer.add(ops)):pumpify(JSONStream.parse(),Indexer.defaultPipeline(ops),Indexer.add(ops))},Indexer.flush=function(APICallback){del.flush(options,function(err){return APICallback(err)})},Indexer.synonyms=function(synonyms,APICallback){var batch=[];Object.keys(synonyms).forEach(synonym=>{batch.push({key:"SYNONYM"+options.keySeparator+synonym,value:synonyms[synonym].toLowerCase(),type:"put"})}),options.indexes.batch(batch,{type:"put"},APICallback)},Indexer}},{"./add.js":3,"./delete.js":4,"./replicate.js":5,JSONStream:6,async:16,docproc:26,pumpify:115,stream:126}],3:[function(IndexBatch,module,exports){function emitIndexKeys(s){for(var key in s.deltaIndex)s.push({key:key,value:s.deltaIndex[key]});s.deltaIndex={}}function noop(_,cb){cb()}const Transform=IndexBatch("stream").Transform,util=IndexBatch("util");IndexBatch=function(deleter,options){this.batchSize=options.batchSize||1e3,this.deleter=deleter,this.fastSort=options.fastSort,this.appendOnly=options.appendOnly,this.keySeparator=options.keySeparator||"ï¿®",this.log=options.log,this.storeDocument=options.storeDocument,this.storeVector=options.storeVector,this.deltaIndex={},Transform.call(this,{objectMode:!0})};exports.IndexBatch=IndexBatch,util.inherits(IndexBatch,Transform),IndexBatch.prototype._transform=function(ingestedDoc,encoding,end){const sep=this.keySeparator,that=this,maybedelete=this.appendOnly?noop:this.deleter.bind(this.indexer);maybedelete([ingestedDoc.id],function(totalKeys){for(var fieldName in totalKeys&&that.indexer.log.info(totalKeys),that.log.info("processing doc "+ingestedDoc.id),!0===that.storeDocument&&(that.deltaIndex["DOCUMENT"+sep+ingestedDoc.id+sep]=ingestedDoc.stored),ingestedDoc.vector){for(var dfKeyName in that.deltaIndex["FIELD"+sep+fieldName]=fieldName,ingestedDoc.vector[fieldName]){var vMagnitude,tfKeyName;that.fastSort&&(vMagnitude=ingestedDoc.vector[fieldName][dfKeyName],tfKeyName="TF"+sep+fieldName+sep+dfKeyName,that.deltaIndex[tfKeyName]=that.deltaIndex[tfKeyName]||[],that.deltaIndex[tfKeyName].push([vMagnitude,ingestedDoc.id]));dfKeyName="DF"+sep+fieldName+sep+dfKeyName;that.deltaIndex[dfKeyName]=that.deltaIndex[dfKeyName]||[],that.deltaIndex[dfKeyName].push(ingestedDoc.id)}that.storeVector&&(that.deltaIndex["DOCUMENT-VECTOR"+sep+fieldName+sep+ingestedDoc.id+sep]=ingestedDoc.vector[fieldName])}totalKeys=Object.keys(that.deltaIndex).length;return totalKeys>that.batchSize&&(that.push({totalKeys:totalKeys}),that.log.info("deltaIndex is "+totalKeys+" long, emitting"),emitIndexKeys(that)),end()})},IndexBatch.prototype._flush=function(end){return emitIndexKeys(this),end()}},{stream:126,util:153}],4:[function(RecalibrateDB,module,exports){const util=RecalibrateDB("util"),Transform=RecalibrateDB("stream").Transform;exports.flush=function(options,callback){var sep=options.keySeparator,deleteOps=[];options.indexes.createKeyStream({gte:"0",lte:sep}).on("data",function(data){deleteOps.push({type:"del",key:data})}).on("error",function(err){return options.log.error(err," failed to empty index"),callback(err)}).on("end",function(){options.indexes.batch(deleteOps,callback)})};RecalibrateDB=function(options){this.options=options,Transform.call(this,{objectMode:!0})};exports.DocVector=RecalibrateDB,util.inherits(RecalibrateDB,Transform),RecalibrateDB.prototype._transform=function(docId,encoding,end){docId=JSON.parse(docId)+"";const sep=this.options.keySeparator;var that=this,docKey="DOCUMENT"+sep+docId+sep;this.options.indexes.get(docKey,function(err,val){if(err)return end();(docFields=Object.keys(val)).push("*");function pushValue(key){if(void 0===key)return that.push({key:"DOCUMENT"+sep+docId+sep,lastPass:!0}),end();that.options.indexes.get(key,function(err,val){err||that.push({key:key,value:val}),pushValue(docFields[i++])})}var docFields=docFields.map(function(item){return"DOCUMENT-VECTOR"+sep+item+sep+docId+sep}),i=0;pushValue(docFields[0])})};RecalibrateDB=function(options){this.options=options,Transform.call(this,{objectMode:!0})};exports.DBEntries=RecalibrateDB,util.inherits(RecalibrateDB,Transform),RecalibrateDB.prototype._transform=function(vector,encoding,end){if(!0===vector.lastPass)return this.push({key:vector.key}),end();const sep=this.options.keySeparator;var that=this,field=vector.key.split(sep)[1],docId=vector.key.split(sep)[2],vectorKeys=Object.keys(vector.value),i=0,pushRecalibrationvalues=function(vec){if(that.push({key:"TF"+sep+field+sep+vectorKeys[i],value:docId}),that.push({key:"DF"+sep+field+sep+vectorKeys[i],value:docId}),++i===vectorKeys.length)return that.push({key:vector.key}),end();pushRecalibrationvalues(vector[vectorKeys[i]])};pushRecalibrationvalues(vector[vectorKeys[0]])};RecalibrateDB=function(options){this.options=options,this.batch=[],Transform.call(this,{objectMode:!0})};exports.RecalibrateDB=RecalibrateDB,util.inherits(RecalibrateDB,Transform),RecalibrateDB.prototype._transform=function(dbEntry,encoding,end){const sep=this.options.keySeparator;var that=this;this.options.indexes.get(dbEntry.key,function(dbInstruction,value){dbInstruction&&that.options.log.info(dbInstruction),value=value||[];var docId=dbEntry.value+"",dbInstruction={};return dbInstruction.key=dbEntry.key,dbEntry.key.substring(0,3)==="TF"+sep?(dbInstruction.value=value.filter(function(item){return item[1]!==docId}),0===dbInstruction.value.length?dbInstruction.type="del":dbInstruction.type="put",that.batch.push(dbInstruction),end()):dbEntry.key.substring(0,3)==="DF"+sep?(value.splice(value.indexOf(docId),1),dbInstruction.value=value,0===dbInstruction.value.length?dbInstruction.type="del":dbInstruction.type="put",that.batch.push(dbInstruction),end()):dbEntry.key.substring(0,16)==="DOCUMENT-VECTOR"+sep?(dbInstruction.type="del",that.batch.push(dbInstruction),end()):void(dbEntry.key.substring(0,9)==="DOCUMENT"+sep&&(dbInstruction.type="del",that.batch.push(dbInstruction),that.options.indexes.batch(that.batch,function(err){return that.batch=[],end()})))})}},{stream:126,util:153}],5:[function(DBWriteCleanStream,module,exports){const Transform=DBWriteCleanStream("stream").Transform,Writable=DBWriteCleanStream("stream").Writable,util=DBWriteCleanStream("util");DBWriteCleanStream=function(options){this.options=options,Writable.call(this,{objectMode:!0})};exports.DBWriteMergeStream=DBWriteCleanStream,util.inherits(DBWriteCleanStream,Writable),DBWriteCleanStream.prototype._write=function(data,encoding,end){if(data.totalKeys)return end();const sep=this.options.keySeparator;var that=this;this.options.indexes.get(data.key,function(err,newVal){newVal=data.key.substring(0,3)==="TF"+sep?data.value.concat(newVal||[]).sort(function(a,b){return a[0]<b[0]?1:a[0]>b[0]?-1:a[1]<b[1]?1:a[1]>b[1]?-1:0}):data.key.substring(0,3)==="DF"+sep?data.value.concat(newVal||[]).sort():"DOCUMENT-COUNT"===data.key?+newVal+(+data.value||0):data.value;that.options.indexes.put(data.key,newVal,function(err){end()})})};DBWriteCleanStream=function(options){this.currentBatch=[],this.options=options,Transform.call(this,{objectMode:!0})};util.inherits(DBWriteCleanStream,Transform),DBWriteCleanStream.prototype._transform=function(data,encoding,end){var that=this;this.currentBatch.push(data),this.currentBatch.length%this.options.batchSize==0?this.options.indexes.batch(this.currentBatch,function(err){that.currentBatch=[],end()}):end()},DBWriteCleanStream.prototype._flush=function(end){this.options.indexes.batch(this.currentBatch,function(err){end()})},exports.DBWriteCleanStream=DBWriteCleanStream},{stream:126,util:153}],6:[function(require,module,exports){!function(process,Buffer){!function(){"use strict";var Parser=require("jsonparse"),through=require("through");function check(x,y){return"string"==typeof x?y==x:x&&"function"==typeof x.exec?x.exec(y):"boolean"==typeof x||"object"==typeof x?x:"function"==typeof x&&x(y)}exports.parse=function(path,map){var header,footer,parser=new Parser,stream=through(function(chunk){"string"==typeof chunk&&(chunk=new Buffer(chunk)),parser.write(chunk)},function(data){data&&stream.write(data),header&&stream.emit("header",header),footer&&stream.emit("footer",footer),stream.queue(null)});"string"==typeof path&&(path=path.split(".").map(function(e){return"$*"===e?{emitKey:!0}:"*"===e||(""===e?{recurse:!0}:e)}));return path&&path.length||(path=null),parser.onValue=function(value){if(this.root||(stream.root=value),path){for(var i=0,j=0,emitKey=!1,emitPath=!1;i<path.length;){var c,key=path[i];if(j++,key&&!key.recurse){if(!(c=j===this.stack.length?this:this.stack[j]))return;if(!check(key,c.key))return void setHeaderFooter(c.key,value);emitKey=!!key.emitKey,emitPath=!!key.emitPath,i++}else{var nextKey=path[++i];if(!nextKey)return;for(;;){if(!(c=j===this.stack.length?this:this.stack[j]))return;if(check(nextKey,c.key)){i++,Object.isFrozen(this.stack[j])||(this.stack[j].value=null);break}setHeaderFooter(c.key,value),j++}}}if(header&&(stream.emit("header",header),header=!1),j===this.stack.length){0;var k,actualPath=this.stack.slice(1).map(function(element){return element.key}).concat([this.key]),data=this.value[this.key];for(k in null!=data&&null!=(data=map?map(data,actualPath):data)&&((emitKey||emitPath)&&(data={value:data},emitKey&&(data.key=this.key),emitPath&&(data.path=actualPath)),stream.queue(data)),delete this.value[this.key],this.stack)Object.isFrozen(this.stack[k])||(this.stack[k].value=null)}}},parser._onToken=parser.onToken,parser.onToken=function(token,value){parser._onToken(token,value),0===this.stack.length&&stream.root&&(path||stream.queue(stream.root),stream.root=null)},parser.onError=function(err){-1<err.message.indexOf("at position")&&(err.message="Invalid JSON ("+err.message+")"),stream.emit("error",err)},stream;function setHeaderFooter(key,value){!1!==header&&((header=header||{})[key]=value),!1!==footer&&!1===header&&((footer=footer||{})[key]=value)}},exports.stringify=function(op,sep,cl,indent){indent=indent||0,!1===op?(sep="\n",cl=op=""):null==op&&(op="[\n",sep="\n,\n",cl="\n]\n");var first=!0,anyData=!1,stream=through(function(data){anyData=!0;try{var json=JSON.stringify(data,null,indent)}catch(err){return stream.emit("error",err)}first?(first=!1,stream.queue(op+json)):stream.queue(sep+json)},function(data){anyData||stream.queue(op),stream.queue(cl),stream.queue(null)});return stream},exports.stringifyObject=function(op,sep,cl,indent){indent=indent||0,!1===op?(sep="\n",cl=op=""):null==op&&(op="{\n",sep="\n,\n",cl="\n}\n");var first=!0,anyData=!1;return through(function(json){anyData=!0;json=JSON.stringify(json[0])+":"+JSON.stringify(json[1],null,indent);first?(first=!1,this.queue(op+json)):this.queue(sep+json)},function(data){anyData||this.queue(op),this.queue(cl),this.queue(null)})},module.parent||"browser"===process.title||process.stdin.pipe(exports.parse(process.argv[2])).pipe(exports.stringify("[",",\n","]\n",2)).pipe(process.stdout)}.call(this)}.call(this,require("_process"),require("buffer").Buffer)},{_process:112,buffer:20,jsonparse:67,through:148}],7:[function(nextTick,module,exports){nextTick=nextTick("./next-tick");function AbstractChainedBatch(db){if("object"!=typeof db||null===db)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=db,this._operations=[],this._written=!1}AbstractChainedBatch.prototype._checkWritten=function(){if(this._written)throw new Error("write() already called on this batch")},AbstractChainedBatch.prototype.put=function(key,value){this._checkWritten();var err=this.db._checkKey(key)||this.db._checkValue(value);if(err)throw err;return key=this.db._serializeKey(key),value=this.db._serializeValue(value),this._put(key,value),this},AbstractChainedBatch.prototype._put=function(key,value){this._operations.push({type:"put",key:key,value:value})},AbstractChainedBatch.prototype.del=function(key){this._checkWritten();var err=this.db._checkKey(key);if(err)throw err;return key=this.db._serializeKey(key),this._del(key),this},AbstractChainedBatch.prototype._del=function(key){this._operations.push({type:"del",key:key})},AbstractChainedBatch.prototype.clear=function(){return this._checkWritten(),this._clear(),this},AbstractChainedBatch.prototype._clear=function(){this._operations=[]},AbstractChainedBatch.prototype.write=function(options,callback){if(this._checkWritten(),"function"!=typeof(callback="function"==typeof options?options:callback))throw new Error("write() requires a callback argument");"object"==typeof options&&null!==options||(options={}),this._written=!0,this._write(options,callback)},AbstractChainedBatch.prototype._write=function(options,callback){this.db._batch(this._operations,options,callback)},AbstractChainedBatch.prototype._nextTick=nextTick,module.exports=AbstractChainedBatch},{"./next-tick":11}],8:[function(require,module,exports){var nextTick=require("./next-tick");function AbstractIterator(db){if("object"!=typeof db||null===db)throw new TypeError("First argument must be an abstract-leveldown compliant store");this.db=db,this._ended=!1,this._nexting=!1}AbstractIterator.prototype.next=function(callback){var self=this;if("function"!=typeof callback)throw new Error("next() requires a callback argument");return self._ended?nextTick(callback,new Error("cannot call next() after end()")):self._nexting?nextTick(callback,new Error("cannot call next() before previous next() has completed")):(self._nexting=!0,self._next(function(){self._nexting=!1,callback.apply(null,arguments)})),self},AbstractIterator.prototype._next=function(callback){nextTick(callback)},AbstractIterator.prototype.seek=function(target){if(this._ended)throw new Error("cannot call seek() after end()");if(this._nexting)throw new Error("cannot call seek() before next() has completed");target=this.db._serializeKey(target),this._seek(target)},AbstractIterator.prototype._seek=function(target){},AbstractIterator.prototype.end=function(callback){if("function"!=typeof callback)throw new Error("end() requires a callback argument");if(this._ended)return nextTick(callback,new Error("end() already called on iterator"));this._ended=!0,this._end(callback)},AbstractIterator.prototype._end=function(callback){nextTick(callback)},AbstractIterator.prototype._nextTick=nextTick,module.exports=AbstractIterator},{"./next-tick":11}],9:[function(require,module,exports){var xtend=require("xtend"),supports=require("level-supports"),Buffer=require("buffer").Buffer,AbstractIterator=require("./abstract-iterator"),AbstractChainedBatch=require("./abstract-chained-batch"),nextTick=require("./next-tick"),hasOwnProperty=Object.prototype.hasOwnProperty,rangeOptions="start end gt gte lt lte".split(" ");function AbstractLevelDOWN(manifest){this.status="new",this.supports=supports(manifest,{status:!0})}function cleanRangeOptions(db,options){var k,opt,result={};for(k in options)hasOwnProperty.call(options,k)&&(opt=options[k],function(k){return-1!==rangeOptions.indexOf(k)}(k)&&(opt=db._serializeKey(opt)),result[k]=opt);return result}AbstractLevelDOWN.prototype.open=function(options,callback){var self=this,oldStatus=this.status;if("function"!=typeof(callback="function"==typeof options?options:callback))throw new Error("open() requires a callback argument");(options="object"!=typeof options||null===options?{}:options).createIfMissing=!1!==options.createIfMissing,options.errorIfExists=!!options.errorIfExists,this.status="opening",this._open(options,function(err){return err?(self.status=oldStatus,callback(err)):(self.status="open",void callback())})},AbstractLevelDOWN.prototype._open=function(options,callback){nextTick(callback)},AbstractLevelDOWN.prototype.close=function(callback){var self=this,oldStatus=this.status;if("function"!=typeof callback)throw new Error("close() requires a callback argument");this.status="closing",this._close(function(err){return err?(self.status=oldStatus,callback(err)):(self.status="closed",void callback())})},AbstractLevelDOWN.prototype._close=function(callback){nextTick(callback)},AbstractLevelDOWN.prototype.get=function(key,options,callback){if("function"!=typeof(callback="function"==typeof options?options:callback))throw new Error("get() requires a callback argument");var err=this._checkKey(key);if(err)return nextTick(callback,err);key=this._serializeKey(key),(options="object"!=typeof options||null===options?{}:options).asBuffer=!1!==options.asBuffer,this._get(key,options,callback)},AbstractLevelDOWN.prototype._get=function(key,options,callback){nextTick(function(){callback(new Error("NotFound"))})},AbstractLevelDOWN.prototype.put=function(key,value,options,callback){if("function"!=typeof(callback="function"==typeof options?options:callback))throw new Error("put() requires a callback argument");var err=this._checkKey(key)||this._checkValue(value);if(err)return nextTick(callback,err);key=this._serializeKey(key),value=this._serializeValue(value),this._put(key,value,options="object"!=typeof options||null===options?{}:options,callback)},AbstractLevelDOWN.prototype._put=function(key,value,options,callback){nextTick(callback)},AbstractLevelDOWN.prototype.del=function(key,options,callback){if("function"!=typeof(callback="function"==typeof options?options:callback))throw new Error("del() requires a callback argument");var err=this._checkKey(key);if(err)return nextTick(callback,err);key=this._serializeKey(key),this._del(key,options="object"!=typeof options||null===options?{}:options,callback)},AbstractLevelDOWN.prototype._del=function(key,options,callback){nextTick(callback)},AbstractLevelDOWN.prototype.batch=function(array,options,callback){if(!arguments.length)return this._chainedBatch();if("function"==typeof options&&(callback=options),"function"!=typeof(callback="function"==typeof array?array:callback))throw new Error("batch(array) requires a callback argument");if(!Array.isArray(array))return nextTick(callback,new Error("batch(array) requires an array argument"));if(0===array.length)return nextTick(callback);"object"==typeof options&&null!==options||(options={});for(var serialized=new Array(array.length),i=0;i<array.length;i++){if("object"!=typeof array[i]||null===array[i])return nextTick(callback,new Error("batch(array) element must be an object and not `null`"));var e=xtend(array[i]);if("put"!==e.type&&"del"!==e.type)return nextTick(callback,new Error("`type` must be 'put' or 'del'"));var valueErr=this._checkKey(e.key);if(valueErr)return nextTick(callback,valueErr);if(e.key=this._serializeKey(e.key),"put"===e.type){valueErr=this._checkValue(e.value);if(valueErr)return nextTick(callback,valueErr);e.value=this._serializeValue(e.value)}serialized[i]=e}this._batch(serialized,options,callback)},AbstractLevelDOWN.prototype._batch=function(array,options,callback){nextTick(callback)},AbstractLevelDOWN.prototype.clear=function(options,callback){if("function"==typeof options)callback=options;else if("function"!=typeof callback)throw new Error("clear() requires a callback argument");(options=cleanRangeOptions(this,options)).reverse=!!options.reverse,options.limit="limit"in options?options.limit:-1,this._clear(options,callback)},AbstractLevelDOWN.prototype._clear=function(options,callback){options.keys=!0,options.values=!1,options.keyAsBuffer=!0,options.valueAsBuffer=!0;var iterator=this._iterator(options),emptyOptions={},self=this,next=function(err){if(err)return iterator.end(function(){callback(err)});iterator.next(function(err,key){return err?next(err):void 0===key?iterator.end(callback):void self._del(key,emptyOptions,next)})};next()},AbstractLevelDOWN.prototype._setupIteratorOptions=function(options){return(options=cleanRangeOptions(this,options)).reverse=!!options.reverse,options.keys=!1!==options.keys,options.values=!1!==options.values,options.limit="limit"in options?options.limit:-1,options.keyAsBuffer=!1!==options.keyAsBuffer,options.valueAsBuffer=!1!==options.valueAsBuffer,options},AbstractLevelDOWN.prototype.iterator=function(options){return options=this._setupIteratorOptions(options="object"!=typeof options||null===options?{}:options),this._iterator(options)},AbstractLevelDOWN.prototype._iterator=function(options){return new AbstractIterator(this)},AbstractLevelDOWN.prototype._chainedBatch=function(){return new AbstractChainedBatch(this)},AbstractLevelDOWN.prototype._serializeKey=function(key){return key},AbstractLevelDOWN.prototype._serializeValue=function(value){return value},AbstractLevelDOWN.prototype._checkKey=function(key){return null==key?new Error("key cannot be `null` or `undefined`"):Buffer.isBuffer(key)&&0===key.length?new Error("key cannot be an empty Buffer"):""===key?new Error("key cannot be an empty String"):Array.isArray(key)&&0===key.length?new Error("key cannot be an empty Array"):void 0},AbstractLevelDOWN.prototype._checkValue=function(value){if(null==value)return new Error("value cannot be `null` or `undefined`")},AbstractLevelDOWN.prototype._nextTick=nextTick,module.exports=AbstractLevelDOWN},{"./abstract-chained-batch":7,"./abstract-iterator":8,"./next-tick":11,buffer:20,"level-supports":92,xtend:157}],10:[function(require,module,exports){exports.AbstractLevelDOWN=require("./abstract-leveldown"),exports.AbstractIterator=require("./abstract-iterator"),exports.AbstractChainedBatch=require("./abstract-chained-batch")},{"./abstract-chained-batch":7,"./abstract-iterator":8,"./abstract-leveldown":9}],11:[function(require,module,exports){module.exports=require("immediate")},{immediate:53}],12:[function(require,module,exports){!function(global){!function(){"use strict";var objectAssign=require("object-assign");function compare(a,b){if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0}function isBuffer(b){return global.Buffer&&"function"==typeof global.Buffer.isBuffer?global.Buffer.isBuffer(b):!(null==b||!b._isBuffer)}var util=require("util/"),hasOwn=Object.prototype.hasOwnProperty,pSlice=Array.prototype.slice,functionsHaveNames="foo"===function(){}.name;function pToString(obj){return Object.prototype.toString.call(obj)}function isView(arrbuf){return!isBuffer(arrbuf)&&("function"==typeof global.ArrayBuffer&&("function"==typeof ArrayBuffer.isView?ArrayBuffer.isView(arrbuf):arrbuf&&(arrbuf instanceof DataView||!!(arrbuf.buffer&&arrbuf.buffer instanceof ArrayBuffer))))}var assert=module.exports=ok,regex=/\s*function\s+([^\(\s]*)\s*/;function getName(match){if(util.isFunction(match)){if(functionsHaveNames)return match.name;match=match.toString().match(regex);return match&&match[1]}}function truncate(s,n){return"string"!=typeof s||s.length<n?s:s.slice(0,n)}function inspect(rawname){if(functionsHaveNames||!util.isFunction(rawname))return util.inspect(rawname);rawname=getName(rawname);return"[Function"+(rawname?": "+rawname:"")+"]"}function fail(actual,expected,message,operator,stackStartFunction){throw new assert.AssertionError({message:message,actual:actual,expected:expected,operator:operator,stackStartFunction:stackStartFunction})}function ok(value,message){value||fail(value,!0,message,"==",assert.ok)}function _deepEqual(actual,expected,strict,memos){if(actual===expected)return!0;if(isBuffer(actual)&&isBuffer(expected))return 0===compare(actual,expected);if(util.isDate(actual)&&util.isDate(expected))return actual.getTime()===expected.getTime();if(util.isRegExp(actual)&&util.isRegExp(expected))return actual.source===expected.source&&actual.global===expected.global&&actual.multiline===expected.multiline&&actual.lastIndex===expected.lastIndex&&actual.ignoreCase===expected.ignoreCase;if(null!==actual&&"object"==typeof actual||null!==expected&&"object"==typeof expected){if(isView(actual)&&isView(expected)&&pToString(actual)===pToString(expected)&&!(actual instanceof Float32Array||actual instanceof Float64Array))return 0===compare(new Uint8Array(actual.buffer),new Uint8Array(expected.buffer));if(isBuffer(actual)!==isBuffer(expected))return!1;var actualIndex=(memos=memos||{actual:[],expected:[]}).actual.indexOf(actual);return-1!==actualIndex&&actualIndex===memos.expected.indexOf(expected)||(memos.actual.push(actual),memos.expected.push(expected),function(a,b,strict,actualVisitedObjects){if(null==a||null==b)return!1;if(util.isPrimitive(a)||util.isPrimitive(b))return a===b;if(strict&&Object.getPrototypeOf(a)!==Object.getPrototypeOf(b))return!1;var aIsArgs=isArguments(a),bIsArgs=isArguments(b);if(aIsArgs&&!bIsArgs||!aIsArgs&&bIsArgs)return!1;if(aIsArgs)return a=pSlice.call(a),b=pSlice.call(b),_deepEqual(a,b,strict);var key,i,ka=objectKeys(a),kb=objectKeys(b);if(ka.length!==kb.length)return!1;for(ka.sort(),kb.sort(),i=ka.length-1;0<=i;i--)if(ka[i]!==kb[i])return!1;for(i=ka.length-1;0<=i;i--)if(key=ka[i],!_deepEqual(a[key],b[key],strict,actualVisitedObjects))return!1;return!0}(actual,expected,strict,memos))}return strict?actual===expected:actual==expected}function isArguments(object){return"[object Arguments]"==Object.prototype.toString.call(object)}function expectedException(actual,expected){if(actual&&expected){if("[object RegExp]"==Object.prototype.toString.call(expected))return expected.test(actual);try{if(actual instanceof expected)return 1}catch(e){}return Error.isPrototypeOf(expected)?void 0:!0===expected.call({},actual)}}function _throws(shouldThrow,isUnexpectedException,expected,message){var actual;if("function"!=typeof isUnexpectedException)throw new TypeError('"block" argument must be a function');"string"==typeof expected&&(message=expected,expected=null),actual=function(block){var error;try{block()}catch(e){error=e}return error}(isUnexpectedException),message=(expected&&expected.name?" ("+expected.name+").":".")+(message?" "+message:"."),shouldThrow&&!actual&&fail(actual,expected,"Missing expected exception"+message);var userProvidedMessage="string"==typeof message,isUnexpectedException=!shouldThrow&&actual&&!expected;if((!shouldThrow&&util.isError(actual)&&userProvidedMessage&&expectedException(actual,expected)||isUnexpectedException)&&fail(actual,expected,"Got unwanted exception"+message),shouldThrow&&actual&&expected&&!expectedException(actual,expected)||!shouldThrow&&actual)throw actual}assert.AssertionError=function(out){this.name="AssertionError",this.actual=out.actual,this.expected=out.expected,this.operator=out.operator,out.message?(this.message=out.message,this.generatedMessage=!1):(this.message=truncate(inspect((next_line=this).actual),128)+" "+next_line.operator+" "+truncate(inspect(next_line.expected),128),this.generatedMessage=!0);var next_line=out.stackStartFunction||fail;Error.captureStackTrace?Error.captureStackTrace(this,next_line):(out=new Error).stack&&(out=out.stack,next_line=getName(next_line),0<=(next_line=out.indexOf("\n"+next_line))&&(next_line=out.indexOf("\n",next_line+1),out=out.substring(next_line+1)),this.stack=out)},util.inherits(assert.AssertionError,Error),assert.fail=fail,assert.ok=ok,assert.equal=function(actual,expected,message){actual!=expected&&fail(actual,expected,message,"==",assert.equal)},assert.notEqual=function(actual,expected,message){actual==expected&&fail(actual,expected,message,"!=",assert.notEqual)},assert.deepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)||fail(actual,expected,message,"deepEqual",assert.deepEqual)},assert.deepStrictEqual=function(actual,expected,message){_deepEqual(actual,expected,!0)||fail(actual,expected,message,"deepStrictEqual",assert.deepStrictEqual)},assert.notDeepEqual=function(actual,expected,message){_deepEqual(actual,expected,!1)&&fail(actual,expected,message,"notDeepEqual",assert.notDeepEqual)},assert.notDeepStrictEqual=function notDeepStrictEqual(actual,expected,message){_deepEqual(actual,expected,!0)&&fail(actual,expected,message,"notDeepStrictEqual",notDeepStrictEqual)},assert.strictEqual=function(actual,expected,message){actual!==expected&&fail(actual,expected,message,"===",assert.strictEqual)},assert.notStrictEqual=function(actual,expected,message){actual===expected&&fail(actual,expected,message,"!==",assert.notStrictEqual)},assert.throws=function(block,error,message){_throws(!0,block,error,message)},assert.doesNotThrow=function(block,error,message){_throws(!1,block,error,message)},assert.ifError=function(err){if(err)throw err},assert.strict=objectAssign(function strict(value,message){value||fail(value,!0,message,"==",strict)},assert,{equal:assert.strictEqual,deepEqual:assert.deepStrictEqual,notEqual:assert.notStrictEqual,notDeepEqual:assert.notDeepStrictEqual}),assert.strict.strict=assert.strict;var objectKeys=Object.keys||function(obj){var key,keys=[];for(key in obj)hasOwn.call(obj,key)&&keys.push(key);return keys}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"object-assign":109,"util/":15}],13:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}})}:module.exports=function(ctor,superCtor){ctor.super_=superCtor;function TempCtor(){}TempCtor.prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor}},{}],14:[function(require,module,exports){module.exports=function(arg){return arg&&"object"==typeof arg&&"function"==typeof arg.copy&&"function"==typeof arg.fill&&"function"==typeof arg.readUInt8}},{}],15:[function(require,module,exports){!function(process,global){!function(){var formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(len<=i)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])null!==x&&isObject(x)?str+=" "+inspect(x):str+=" "+x;return str},exports.deprecate=function(fn,msg){if(void 0===global.process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};if(!0===process.noDeprecation)return fn;var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnviron,debugs={};function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(ctx.depth=arguments[2]),4<=arguments.length&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),void 0===ctx.showHidden&&(ctx.showHidden=!1),void 0===ctx.depth&&(ctx.depth=2),void 0===ctx.colors&&(ctx.colors=!1),void 0===ctx.customInspect&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,style){style=inspect.styles[style];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var output=value.inspect(recurseTimes,ctx);return output=!isString(output)?formatValue(ctx,output,recurseTimes):output}var base=function(ctx,value){if(void 0===value)return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):null===value?ctx.stylize("null","null"):void 0}(ctx,value);if(base)return base;var output=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(output);if(ctx.showHidden&&(output=Object.getOwnPropertyNames(value)),isError(value)&&(0<=output.indexOf("message")||0<=output.indexOf("description")))return formatError(value);if(0===output.length){if(isFunction(value)){var braces=value.name?": "+value.name:"";return ctx.stylize("[Function"+braces+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];return isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)&&(base=" [Function"+(value.name?": "+value.name:"")+"]"),isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==output.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,output):output.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function(output,base,braces){if(60<output.reduce(function(prev,cur){return 0<=cur.indexOf("\n")&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0))return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,desc,recurseTimes,visibleKeys,key,array){var name,str,desc=Object.getOwnPropertyDescriptor(desc,key)||{value:desc[key]};if(desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?-1<(str=formatValue(ctx,desc.value,null===recurseTimes?null:recurseTimes-1)).indexOf("\n")&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),void 0===name){if(array&&key.match(/^\d+$/))return str;name=(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}exports.debuglog=function(set){var pid;return void 0===debugEnviron&&(debugEnviron=process.env.NODE_DEBUG||""),set=set.toUpperCase(),debugs[set]||(new RegExp("\\b"+set+"\\b","i").test(debugEnviron)?(pid=process.pid,debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}):debugs[set]=function(){}),debugs[set]},(exports.inspect=inspect).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.isError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){var d,time;console.log("%s - %s",(d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":"),[d.getDate(),months[d.getMonth()],time].join(" ")),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin}}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./support/isBuffer":14,_process:112,inherits:13}],16:[function(require,module,exports){!function(process,global,setImmediate){!function(){!function(global,factory){factory("object"==typeof exports&&void 0!==module?exports:global.async=global.async||{})}(this,function(exports){"use strict";function slice(arrayLike,start){start|=0;for(var newLen=Math.max(arrayLike.length-start,0),newArr=Array(newLen),idx=0;idx<newLen;idx++)newArr[idx]=arrayLike[start+idx];return newArr}function initialParams(fn){return function(){var args=slice(arguments),callback=args.pop();fn.call(this,args,callback)}}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}var waterfall="function"==typeof setImmediate&&setImmediate,timesSeries="object"==typeof process&&"function"==typeof process.nextTick;function fallback(fn){setTimeout(fn,0)}function wrap(defer){return function(fn){var args=slice(arguments,1);defer(function(){fn.apply(null,args)})}}var setImmediate$1=wrap(waterfall?setImmediate:timesSeries?process.nextTick:fallback);function asyncify(func){return initialParams(function(args,callback){var result;try{result=func.apply(this,args)}catch(e){return callback(e)}isObject(result)&&"function"==typeof result.then?result.then(function(value){invokeCallback(callback,null,value)},function(err){invokeCallback(callback,err.message?err:new Error(err))}):callback(null,result)})}function invokeCallback(callback,error,value){try{callback(error,value)}catch(e){setImmediate$1(rethrow,e)}}function rethrow(error){throw error}var supportsSymbol="function"==typeof Symbol;function isAsync(fn){return supportsSymbol&&"AsyncFunction"===fn[Symbol.toStringTag]}function wrapAsync(asyncFn){return isAsync(asyncFn)?asyncify(asyncFn):asyncFn}function applyEach$1(eachfn){return function(fns){var args=slice(arguments,1),go=initialParams(function(args,callback){var that=this;return eachfn(fns,function(fn,cb){wrapAsync(fn).apply(that,args.concat(cb))},callback)});return args.length?go.apply(this,args):go}}var groupBySeries="object"==typeof global&&global&&global.Object===Object&&global,dir="object"==typeof self&&self&&self.Object===Object&&self,filterLimit=groupBySeries||dir||Function("return this")(),mapValuesSeries=filterLimit.Symbol,every=Object.prototype,hasOwnProperty=every.hasOwnProperty,nativeObjectToString=every.toString,symToStringTag$1=mapValuesSeries?mapValuesSeries.toStringTag:void 0;var nativeObjectToString$1=Object.prototype.toString;var nullTag="[object Null]",undefinedTag="[object Undefined]",symToStringTag=mapValuesSeries?mapValuesSeries.toStringTag:void 0;function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:(value=Object(value),(symToStringTag&&symToStringTag in value?function(value){var isOwn=hasOwnProperty.call(value,symToStringTag$1),tag=value[symToStringTag$1];try{var unmasked=!(value[symToStringTag$1]=void 0)}catch(e){}var result=nativeObjectToString.call(value);return unmasked&&(isOwn?value[symToStringTag$1]=tag:delete value[symToStringTag$1]),result}:function(value){return nativeObjectToString$1.call(value)})(value))}var asyncTag="[object AsyncFunction]",funcTag="[object Function]",genTag="[object GeneratorFunction]",proxyTag="[object Proxy]";var MAX_SAFE_INTEGER=9007199254740991;function isLength(value){return"number"==typeof value&&-1<value&&value%1==0&&value<=MAX_SAFE_INTEGER}function isArrayLike(value){return null!=value&&isLength(value.length)&&!function(tag){if(isObject(tag)){tag=baseGetTag(tag);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}}(value)}var breakLoop={};function noop(){}function once(fn){return function(){var callFn;null!==fn&&(callFn=fn,fn=null,callFn.apply(this,arguments))}}function getIterator(coll){return iteratorSymbol&&coll[iteratorSymbol]&&coll[iteratorSymbol]()}var iteratorSymbol="function"==typeof Symbol&&Symbol.iterator;function isObjectLike(value){return null!=value&&"object"==typeof value}function baseIsArguments(value){return isObjectLike(value)&&"[object Arguments]"==baseGetTag(value)}var everyLimit=Object.prototype,hasOwnProperty$2=everyLimit.hasOwnProperty,propertyIsEnumerable=everyLimit.propertyIsEnumerable,isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty$2.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;var filter="object"==typeof exports&&exports&&!exports.nodeType&&exports,everySeries=filter&&"object"==typeof module&&module&&!module.nodeType&&module,filterSeries=everySeries&&everySeries.exports===filter?filterLimit.Buffer:void 0,isBuffer=(filterSeries?filterSeries.isBuffer:void 0)||function(){return!1},reIsUint=/^(?:0|[1-9]\d*)$/;var typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags["[object Arguments]"]=typedArrayTags["[object Array]"]=typedArrayTags["[object ArrayBuffer]"]=typedArrayTags["[object Boolean]"]=typedArrayTags["[object DataView]"]=typedArrayTags["[object Date]"]=typedArrayTags["[object Error]"]=typedArrayTags["[object Function]"]=typedArrayTags["[object Map]"]=typedArrayTags["[object Number]"]=typedArrayTags["[object Object]"]=typedArrayTags["[object RegExp]"]=typedArrayTags["[object Set]"]=typedArrayTags["[object String]"]=typedArrayTags["[object WeakMap]"]=!1;var func,groupBy="object"==typeof exports&&exports&&!exports.nodeType&&exports,groupByLimit=groupBy&&"object"==typeof module&&module&&!module.nodeType&&module,freeProcess=groupByLimit&&groupByLimit.exports===groupBy&&groupBySeries.process,log=function(){try{return freeProcess&&freeProcess.binding("util")}catch(e){}}(),mapValues=log&&log.isTypedArray,isTypedArray=mapValues?(func=mapValues,function(value){return func(value)}):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]},hasOwnProperty$1=Object.prototype.hasOwnProperty;function arrayLikeKeys(value,inherited){var key,isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length;for(key in value)!inherited&&!hasOwnProperty$1.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||function(value,length){return(length=null==length?9007199254740991:length)&&("number"==typeof value||reIsUint.test(value))&&-1<value&&value%1==0&&value<length}(key,length))||result.push(key);return result}var objectProto$5=Object.prototype;var nativeKeys=function(func,transform){return function(arg){return func(transform(arg))}}(Object.keys,Object),hasOwnProperty$3=Object.prototype.hasOwnProperty;function baseKeys(object){if(Ctor=(value=object)&&value.constructor,value!==("function"==typeof Ctor&&Ctor.prototype||objectProto$5))return nativeKeys(object);var value,Ctor,key,result=[];for(key in Object(object))hasOwnProperty$3.call(object,key)&&"constructor"!=key&&result.push(key);return result}function keys(object){return(isArrayLike(object)?arrayLikeKeys:baseKeys)(object)}function iterator(coll){if(isArrayLike(coll))return function(coll){var i=-1,len=coll.length;return function(){return++i<len?{value:coll[i],key:i}:null}}(coll);var obj,okeys,i,len,iterator=getIterator(coll);return iterator?function(iterator){var i=-1;return function(){var item=iterator.next();return item.done?null:(i++,{value:item.value,key:i})}}(iterator):(okeys=keys(obj=coll),i=-1,len=okeys.length,function(){var key=okeys[++i];return i<len?{value:obj[key],key:key}:null})}function onlyOnce(fn){return function(){if(null===fn)throw new Error("Callback was already called.");var callFn=fn;fn=null,callFn.apply(this,arguments)}}function _eachOfLimit(limit){return function(obj,iteratee,callback){if(callback=once(callback||noop),limit<=0||!obj)return callback(null);var nextElem=iterator(obj),done=!1,running=0;function iterateeCallback(err,value){if(--running,err)done=!0,callback(err);else{if(value===breakLoop||done&&running<=0)return done=!0,callback(null);replenish()}}function replenish(){for(;running<limit&&!done;){var elem=nextElem();if(null===elem)return done=!0,void(running<=0&&callback(null));running+=1,iteratee(elem.value,elem.key,onlyOnce(iterateeCallback))}}replenish()}}function eachOfLimit(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,wrapAsync(iteratee),callback)}function doLimit(fn,limit){return function(iterable,iteratee,callback){return fn(iterable,limit,iteratee,callback)}}function eachOfArrayLike(coll,iteratee,callback){callback=once(callback||noop);var index=0,completed=0,length=coll.length;function iteratorCallback(err,value){err?callback(err):++completed!==length&&value!==breakLoop||callback(null)}for(0===length&&callback(null);index<length;index++)iteratee(coll[index],index,onlyOnce(iteratorCallback))}function eachOf(coll,iteratee,callback){(isArrayLike(coll)?eachOfArrayLike:eachOfGeneric)(coll,wrapAsync(iteratee),callback)}var eachOfGeneric=doLimit(eachOfLimit,1/0);function doParallel(fn){return function(obj,iteratee,callback){return fn(eachOf,obj,wrapAsync(iteratee),callback)}}function _asyncMap(eachfn,arr,iteratee,callback){callback=callback||noop,arr=arr||[];var results=[],counter=0,_iteratee=wrapAsync(iteratee);eachfn(arr,function(value,_,callback){var index=counter++;_iteratee(value,function(err,v){results[index]=v,callback(err)})},function(err){callback(err,results)})}var map=doParallel(_asyncMap),applyEach=applyEach$1(map);function doParallelLimit(fn){return function(obj,limit,iteratee,callback){return fn(_eachOfLimit(limit),obj,wrapAsync(iteratee),callback)}}function apply(fn){var args=slice(arguments,1);return function(){var callArgs=slice(arguments);return fn.apply(null,args.concat(callArgs))}}var mapLimit=doParallelLimit(_asyncMap),mapSeries=doLimit(mapLimit,1),applyEachSeries=applyEach$1(mapSeries);function arrayEach(array,iteratee){for(var index=-1,length=null==array?0:array.length;++index<length&&!1!==iteratee(array[index],index,array););return array}var fromRight,baseFor=function(object,iteratee,keysFunc){for(var index=-1,iterable=Object(object),props=keysFunc(object),length=props.length;length--;){var key=props[fromRight?length:++index];if(!1===iteratee(iterable[key],key,iterable))break}return object};function baseForOwn(object,iteratee){return object&&baseFor(object,iteratee,keys)}function baseIsNaN(value){return value!=value}function baseIndexOf(array,value,fromIndex){return value==value?function(array,value,fromIndex){for(var index=fromIndex-1,length=array.length;++index<length;)if(array[index]===value)return index;return-1}(array,value,fromIndex):function(array,predicate,fromIndex,fromRight){for(var length=array.length,index=fromIndex+(fromRight?1:-1);fromRight?index--:++index<length;)if(predicate(array[index],index,array))return index;return-1}(array,baseIsNaN,fromIndex)}function auto(tasks,concurrency,callback){"function"==typeof concurrency&&(callback=concurrency,concurrency=null),callback=once(callback||noop);var numTasks=keys(tasks).length;if(!numTasks)return callback(null);concurrency=concurrency||numTasks;var results={},runningTasks=0,hasError=!1,listeners=Object.create(null),readyTasks=[],readyToCheck=[],uncheckedDependencies={};function enqueueTask(key,task){readyTasks.push(function(){!function(key,task){var taskCallback,taskFn;hasError||(taskCallback=onlyOnce(function(err,result){var safeResults;runningTasks--,2<arguments.length&&(result=slice(arguments,1)),err?(safeResults={},baseForOwn(results,function(val,rkey){safeResults[rkey]=val}),safeResults[key]=result,hasError=!0,listeners=Object.create(null),callback(err,safeResults)):(results[key]=result,arrayEach(listeners[key]||[],function(fn){fn()}),processQueue())}),runningTasks++,taskFn=wrapAsync(task[task.length-1]),1<task.length?taskFn(results,taskCallback):taskFn(taskCallback))}(key,task)})}function processQueue(){if(0===readyTasks.length&&0===runningTasks)return callback(null,results);for(;readyTasks.length&&runningTasks<concurrency;)readyTasks.shift()()}baseForOwn(tasks,function(task,key){if(!isArray(task))return enqueueTask(key,[task]),void readyToCheck.push(key);var dependencies=task.slice(0,task.length-1),remainingDependencies=dependencies.length;if(0===remainingDependencies)return enqueueTask(key,task),void readyToCheck.push(key);uncheckedDependencies[key]=remainingDependencies,arrayEach(dependencies,function(dependencyName){if(!tasks[dependencyName])throw new Error("async.auto task `"+key+"` has a non-existent dependency `"+dependencyName+"` in "+dependencies.join(", "));!function(taskName,fn){var taskListeners=listeners[taskName];taskListeners=taskListeners||(listeners[taskName]=[]);taskListeners.push(fn)}(dependencyName,function(){0===--remainingDependencies&&enqueueTask(key,task)})})}),function(){var currentTask,counter=0;for(;readyToCheck.length;)currentTask=readyToCheck.pop(),counter++,arrayEach(function(taskName){var result=[];return baseForOwn(tasks,function(task,key){isArray(task)&&0<=baseIndexOf(task,taskName,0)&&result.push(key)}),result}(currentTask),function(dependent){0==--uncheckedDependencies[dependent]&&readyToCheck.push(dependent)});if(counter!==numTasks)throw new Error("async.auto cannot execute tasks due to a recursive dependency")}(),processQueue()}function arrayMap(array,iteratee){for(var index=-1,length=null==array?0:array.length,result=Array(length);++index<length;)result[index]=iteratee(array[index],index,array);return result}var nextTick=mapValuesSeries?mapValuesSeries.prototype:void 0,symbolToString=nextTick?nextTick.toString:void 0;function baseToString(value){if("string"==typeof value)return value;if(isArray(value))return arrayMap(value,baseToString)+"";if(function(value){return"symbol"==typeof value||isObjectLike(value)&&"[object Symbol]"==baseGetTag(value)}(value))return symbolToString?symbolToString.call(value):"";var result=value+"";return"0"==result&&1/value==-1/0?"-0":result}function castSlice(array,start,end){var length=array.length;return end=void 0===end?length:end,!start&&length<=end?array:function(array,start,end){var index=-1,length=array.length;(end=length<end?length:end)<0&&(end+=length),length=end<(start=start<0?length<-start?0:length+start:start)?0:end-start>>>0,start>>>=0;for(var result=Array(length);++index<length;)result[index]=array[index+start];return result}(array,start,end)}var reHasUnicode=RegExp("[\\u200d\\ud800-\\udfff\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0\\ufe0e\\ufe0f]");var some="[\\ud800-\\udfff]",rejectLimit="[\\u0300-\\u036f\\ufe20-\\ufe23\\u20d0-\\u20f0]",someLimit="\\ud83c[\\udffb-\\udfff]",reject="[^\\ud800-\\udfff]",rejectSeries="(?:\\ud83c[\\udde6-\\uddff]){2}",retryable="[\\ud800-\\udbff][\\udc00-\\udfff]",priorityQueue="(?:"+rejectLimit+"|"+someLimit+")"+"?",times="[\\ufe0e\\ufe0f]?"+priorityQueue+("(?:\\u200d(?:"+[reject,rejectSeries,retryable].join("|")+")[\\ufe0e\\ufe0f]?"+priorityQueue+")*"),someSeries="(?:"+[reject+rejectLimit+"?",rejectLimit,rejectSeries,retryable,some].join("|")+")",reUnicode=RegExp(someLimit+"(?="+someLimit+")|"+someSeries+times,"g");function stringToArray(string){return function(string){return reHasUnicode.test(string)}(string)?function(string){return string.match(reUnicode)||[]}(string):string.split("")}var reTrim=/^\s+|\s+$/g;function trim(strSymbols,chrSymbols,guard){var value;if((strSymbols=null==(value=strSymbols)?"":baseToString(value))&&(guard||void 0===chrSymbols))return strSymbols.replace(reTrim,"");if(!strSymbols||!(chrSymbols=baseToString(chrSymbols)))return strSymbols;strSymbols=stringToArray(strSymbols),chrSymbols=stringToArray(chrSymbols);return castSlice(strSymbols,function(strSymbols,chrSymbols){for(var index=-1,length=strSymbols.length;++index<length&&-1<baseIndexOf(chrSymbols,strSymbols[index],0););return index}(strSymbols,chrSymbols),function(strSymbols,chrSymbols){for(var index=strSymbols.length;index--&&-1<baseIndexOf(chrSymbols,strSymbols[index],0););return index}(strSymbols,chrSymbols)+1).join("")}var FN_ARGS=/^(?:async\s+)?(function)?\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/(=.+)?(\s*)$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm;function autoInject(tasks,callback){var newTasks={};baseForOwn(tasks,function(taskFn,key){var params,fnIsAsync=isAsync(taskFn),func=!fnIsAsync&&1===taskFn.length||fnIsAsync&&0===taskFn.length;if(isArray(taskFn))params=taskFn.slice(0,-1),taskFn=taskFn[taskFn.length-1],newTasks[key]=params.concat(0<params.length?newTask:taskFn);else if(func)newTasks[key]=taskFn;else{if(params=func=(func=(func=(func=(func=taskFn).toString().replace(STRIP_COMMENTS,"")).match(FN_ARGS)[2].replace(" ",""))?func.split(FN_ARG_SPLIT):[]).map(function(arg){return trim(arg.replace(FN_ARG,""))}),0===taskFn.length&&!fnIsAsync&&0===params.length)throw new Error("autoInject task functions require explicit parameters.");fnIsAsync||params.pop(),newTasks[key]=params.concat(newTask)}function newTask(results,taskCb){var newArgs=arrayMap(params,function(name){return results[name]});newArgs.push(taskCb),wrapAsync(taskFn).apply(null,newArgs)}}),auto(newTasks,callback)}function DLL(){this.head=this.tail=null,this.length=0}function setInitial(dll,node){dll.length=1,dll.head=dll.tail=node}function queue(worker,concurrency,payload){if(null==concurrency)concurrency=1;else if(0===concurrency)throw new Error("Concurrency must not be zero");var _worker=wrapAsync(worker),numRunning=0,workersList=[];function _insert(data,insertAtFront,callback){if(null!=callback&&"function"!=typeof callback)throw new Error("task callback must be a function");if(q.started=!0,0===(data=!isArray(data)?[data]:data).length&&q.idle())return setImmediate$1(function(){q.drain()});for(var i=0,l=data.length;i<l;i++){var item={data:data[i],callback:callback||noop};insertAtFront?q._tasks.unshift(item):q._tasks.push(item)}setImmediate$1(q.process)}var isProcessing=!1,q={_tasks:new DLL,concurrency:concurrency,payload:payload,saturated:noop,unsaturated:noop,buffer:concurrency/4,empty:noop,drain:noop,error:noop,started:!1,paused:!1,push:function(data,callback){_insert(data,!1,callback)},kill:function(){q.drain=noop,q._tasks.empty()},unshift:function(data,callback){_insert(data,!0,callback)},remove:function(testFn){q._tasks.remove(testFn)},process:function(){if(!isProcessing){for(isProcessing=!0;!q.paused&&numRunning<q.concurrency&&q._tasks.length;){var tasks=[],data=[],l=q._tasks.length;q.payload&&(l=Math.min(l,q.payload));for(var i=0;i<l;i++){var node=q._tasks.shift();tasks.push(node),workersList.push(node),data.push(node.data)}numRunning+=1,0===q._tasks.length&&q.empty(),numRunning===q.concurrency&&q.saturated();var cb=onlyOnce(function(tasks){return function(err){--numRunning;for(var i=0,l=tasks.length;i<l;i++){var task=tasks[i],index=baseIndexOf(workersList,task,0);0<=index&&workersList.splice(index,1),task.callback.apply(task,arguments),null!=err&&q.error(err,task.data)}numRunning<=q.concurrency-q.buffer&&q.unsaturated(),q.idle()&&q.drain(),q.process()}}(tasks));_worker(data,cb)}isProcessing=!1}},length:function(){return q._tasks.length},running:function(){return numRunning},workersList:function(){return workersList},idle:function(){return q._tasks.length+numRunning===0},pause:function(){q.paused=!0},resume:function(){!1!==q.paused&&(q.paused=!1,setImmediate$1(q.process))}};return q}function cargo(worker,payload){return queue(worker,1,payload)}DLL.prototype.removeLink=function(node){return node.prev?node.prev.next=node.next:this.head=node.next,node.next?node.next.prev=node.prev:this.tail=node.prev,node.prev=node.next=null,--this.length,node},DLL.prototype.empty=function(){for(;this.head;)this.shift();return this},DLL.prototype.insertAfter=function(node,newNode){newNode.prev=node,newNode.next=node.next,node.next?node.next.prev=newNode:this.tail=newNode,node.next=newNode,this.length+=1},DLL.prototype.insertBefore=function(node,newNode){newNode.prev=node.prev,(newNode.next=node).prev?node.prev.next=newNode:this.head=newNode,node.prev=newNode,this.length+=1},DLL.prototype.unshift=function(node){this.head?this.insertBefore(this.head,node):setInitial(this,node)},DLL.prototype.push=function(node){this.tail?this.insertAfter(this.tail,node):setInitial(this,node)},DLL.prototype.shift=function(){return this.head&&this.removeLink(this.head)},DLL.prototype.pop=function(){return this.tail&&this.removeLink(this.tail)},DLL.prototype.toArray=function(){for(var arr=Array(this.length),curr=this.head,idx=0;idx<this.length;idx++)arr[idx]=curr.data,curr=curr.next;return arr},DLL.prototype.remove=function(testFn){for(var curr=this.head;curr;){var next=curr.next;testFn(curr)&&this.removeLink(curr),curr=next}return this};var eachOfSeries=doLimit(eachOfLimit,1);function reduce(coll,memo,iteratee,callback){callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOfSeries(coll,function(x,i,callback){_iteratee(memo,x,function(err,v){memo=v,callback(err)})},function(err){callback(err,memo)})}function seq(){var _functions=arrayMap(arguments,wrapAsync);return function(){var args=slice(arguments),that=this,cb=args[args.length-1];"function"==typeof cb?args.pop():cb=noop,reduce(_functions,args,function(newargs,fn,cb){fn.apply(that,newargs.concat(function(err){var nextargs=slice(arguments,1);cb(err,nextargs)}))},function(err,results){cb.apply(that,[err].concat(results))})}}function compose(){return seq.apply(null,slice(arguments).reverse())}function concatLimit(coll,limit,iteratee,callback){callback=callback||noop;var _iteratee=wrapAsync(iteratee);mapLimit(coll,limit,function(val,callback){_iteratee(val,function(err){return err?callback(err):callback(null,slice(arguments,1))})},function(err,mapResults){for(var result=[],i=0;i<mapResults.length;i++)mapResults[i]&&(result=_concat.apply(result,mapResults[i]));return callback(err,result)})}function constant(){var values=slice(arguments),args=[null].concat(values);return function(){return arguments[arguments.length-1].apply(this,args)}}var _concat=Array.prototype.concat,concat=doLimit(concatLimit,1/0),concatSeries=doLimit(concatLimit,1);function identity(value){return value}function _createTester(check,getResult){return function(eachfn,arr,iteratee,cb){cb=cb||noop;var testResult,testPassed=!1;eachfn(arr,function(value,_,callback){iteratee(value,function(err,result){err?callback(err):check(result)&&!testResult?(testResult=getResult(testPassed=!0,value),callback(null,breakLoop)):callback()})},function(err){err?cb(err):cb(null,testPassed?testResult:getResult(!1))})}}function _findGetResult(v,x){return x}var detect=doParallel(_createTester(identity,_findGetResult)),detectLimit=doParallelLimit(_createTester(identity,_findGetResult)),detectSeries=doLimit(detectLimit,1);function consoleFunc(name){return function(fn){var args=slice(arguments,1);args.push(function(err){var args=slice(arguments,1);"object"==typeof console&&(err?console.error&&console.error(err):console[name]&&arrayEach(args,function(x){console[name](x)}))}),wrapAsync(fn).apply(null,args)}}dir=consoleFunc("dir");function doDuring(fn,test,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn),_test=wrapAsync(test);function next(args){if(args)return callback(args);args=slice(arguments,1);args.push(check),_test.apply(this,args)}function check(err,truth){return err?callback(err):truth?void _fn(next):callback(null)}check(null,!0)}function doWhilst(iteratee,test,callback){callback=onlyOnce(callback||noop);function next(args){return args?callback(args):(args=slice(arguments,1),test.apply(this,args)?_iteratee(next):void callback.apply(null,[null].concat(args)))}var _iteratee=wrapAsync(iteratee);_iteratee(next)}function doUntil(iteratee,test,callback){doWhilst(iteratee,function(){return!test.apply(this,arguments)},callback)}function during(test,fn,callback){callback=onlyOnce(callback||noop);var _fn=wrapAsync(fn),_test=wrapAsync(test);function next(err){if(err)return callback(err);_test(check)}function check(err,truth){return err?callback(err):truth?void _fn(next):callback(null)}_test(check)}function _withoutIndex(iteratee){return function(value,index,callback){return iteratee(value,callback)}}function eachLimit(coll,iteratee,callback){eachOf(coll,_withoutIndex(wrapAsync(iteratee)),callback)}function eachLimit$1(coll,limit,iteratee,callback){_eachOfLimit(limit)(coll,_withoutIndex(wrapAsync(iteratee)),callback)}var eachSeries=doLimit(eachLimit$1,1);function ensureAsync(fn){return isAsync(fn)?fn:initialParams(function(args,callback){var sync=!0;args.push(function(){var innerArgs=arguments;sync?setImmediate$1(function(){callback.apply(null,innerArgs)}):callback.apply(null,innerArgs)}),fn.apply(this,args),sync=!1})}function notId(v){return!v}every=doParallel(_createTester(notId,notId)),everyLimit=doParallelLimit(_createTester(notId,notId)),everySeries=doLimit(everyLimit,1);function baseProperty(key){return function(object){return null==object?void 0:object[key]}}function filterArray(eachfn,arr,iteratee,callback){var truthValues=new Array(arr.length);eachfn(arr,function(x,index,callback){iteratee(x,function(err,v){truthValues[index]=!!v,callback(err)})},function(err){if(err)return callback(err);for(var results=[],i=0;i<arr.length;i++)truthValues[i]&&results.push(arr[i]);callback(null,results)})}function filterGeneric(eachfn,coll,iteratee,callback){var results=[];eachfn(coll,function(x,index,callback){iteratee(x,function(err,v){err?callback(err):(v&&results.push({index:index,value:x}),callback())})},function(err){err?callback(err):callback(null,arrayMap(results.sort(function(a,b){return a.index-b.index}),baseProperty("value")))})}function _filter(eachfn,coll,iteratee,callback){(isArrayLike(coll)?filterArray:filterGeneric)(eachfn,coll,wrapAsync(iteratee),callback||noop)}filter=doParallel(_filter),filterLimit=doParallelLimit(_filter),filterSeries=doLimit(filterLimit,1);function forever(fn,errback){var done=onlyOnce(errback||noop),task=wrapAsync(ensureAsync(fn));!function next(err){if(err)return done(err);task(next)}()}groupByLimit=function(coll,limit,iteratee,callback){callback=callback||noop;var _iteratee=wrapAsync(iteratee);mapLimit(coll,limit,function(val,callback){_iteratee(val,function(err,key){return err?callback(err):callback(null,{key:key,val:val})})},function(err,mapResults){for(var key,val,result={},hasOwnProperty=Object.prototype.hasOwnProperty,i=0;i<mapResults.length;i++)mapResults[i]&&(key=mapResults[i].key,val=mapResults[i].val,hasOwnProperty.call(result,key)?result[key].push(val):result[key]=[val]);return callback(err,result)})},groupBy=doLimit(groupByLimit,1/0),groupBySeries=doLimit(groupByLimit,1),log=consoleFunc("log");function mapValuesLimit(obj,limit,iteratee,callback){callback=once(callback||noop);var newObj={},_iteratee=wrapAsync(iteratee);eachOfLimit(obj,limit,function(val,key,next){_iteratee(val,key,function(err,result){return err?next(err):(newObj[key]=result,void next())})},function(err){callback(err,newObj)})}mapValues=doLimit(mapValuesLimit,1/0),mapValuesSeries=doLimit(mapValuesLimit,1);function memoize(fn,hasher){var memo=Object.create(null),queues=Object.create(null);hasher=hasher||identity;var _fn=wrapAsync(fn),memoized=initialParams(function(args,callback){var key=hasher.apply(null,args);key in memo?setImmediate$1(function(){callback.apply(null,memo[key])}):key in queues?queues[key].push(callback):(queues[key]=[callback],_fn.apply(null,args.concat(function(){var args=slice(arguments);memo[key]=args;var q=queues[key];delete queues[key];for(var i=0,l=q.length;i<l;i++)q[i].apply(null,args)})))});return memoized.memo=memo,memoized.unmemoized=fn,memoized}nextTick=wrap(timesSeries?process.nextTick:waterfall?setImmediate:fallback);function _parallel(eachfn,tasks,callback){callback=callback||noop;var results=isArrayLike(tasks)?[]:{};eachfn(tasks,function(task,key,callback){wrapAsync(task)(function(err,result){2<arguments.length&&(result=slice(arguments,1)),results[key]=result,callback(err)})},function(err){callback(err,results)})}function parallelLimit(tasks,callback){_parallel(eachOf,tasks,callback)}function parallelLimit$1(tasks,limit,callback){_parallel(_eachOfLimit(limit),tasks,callback)}function queue$1(worker,concurrency){var _worker=wrapAsync(worker);return queue(function(items,cb){_worker(items[0],cb)},concurrency,1)}priorityQueue=function(worker,concurrency){var q=queue$1(worker,concurrency);return q.push=function(data,priority,callback){if("function"!=typeof(callback=null==callback?noop:callback))throw new Error("task callback must be a function");if(q.started=!0,0===(data=!isArray(data)?[data]:data).length)return setImmediate$1(function(){q.drain()});priority=priority||0;for(var nextNode=q._tasks.head;nextNode&&priority>=nextNode.priority;)nextNode=nextNode.next;for(var i=0,l=data.length;i<l;i++){var item={data:data[i],priority:priority,callback:callback};nextNode?q._tasks.insertBefore(nextNode,item):q._tasks.push(item)}setImmediate$1(q.process)},delete q.unshift,q};function race(tasks,callback){if(callback=once(callback||noop),!isArray(tasks))return callback(new TypeError("First argument to race must be an array of functions"));if(!tasks.length)return callback();for(var i=0,l=tasks.length;i<l;i++)wrapAsync(tasks[i])(callback)}function reduceRight(array,memo,iteratee,callback){reduce(slice(array).reverse(),memo,iteratee,callback)}function reflect(fn){var _fn=wrapAsync(fn);return initialParams(function(args,reflectCallback){return args.push(function(error,value){error?reflectCallback(null,{error:error}):(value=arguments.length<=2?value:slice(arguments,1),reflectCallback(null,{value:value}))}),_fn.apply(this,args)})}function reject$1(eachfn,arr,iteratee,callback){_filter(eachfn,arr,function(value,cb){iteratee(value,function(err,v){cb(err,!v)})},callback)}reject=doParallel(reject$1);function reflectAll(tasks){var results;return isArray(tasks)?results=arrayMap(tasks,reflect):(results={},baseForOwn(tasks,function(task,key){results[key]=reflect.call(this,task)})),results}rejectLimit=doParallelLimit(reject$1),rejectSeries=doLimit(rejectLimit,1);function constant$1(value){return function(){return value}}function retry(opts,task,callback){var options={times:5,intervalFunc:constant$1(0)};if(arguments.length<3&&"function"==typeof opts?(callback=task||noop,task=opts):(function(acc,t){if("object"==typeof t)acc.times=+t.times||5,acc.intervalFunc="function"==typeof t.interval?t.interval:constant$1(+t.interval||0),acc.errorFilter=t.errorFilter;else{if("number"!=typeof t&&"string"!=typeof t)throw new Error("Invalid arguments for async.retry");acc.times=+t||5}}(options,opts),callback=callback||noop),"function"!=typeof task)throw new Error("Invalid arguments for async.retry");var _task=wrapAsync(task),attempt=1;!function retryAttempt(){_task(function(err){err&&attempt++<options.times&&("function"!=typeof options.errorFilter||options.errorFilter(err))?setTimeout(retryAttempt,options.intervalFunc(attempt)):callback.apply(null,arguments)})}()}retryable=function(opts,task){task||(task=opts,opts=null);var _task=wrapAsync(task);return initialParams(function(args,callback){function taskFn(cb){_task.apply(null,args.concat(cb))}opts?retry(opts,taskFn,callback):retry(taskFn,callback)})};function series(tasks,callback){_parallel(eachOfSeries,tasks,callback)}some=doParallel(_createTester(Boolean,identity)),someLimit=doParallelLimit(_createTester(Boolean,identity)),someSeries=doLimit(someLimit,1);function sortBy(coll,iteratee,callback){var _iteratee=wrapAsync(iteratee);function comparator(a,b){a=a.criteria,b=b.criteria;return a<b?-1:b<a?1:0}map(coll,function(x,callback){_iteratee(x,function(err,criteria){return err?callback(err):void callback(null,{value:x,criteria:criteria})})},function(err,results){return err?callback(err):void callback(null,arrayMap(results.sort(comparator),baseProperty("value")))})}function timeout(asyncFn,milliseconds,info){var fn=wrapAsync(asyncFn);return initialParams(function(args,callback){var timer,timedOut=!1;args.push(function(){timedOut||(callback.apply(null,arguments),clearTimeout(timer))}),timer=setTimeout(function(){var error=asyncFn.name||"anonymous";(error=new Error('Callback function "'+error+'" timed out.')).code="ETIMEDOUT",info&&(error.info=info),timedOut=!0,callback(error)},milliseconds),fn.apply(null,args)})}var nativeCeil=Math.ceil,nativeMax=Math.max;function timeLimit(count,limit,_iteratee,callback){_iteratee=wrapAsync(_iteratee);mapLimit(function(start,end,step,fromRight){for(var index=-1,length=nativeMax(nativeCeil((end-start)/(step||1)),0),result=Array(length);length--;)result[fromRight?length:++index]=start,start+=step;return result}(0,count,1),limit,_iteratee,callback)}times=doLimit(timeLimit,1/0),timesSeries=doLimit(timeLimit,1);function transform(coll,accumulator,iteratee,callback){arguments.length<=3&&(callback=iteratee,iteratee=accumulator,accumulator=isArray(coll)?[]:{}),callback=once(callback||noop);var _iteratee=wrapAsync(iteratee);eachOf(coll,function(v,k,cb){_iteratee(accumulator,v,k,cb)},function(err){callback(err,accumulator)})}function tryEach(tasks,callback){var result,error=null;callback=callback||noop,eachSeries(tasks,function(task,callback){wrapAsync(task)(function(err,res){result=2<arguments.length?slice(arguments,1):res,callback(!(error=err))})},function(){callback(error,result)})}function unmemoize(fn){return function(){return(fn.unmemoized||fn).apply(null,arguments)}}function whilst(test,iteratee,callback){callback=onlyOnce(callback||noop);var _iteratee=wrapAsync(iteratee);if(!test())return callback(null);function next(args){return args?callback(args):test()?_iteratee(next):(args=slice(arguments,1),void callback.apply(null,[null].concat(args)))}_iteratee(next)}function until(test,iteratee,callback){whilst(function(){return!test.apply(this,arguments)},iteratee,callback)}waterfall=function(tasks,callback){if(callback=once(callback||noop),!isArray(tasks))return callback(new Error("First argument to waterfall must be an array of functions"));if(!tasks.length)return callback();var taskIndex=0;function nextTask(args){var task=wrapAsync(tasks[taskIndex++]);args.push(onlyOnce(next)),task.apply(null,args)}function next(err){if(err||taskIndex===tasks.length)return callback.apply(null,arguments);nextTask(slice(arguments,1))}nextTask([])};exports.default={applyEach:applyEach,applyEachSeries:applyEachSeries,apply:apply,asyncify:asyncify,auto:auto,autoInject:autoInject,cargo:cargo,compose:compose,concat:concat,concatLimit:concatLimit,concatSeries:concatSeries,constant:constant,detect:detect,detectLimit:detectLimit,detectSeries:detectSeries,dir:dir,doDuring:doDuring,doUntil:doUntil,doWhilst:doWhilst,during:during,each:eachLimit,eachLimit:eachLimit$1,eachOf:eachOf,eachOfLimit:eachOfLimit,eachOfSeries:eachOfSeries,eachSeries:eachSeries,ensureAsync:ensureAsync,every:every,everyLimit:everyLimit,everySeries:everySeries,filter:filter,filterLimit:filterLimit,filterSeries:filterSeries,forever:forever,groupBy:groupBy,groupByLimit:groupByLimit,groupBySeries:groupBySeries,log:log,map:map,mapLimit:mapLimit,mapSeries:mapSeries,mapValues:mapValues,mapValuesLimit:mapValuesLimit,mapValuesSeries:mapValuesSeries,memoize:memoize,nextTick:nextTick,parallel:parallelLimit,parallelLimit:parallelLimit$1,priorityQueue:priorityQueue,queue:queue$1,race:race,reduce:reduce,reduceRight:reduceRight,reflect:reflect,reflectAll:reflectAll,reject:reject,rejectLimit:rejectLimit,rejectSeries:rejectSeries,retry:retry,retryable:retryable,seq:seq,series:series,setImmediate:setImmediate$1,some:some,someLimit:someLimit,someSeries:someSeries,sortBy:sortBy,timeout:timeout,times:times,timesLimit:timeLimit,timesSeries:timesSeries,transform:transform,tryEach:tryEach,unmemoize:unmemoize,until:until,waterfall:waterfall,whilst:whilst,all:every,any:some,forEach:eachLimit,forEachSeries:eachSeries,forEachLimit:eachLimit$1,forEachOf:eachOf,forEachOfSeries:eachOfSeries,forEachOfLimit:eachOfLimit,inject:reduce,foldl:reduce,foldr:reduceRight,select:filter,selectLimit:filterLimit,selectSeries:filterSeries,wrapSync:asyncify},exports.applyEach=applyEach,exports.applyEachSeries=applyEachSeries,exports.apply=apply,exports.asyncify=asyncify,exports.auto=auto,exports.autoInject=autoInject,exports.cargo=cargo,exports.compose=compose,exports.concat=concat,exports.concatLimit=concatLimit,exports.concatSeries=concatSeries,exports.constant=constant,exports.detect=detect,exports.detectLimit=detectLimit,exports.detectSeries=detectSeries,exports.dir=dir,exports.doDuring=doDuring,exports.doUntil=doUntil,exports.doWhilst=doWhilst,exports.during=during,exports.each=eachLimit,exports.eachLimit=eachLimit$1,exports.eachOf=eachOf,exports.eachOfLimit=eachOfLimit,exports.eachOfSeries=eachOfSeries,exports.eachSeries=eachSeries,exports.ensureAsync=ensureAsync,exports.every=every,exports.everyLimit=everyLimit,exports.everySeries=everySeries,exports.filter=filter,exports.filterLimit=filterLimit,exports.filterSeries=filterSeries,exports.forever=forever,exports.groupBy=groupBy,exports.groupByLimit=groupByLimit,exports.groupBySeries=groupBySeries,exports.log=log,exports.map=map,exports.mapLimit=mapLimit,exports.mapSeries=mapSeries,exports.mapValues=mapValues,exports.mapValuesLimit=mapValuesLimit,exports.mapValuesSeries=mapValuesSeries,exports.memoize=memoize,exports.nextTick=nextTick,exports.parallel=parallelLimit,exports.parallelLimit=parallelLimit$1,exports.priorityQueue=priorityQueue,exports.queue=queue$1,exports.race=race,exports.reduce=reduce,exports.reduceRight=reduceRight,exports.reflect=reflect,exports.reflectAll=reflectAll,exports.reject=reject,exports.rejectLimit=rejectLimit,exports.rejectSeries=rejectSeries,exports.retry=retry,exports.retryable=retryable,exports.seq=seq,exports.series=series,exports.setImmediate=setImmediate$1,exports.some=some,exports.someLimit=someLimit,exports.someSeries=someSeries,exports.sortBy=sortBy,exports.timeout=timeout,exports.times=times,exports.timesLimit=timeLimit,exports.timesSeries=timesSeries,exports.transform=transform,exports.tryEach=tryEach,exports.unmemoize=unmemoize,exports.until=until,exports.waterfall=waterfall,exports.whilst=whilst,exports.all=every,exports.allLimit=everyLimit,exports.allSeries=everySeries,exports.any=some,exports.anyLimit=someLimit,exports.anySeries=someSeries,exports.find=detect,exports.findLimit=detectLimit,exports.findSeries=detectSeries,exports.forEach=eachLimit,exports.forEachSeries=eachSeries,exports.forEachLimit=eachLimit$1,exports.forEachOf=eachOf,exports.forEachOfSeries=eachOfSeries,exports.forEachOfLimit=eachOfLimit,exports.inject=reduce,exports.foldl=reduce,exports.foldr=reduceRight,exports.select=filter,exports.selectLimit=filterLimit,exports.selectSeries=filterSeries,exports.wrapSync=asyncify,Object.defineProperty(exports,"__esModule",{value:!0})})}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("timers").setImmediate)},{_process:112,timers:149}],17:[function(require,module,exports){!function(global){!function(){"use strict";var possibleNames=["BigInt64Array","BigUint64Array","Float32Array","Float64Array","Int16Array","Int32Array","Int8Array","Uint16Array","Uint32Array","Uint8Array","Uint8ClampedArray"],g="undefined"==typeof globalThis?global:globalThis;module.exports=function(){for(var out=[],i=0;i<possibleNames.length;i++)"function"==typeof g[possibleNames[i]]&&(out[out.length]=possibleNames[i]);return out}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],18:[function(require,module,exports){"use strict";exports.byteLength=function(validLen){var placeHoldersLen=getLens(validLen),validLen=placeHoldersLen[0],placeHoldersLen=placeHoldersLen[1];return 3*(validLen+placeHoldersLen)/4-placeHoldersLen},exports.toByteArray=function(b64){var tmp,i,placeHoldersLen=getLens(b64),validLen=placeHoldersLen[0],placeHoldersLen=placeHoldersLen[1],arr=new Arr(function(validLen,placeHoldersLen){return 3*(validLen+placeHoldersLen)/4-placeHoldersLen}(validLen,placeHoldersLen)),curByte=0,len=0<placeHoldersLen?validLen-4:validLen;for(i=0;i<len;i+=4)tmp=revLookup[b64.charCodeAt(i)]<<18|revLookup[b64.charCodeAt(i+1)]<<12|revLookup[b64.charCodeAt(i+2)]<<6|revLookup[b64.charCodeAt(i+3)],arr[curByte++]=tmp>>16&255,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp;2===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<2|revLookup[b64.charCodeAt(i+1)]>>4,arr[curByte++]=255&tmp);1===placeHoldersLen&&(tmp=revLookup[b64.charCodeAt(i)]<<10|revLookup[b64.charCodeAt(i+1)]<<4|revLookup[b64.charCodeAt(i+2)]>>2,arr[curByte++]=tmp>>8&255,arr[curByte++]=255&tmp);return arr},exports.fromByteArray=function(uint8){for(var tmp,len=uint8.length,extraBytes=len%3,parts=[],i=0,len2=len-extraBytes;i<len2;i+=16383)parts.push(function(uint8,start,end){for(var tmp,output=[],i=start;i<end;i+=3)tmp=(uint8[i]<<16&16711680)+(uint8[i+1]<<8&65280)+(255&uint8[i+2]),output.push(function(num){return lookup[num>>18&63]+lookup[num>>12&63]+lookup[num>>6&63]+lookup[63&num]}(tmp));return output.join("")}(uint8,i,len2<i+16383?len2:i+16383));1==extraBytes?(tmp=uint8[len-1],parts.push(lookup[tmp>>2]+lookup[tmp<<4&63]+"==")):2==extraBytes&&(tmp=(uint8[len-2]<<8)+uint8[len-1],parts.push(lookup[tmp>>10]+lookup[tmp>>4&63]+lookup[tmp<<2&63]+"="));return parts.join("")};for(var lookup=[],revLookup=[],Arr="undefined"!=typeof Uint8Array?Uint8Array:Array,code="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/",i=0,len=code.length;i<len;++i)lookup[i]=code[i],revLookup[code.charCodeAt(i)]=i;function getLens(validLen){var len=validLen.length;if(0<len%4)throw new Error("Invalid string. Length must be a multiple of 4");validLen=validLen.indexOf("=");return[validLen=-1===validLen?len:validLen,validLen===len?0:4-validLen%4]}revLookup["-".charCodeAt(0)]=62,revLookup["_".charCodeAt(0)]=63},{}],19:[function(require,module,exports){},{}],20:[function(require,module,exports){!function(Buffer){!function(){"use strict";var base64=require("base64-js"),ieee754=require("ieee754");exports.Buffer=Buffer,exports.SlowBuffer=function(length){+length!=length&&(length=0);return Buffer.alloc(+length)},exports.INSPECT_MAX_BYTES=50;var K_MAX_LENGTH=2147483647;function createBuffer(buf){if(K_MAX_LENGTH<buf)throw new RangeError('The value "'+buf+'" is invalid for option "size"');buf=new Uint8Array(buf);return buf.__proto__=Buffer.prototype,buf}function Buffer(arg,encodingOrOffset,length){if("number"!=typeof arg)return from(arg,encodingOrOffset,length);if("string"==typeof encodingOrOffset)throw new TypeError('The "string" argument must be of type string. Received type number');return allocUnsafe(arg)}function from(value,encodingOrOffset,length){if("string"==typeof value)return function(string,actual){"string"==typeof actual&&""!==actual||(actual="utf8");if(!Buffer.isEncoding(actual))throw new TypeError("Unknown encoding: "+actual);var length=0|byteLength(string,actual),buf=createBuffer(length),actual=buf.write(string,actual);actual!==length&&(buf=buf.slice(0,actual));return buf}(value,encodingOrOffset);if(ArrayBuffer.isView(value))return fromArrayLike(value);if(null==value)throw TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value);if(isInstance(value,ArrayBuffer)||value&&isInstance(value.buffer,ArrayBuffer))return function(array,byteOffset,buf){if(byteOffset<0||array.byteLength<byteOffset)throw new RangeError('"offset" is outside of buffer bounds');if(array.byteLength<byteOffset+(buf||0))throw new RangeError('"length" is outside of buffer bounds');buf=void 0===byteOffset&&void 0===buf?new Uint8Array(array):void 0===buf?new Uint8Array(array,byteOffset):new Uint8Array(array,byteOffset,buf);return buf.__proto__=Buffer.prototype,buf}(value,encodingOrOffset,length);if("number"==typeof value)throw new TypeError('The "value" argument must not be of type number. Received type number');var b=value.valueOf&&value.valueOf();if(null!=b&&b!==value)return Buffer.from(b,encodingOrOffset,length);b=function(obj){if(Buffer.isBuffer(obj)){var len=0|checked(obj.length),buf=createBuffer(len);return 0===buf.length?buf:(obj.copy(buf,0,0,len),buf)}if(void 0!==obj.length)return"number"!=typeof obj.length||numberIsNaN(obj.length)?createBuffer(0):fromArrayLike(obj);if("Buffer"===obj.type&&Array.isArray(obj.data))return fromArrayLike(obj.data)}(value);if(b)return b;if("undefined"!=typeof Symbol&&null!=Symbol.toPrimitive&&"function"==typeof value[Symbol.toPrimitive])return Buffer.from(value[Symbol.toPrimitive]("string"),encodingOrOffset,length);throw new TypeError("The first argument must be one of type string, Buffer, ArrayBuffer, Array, or Array-like Object. Received type "+typeof value)}function assertSize(size){if("number"!=typeof size)throw new TypeError('"size" argument must be of type number');if(size<0)throw new RangeError('The value "'+size+'" is invalid for option "size"')}function allocUnsafe(size){return assertSize(size),createBuffer(size<0?0:0|checked(size))}function fromArrayLike(array){for(var length=array.length<0?0:0|checked(array.length),buf=createBuffer(length),i=0;i<length;i+=1)buf[i]=255&array[i];return buf}function checked(length){if(K_MAX_LENGTH<=length)throw new RangeError("Attempt to allocate Buffer larger than maximum size: 0x"+K_MAX_LENGTH.toString(16)+" bytes");return 0|length}function byteLength(string,encoding){if(Buffer.isBuffer(string))return string.length;if(ArrayBuffer.isView(string)||isInstance(string,ArrayBuffer))return string.byteLength;if("string"!=typeof string)throw new TypeError('The "string" argument must be one of type string, Buffer, or ArrayBuffer. Received type '+typeof string);var len=string.length,mustMatch=2<arguments.length&&!0===arguments[2];if(!mustMatch&&0===len)return 0;for(var loweredCase=!1;;)switch(encoding){case"ascii":case"latin1":case"binary":return len;case"utf8":case"utf-8":return utf8ToBytes(string).length;case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return 2*len;case"hex":return len>>>1;case"base64":return base64ToBytes(string).length;default:if(loweredCase)return mustMatch?-1:utf8ToBytes(string).length;encoding=(""+encoding).toLowerCase(),loweredCase=!0}}function slowToString(encoding,start,end){var loweredCase=!1;if((start=void 0===start||start<0?0:start)>this.length)return"";if((end=void 0===end||end>this.length?this.length:end)<=0)return"";if((end>>>=0)<=(start>>>=0))return"";for(encoding=encoding||"utf8";;)switch(encoding){case"hex":return function(buf,start,end){var len=buf.length;(!start||start<0)&&(start=0);(!end||end<0||len<end)&&(end=len);for(var out="",i=start;i<end;++i)out+=function(n){return n<16?"0"+n.toString(16):n.toString(16)}(buf[i]);return out}(this,start,end);case"utf8":case"utf-8":return utf8Slice(this,start,end);case"ascii":return function(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(127&buf[i]);return ret}(this,start,end);case"latin1":case"binary":return function(buf,start,end){var ret="";end=Math.min(buf.length,end);for(var i=start;i<end;++i)ret+=String.fromCharCode(buf[i]);return ret}(this,start,end);case"base64":return function(buf,start,end){return 0===start&&end===buf.length?base64.fromByteArray(buf):base64.fromByteArray(buf.slice(start,end))}(this,start,end);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return function(buf,start,end){for(var bytes=buf.slice(start,end),res="",i=0;i<bytes.length;i+=2)res+=String.fromCharCode(bytes[i]+256*bytes[i+1]);return res}(this,start,end);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(encoding+"").toLowerCase(),loweredCase=!0}}function swap(b,n,m){var i=b[n];b[n]=b[m],b[m]=i}function bidirectionalIndexOf(buffer,val,byteOffset,encoding,dir){if(0===buffer.length)return-1;if("string"==typeof byteOffset?(encoding=byteOffset,byteOffset=0):2147483647<byteOffset?byteOffset=2147483647:byteOffset<-2147483648&&(byteOffset=-2147483648),(byteOffset=(byteOffset=numberIsNaN(byteOffset=+byteOffset)?dir?0:buffer.length-1:byteOffset)<0?buffer.length+byteOffset:byteOffset)>=buffer.length){if(dir)return-1;byteOffset=buffer.length-1}else if(byteOffset<0){if(!dir)return-1;byteOffset=0}if("string"==typeof val&&(val=Buffer.from(val,encoding)),Buffer.isBuffer(val))return 0===val.length?-1:arrayIndexOf(buffer,val,byteOffset,encoding,dir);if("number"==typeof val)return val&=255,"function"==typeof Uint8Array.prototype.indexOf?(dir?Uint8Array.prototype.indexOf:Uint8Array.prototype.lastIndexOf).call(buffer,val,byteOffset):arrayIndexOf(buffer,[val],byteOffset,encoding,dir);throw new TypeError("val must be string, number or Buffer")}function arrayIndexOf(arr,val,byteOffset,encoding,dir){var indexSize=1,arrLength=arr.length,valLength=val.length;if(void 0!==encoding&&("ucs2"===(encoding=String(encoding).toLowerCase())||"ucs-2"===encoding||"utf16le"===encoding||"utf-16le"===encoding)){if(arr.length<2||val.length<2)return-1;arrLength/=indexSize=2,valLength/=2,byteOffset/=2}function read(buf,i){return 1===indexSize?buf[i]:buf.readUInt16BE(i*indexSize)}if(dir)for(var foundIndex=-1,i=byteOffset;i<arrLength;i++)if(read(arr,i)===read(val,-1===foundIndex?0:i-foundIndex)){if(i-(foundIndex=-1===foundIndex?i:foundIndex)+1===valLength)return foundIndex*indexSize}else-1!==foundIndex&&(i-=i-foundIndex),foundIndex=-1;else for(i=byteOffset=arrLength<byteOffset+valLength?arrLength-valLength:byteOffset;0<=i;i--){for(var found=!0,j=0;j<valLength;j++)if(read(arr,i+j)!==read(val,j)){found=!1;break}if(found)return i}return-1}function asciiWrite(buf,string,offset,length){return blitBuffer(function(str){for(var byteArray=[],i=0;i<str.length;++i)byteArray.push(255&str.charCodeAt(i));return byteArray}(string),buf,offset,length)}function ucs2Write(buf,string,offset,length){return blitBuffer(function(str,units){for(var hi,lo,byteArray=[],i=0;i<str.length&&!((units-=2)<0);++i)lo=str.charCodeAt(i),hi=lo>>8,lo=lo%256,byteArray.push(lo),byteArray.push(hi);return byteArray}(string,buf.length-offset),buf,offset,length)}function utf8Slice(buf,start,end){end=Math.min(buf.length,end);for(var res=[],i=start;i<end;){var secondByte,thirdByte,fourthByte,tempCodePoint,firstByte=buf[i],codePoint=null,bytesPerSequence=239<firstByte?4:223<firstByte?3:191<firstByte?2:1;if(i+bytesPerSequence<=end)switch(bytesPerSequence){case 1:firstByte<128&&(codePoint=firstByte);break;case 2:128==(192&(secondByte=buf[i+1]))&&127<(tempCodePoint=(31&firstByte)<<6|63&secondByte)&&(codePoint=tempCodePoint);break;case 3:secondByte=buf[i+1],thirdByte=buf[i+2],128==(192&secondByte)&&128==(192&thirdByte)&&2047<(tempCodePoint=(15&firstByte)<<12|(63&secondByte)<<6|63&thirdByte)&&(tempCodePoint<55296||57343<tempCodePoint)&&(codePoint=tempCodePoint);break;case 4:secondByte=buf[i+1],thirdByte=buf[i+2],fourthByte=buf[i+3],128==(192&secondByte)&&128==(192&thirdByte)&&128==(192&fourthByte)&&65535<(tempCodePoint=(15&firstByte)<<18|(63&secondByte)<<12|(63&thirdByte)<<6|63&fourthByte)&&tempCodePoint<1114112&&(codePoint=tempCodePoint)}null===codePoint?(codePoint=65533,bytesPerSequence=1):65535<codePoint&&(codePoint-=65536,res.push(codePoint>>>10&1023|55296),codePoint=56320|1023&codePoint),res.push(codePoint),i+=bytesPerSequence}return function(codePoints){var len=codePoints.length;if(len<=MAX_ARGUMENTS_LENGTH)return String.fromCharCode.apply(String,codePoints);var res="",i=0;for(;i<len;)res+=String.fromCharCode.apply(String,codePoints.slice(i,i+=MAX_ARGUMENTS_LENGTH));return res}(res)}exports.kMaxLength=K_MAX_LENGTH,(Buffer.TYPED_ARRAY_SUPPORT=function(){try{var arr=new Uint8Array(1);return arr.__proto__={__proto__:Uint8Array.prototype,foo:function(){return 42}},42===arr.foo()}catch(e){return!1}}())||"undefined"==typeof console||"function"!=typeof console.error||console.error("This browser lacks typed array (Uint8Array) support which is required by `buffer` v5.x. Use `buffer` v4.x if you require old browser support."),Object.defineProperty(Buffer.prototype,"parent",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.buffer}}),Object.defineProperty(Buffer.prototype,"offset",{enumerable:!0,get:function(){if(Buffer.isBuffer(this))return this.byteOffset}}),"undefined"!=typeof Symbol&&null!=Symbol.species&&Buffer[Symbol.species]===Buffer&&Object.defineProperty(Buffer,Symbol.species,{value:null,configurable:!0,enumerable:!1,writable:!1}),Buffer.poolSize=8192,Buffer.from=from,Buffer.prototype.__proto__=Uint8Array.prototype,Buffer.__proto__=Uint8Array,Buffer.alloc=function(size,fill,encoding){return assertSize(size),!(size<=0)&&void 0!==fill?"string"==typeof encoding?createBuffer(size).fill(fill,encoding):createBuffer(size).fill(fill):createBuffer(size)},Buffer.allocUnsafe=allocUnsafe,Buffer.allocUnsafeSlow=allocUnsafe,Buffer.isBuffer=function(b){return null!=b&&!0===b._isBuffer&&b!==Buffer.prototype},Buffer.compare=function(a,b){if(isInstance(a,Uint8Array)&&(a=Buffer.from(a,a.offset,a.byteLength)),isInstance(b,Uint8Array)&&(b=Buffer.from(b,b.offset,b.byteLength)),!Buffer.isBuffer(a)||!Buffer.isBuffer(b))throw new TypeError('The "buf1", "buf2" arguments must be one of type Buffer or Uint8Array');if(a===b)return 0;for(var x=a.length,y=b.length,i=0,len=Math.min(x,y);i<len;++i)if(a[i]!==b[i]){x=a[i],y=b[i];break}return x<y?-1:y<x?1:0},Buffer.isEncoding=function(encoding){switch(String(encoding).toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"latin1":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return!0;default:return!1}},Buffer.concat=function(list,length){if(!Array.isArray(list))throw new TypeError('"list" argument must be an Array of Buffers');if(0===list.length)return Buffer.alloc(0);if(void 0===length)for(i=length=0;i<list.length;++i)length+=list[i].length;for(var buffer=Buffer.allocUnsafe(length),pos=0,i=0;i<list.length;++i){var buf=list[i];if(isInstance(buf,Uint8Array)&&(buf=Buffer.from(buf)),!Buffer.isBuffer(buf))throw new TypeError('"list" argument must be an Array of Buffers');buf.copy(buffer,pos),pos+=buf.length}return buffer},Buffer.byteLength=byteLength,Buffer.prototype._isBuffer=!0,Buffer.prototype.swap16=function(){var len=this.length;if(len%2!=0)throw new RangeError("Buffer size must be a multiple of 16-bits");for(var i=0;i<len;i+=2)swap(this,i,i+1);return this},Buffer.prototype.swap32=function(){var len=this.length;if(len%4!=0)throw new RangeError("Buffer size must be a multiple of 32-bits");for(var i=0;i<len;i+=4)swap(this,i,i+3),swap(this,i+1,i+2);return this},Buffer.prototype.swap64=function(){var len=this.length;if(len%8!=0)throw new RangeError("Buffer size must be a multiple of 64-bits");for(var i=0;i<len;i+=8)swap(this,i,i+7),swap(this,i+1,i+6),swap(this,i+2,i+5),swap(this,i+3,i+4);return this},Buffer.prototype.toLocaleString=Buffer.prototype.toString=function(){var length=this.length;return 0===length?"":0===arguments.length?utf8Slice(this,0,length):slowToString.apply(this,arguments)},Buffer.prototype.equals=function(b){if(!Buffer.isBuffer(b))throw new TypeError("Argument must be a Buffer");return this===b||0===Buffer.compare(this,b)},Buffer.prototype.inspect=function(){var str="",max=exports.INSPECT_MAX_BYTES,str=this.toString("hex",0,max).replace(/(.{2})/g,"$1 ").trim();return this.length>max&&(str+=" ... "),"<Buffer "+str+">"},Buffer.prototype.compare=function(target,start,end,thisStart,thisEnd){if(isInstance(target,Uint8Array)&&(target=Buffer.from(target,target.offset,target.byteLength)),!Buffer.isBuffer(target))throw new TypeError('The "target" argument must be one of type Buffer or Uint8Array. Received type '+typeof target);if(void 0===end&&(end=target?target.length:0),void 0===thisStart&&(thisStart=0),void 0===thisEnd&&(thisEnd=this.length),(start=void 0===start?0:start)<0||end>target.length||thisStart<0||thisEnd>this.length)throw new RangeError("out of range index");if(thisEnd<=thisStart&&end<=start)return 0;if(thisEnd<=thisStart)return-1;if(end<=start)return 1;if(this===target)return 0;for(var x=(thisEnd>>>=0)-(thisStart>>>=0),y=(end>>>=0)-(start>>>=0),len=Math.min(x,y),thisCopy=this.slice(thisStart,thisEnd),targetCopy=target.slice(start,end),i=0;i<len;++i)if(thisCopy[i]!==targetCopy[i]){x=thisCopy[i],y=targetCopy[i];break}return x<y?-1:y<x?1:0},Buffer.prototype.includes=function(val,byteOffset,encoding){return-1!==this.indexOf(val,byteOffset,encoding)},Buffer.prototype.indexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!0)},Buffer.prototype.lastIndexOf=function(val,byteOffset,encoding){return bidirectionalIndexOf(this,val,byteOffset,encoding,!1)},Buffer.prototype.write=function(string,offset,length,encoding){if(void 0===offset)encoding="utf8",length=this.length,offset=0;else if(void 0===length&&"string"==typeof offset)encoding=offset,length=this.length,offset=0;else{if(!isFinite(offset))throw new Error("Buffer.write(string, encoding, offset[, length]) is no longer supported");offset>>>=0,isFinite(length)?(length>>>=0,void 0===encoding&&(encoding="utf8")):(encoding=length,length=void 0)}var remaining=this.length-offset;if((void 0===length||remaining<length)&&(length=remaining),0<string.length&&(length<0||offset<0)||offset>this.length)throw new RangeError("Attempt to write outside buffer bounds");encoding=encoding||"utf8";for(var loweredCase=!1;;)switch(encoding){case"hex":return function(buf,string,offset,length){offset=Number(offset)||0;var strLen=buf.length-offset;(!length||strLen<(length=Number(length)))&&(length=strLen),(strLen=string.length)/2<length&&(length=strLen/2);for(var i=0;i<length;++i){var parsed=parseInt(string.substr(2*i,2),16);if(numberIsNaN(parsed))return i;buf[offset+i]=parsed}return i}(this,string,offset,length);case"utf8":case"utf-8":return function(buf,string,offset,length){return blitBuffer(utf8ToBytes(string,buf.length-offset),buf,offset,length)}(this,string,offset,length);case"ascii":return asciiWrite(this,string,offset,length);case"latin1":case"binary":return asciiWrite(this,string,offset,length);case"base64":return function(buf,string,offset,length){return blitBuffer(base64ToBytes(string),buf,offset,length)}(this,string,offset,length);case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return ucs2Write(this,string,offset,length);default:if(loweredCase)throw new TypeError("Unknown encoding: "+encoding);encoding=(""+encoding).toLowerCase(),loweredCase=!0}},Buffer.prototype.toJSON=function(){return{type:"Buffer",data:Array.prototype.slice.call(this._arr||this,0)}};var MAX_ARGUMENTS_LENGTH=4096;function checkOffset(offset,ext,length){if(offset%1!=0||offset<0)throw new RangeError("offset is not uint");if(length<offset+ext)throw new RangeError("Trying to access beyond buffer length")}function checkInt(buf,value,offset,ext,max,min){if(!Buffer.isBuffer(buf))throw new TypeError('"buffer" argument must be a Buffer instance');if(max<value||value<min)throw new RangeError('"value" argument is out of bounds');if(offset+ext>buf.length)throw new RangeError("Index out of range")}function checkIEEE754(buf,value,offset,ext){if(offset+ext>buf.length)throw new RangeError("Index out of range");if(offset<0)throw new RangeError("Index out of range")}function writeFloat(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,4),ieee754.write(buf,value,offset,littleEndian,23,4),offset+4}function writeDouble(buf,value,offset,littleEndian,noAssert){return value=+value,offset>>>=0,noAssert||checkIEEE754(buf,0,offset,8),ieee754.write(buf,value,offset,littleEndian,52,8),offset+8}Buffer.prototype.slice=function(start,newBuf){var len=this.length;(start=~~start)<0?(start+=len)<0&&(start=0):len<start&&(start=len),(newBuf=void 0===newBuf?len:~~newBuf)<0?(newBuf+=len)<0&&(newBuf=0):len<newBuf&&(newBuf=len),newBuf<start&&(newBuf=start);newBuf=this.subarray(start,newBuf);return newBuf.__proto__=Buffer.prototype,newBuf},Buffer.prototype.readUIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return val},Buffer.prototype.readUIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset+--byteLength],mul=1;0<byteLength&&(mul*=256);)val+=this[offset+--byteLength]*mul;return val},Buffer.prototype.readUInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),this[offset]},Buffer.prototype.readUInt16LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]|this[offset+1]<<8},Buffer.prototype.readUInt16BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,2,this.length),this[offset]<<8|this[offset+1]},Buffer.prototype.readUInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),(this[offset]|this[offset+1]<<8|this[offset+2]<<16)+16777216*this[offset+3]},Buffer.prototype.readUInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),16777216*this[offset]+(this[offset+1]<<16|this[offset+2]<<8|this[offset+3])},Buffer.prototype.readIntLE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var val=this[offset],mul=1,i=0;++i<byteLength&&(mul*=256);)val+=this[offset+i]*mul;return(mul*=128)<=val&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readIntBE=function(offset,byteLength,noAssert){offset>>>=0,byteLength>>>=0,noAssert||checkOffset(offset,byteLength,this.length);for(var i=byteLength,mul=1,val=this[offset+--i];0<i&&(mul*=256);)val+=this[offset+--i]*mul;return(mul*=128)<=val&&(val-=Math.pow(2,8*byteLength)),val},Buffer.prototype.readInt8=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,1,this.length),128&this[offset]?-1*(255-this[offset]+1):this[offset]},Buffer.prototype.readInt16LE=function(val,noAssert){val>>>=0,noAssert||checkOffset(val,2,this.length);val=this[val]|this[val+1]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt16BE=function(val,noAssert){val>>>=0,noAssert||checkOffset(val,2,this.length);val=this[val+1]|this[val]<<8;return 32768&val?4294901760|val:val},Buffer.prototype.readInt32LE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]|this[offset+1]<<8|this[offset+2]<<16|this[offset+3]<<24},Buffer.prototype.readInt32BE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),this[offset]<<24|this[offset+1]<<16|this[offset+2]<<8|this[offset+3]},Buffer.prototype.readFloatLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!0,23,4)},Buffer.prototype.readFloatBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,4,this.length),ieee754.read(this,offset,!1,23,4)},Buffer.prototype.readDoubleLE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!0,52,8)},Buffer.prototype.readDoubleBE=function(offset,noAssert){return offset>>>=0,noAssert||checkOffset(offset,8,this.length),ieee754.read(this,offset,!1,52,8)},Buffer.prototype.writeUIntLE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var mul=1,i=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUIntBE=function(value,offset,byteLength,noAssert){value=+value,offset>>>=0,byteLength>>>=0,noAssert||checkInt(this,value,offset,byteLength,Math.pow(2,8*byteLength)-1,0);var i=byteLength-1,mul=1;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)this[offset+i]=value/mul&255;return offset+byteLength},Buffer.prototype.writeUInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,255,0),this[offset]=255&value,offset+1},Buffer.prototype.writeUInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeUInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,65535,0),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeUInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset+3]=value>>>24,this[offset+2]=value>>>16,this[offset+1]=value>>>8,this[offset]=255&value,offset+4},Buffer.prototype.writeUInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,4294967295,0),this[offset]=value>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeIntLE=function(value,offset,byteLength,limit){value=+value,offset>>>=0,limit||checkInt(this,value,offset,byteLength,(limit=Math.pow(2,8*byteLength-1))-1,-limit);var i=0,mul=1,sub=0;for(this[offset]=255&value;++i<byteLength&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i-1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeIntBE=function(value,offset,byteLength,limit){value=+value,offset>>>=0,limit||checkInt(this,value,offset,byteLength,(limit=Math.pow(2,8*byteLength-1))-1,-limit);var i=byteLength-1,mul=1,sub=0;for(this[offset+i]=255&value;0<=--i&&(mul*=256);)value<0&&0===sub&&0!==this[offset+i+1]&&(sub=1),this[offset+i]=(value/mul>>0)-sub&255;return offset+byteLength},Buffer.prototype.writeInt8=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,1,127,-128),this[offset]=255&(value=value<0?255+value+1:value),offset+1},Buffer.prototype.writeInt16LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=255&value,this[offset+1]=value>>>8,offset+2},Buffer.prototype.writeInt16BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,2,32767,-32768),this[offset]=value>>>8,this[offset+1]=255&value,offset+2},Buffer.prototype.writeInt32LE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=255&value,this[offset+1]=value>>>8,this[offset+2]=value>>>16,this[offset+3]=value>>>24,offset+4},Buffer.prototype.writeInt32BE=function(value,offset,noAssert){return value=+value,offset>>>=0,noAssert||checkInt(this,value,offset,4,2147483647,-2147483648),this[offset]=(value=value<0?4294967295+value+1:value)>>>24,this[offset+1]=value>>>16,this[offset+2]=value>>>8,this[offset+3]=255&value,offset+4},Buffer.prototype.writeFloatLE=function(value,offset,noAssert){return writeFloat(this,value,offset,!0,noAssert)},Buffer.prototype.writeFloatBE=function(value,offset,noAssert){return writeFloat(this,value,offset,!1,noAssert)},Buffer.prototype.writeDoubleLE=function(value,offset,noAssert){return writeDouble(this,value,offset,!0,noAssert)},Buffer.prototype.writeDoubleBE=function(value,offset,noAssert){return writeDouble(this,value,offset,!1,noAssert)},Buffer.prototype.copy=function(target,targetStart,start,end){if(!Buffer.isBuffer(target))throw new TypeError("argument should be a Buffer");if(start=start||0,end||0===end||(end=this.length),targetStart>=target.length&&(targetStart=target.length),(end=0<end&&end<start?start:end)===start)return 0;if(0===target.length||0===this.length)return 0;if((targetStart=targetStart||0)<0)throw new RangeError("targetStart out of bounds");if(start<0||start>=this.length)throw new RangeError("Index out of range");if(end<0)throw new RangeError("sourceEnd out of bounds");end>this.length&&(end=this.length);var len=(end=target.length-targetStart<end-start?target.length-targetStart+start:end)-start;if(this===target&&"function"==typeof Uint8Array.prototype.copyWithin)this.copyWithin(targetStart,start,end);else if(this===target&&start<targetStart&&targetStart<end)for(var i=len-1;0<=i;--i)target[i+targetStart]=this[i+start];else Uint8Array.prototype.set.call(target,this.subarray(start,end),targetStart);return len},Buffer.prototype.fill=function(val,start,end,encoding){if("string"==typeof val){if("string"==typeof start?(encoding=start,start=0,end=this.length):"string"==typeof end&&(encoding=end,end=this.length),void 0!==encoding&&"string"!=typeof encoding)throw new TypeError("encoding must be a string");if("string"==typeof encoding&&!Buffer.isEncoding(encoding))throw new TypeError("Unknown encoding: "+encoding);var code;1===val.length&&(code=val.charCodeAt(0),("utf8"===encoding&&code<128||"latin1"===encoding)&&(val=code))}else"number"==typeof val&&(val&=255);if(start<0||this.length<start||this.length<end)throw new RangeError("Out of range index");if(end<=start)return this;var i;if(start>>>=0,end=void 0===end?this.length:end>>>0,"number"==typeof(val=val||0))for(i=start;i<end;++i)this[i]=val;else{var bytes=Buffer.isBuffer(val)?val:Buffer.from(val,encoding),len=bytes.length;if(0===len)throw new TypeError('The value "'+val+'" is invalid for argument "value"');for(i=0;i<end-start;++i)this[i+start]=bytes[i%len]}return this};var INVALID_BASE64_RE=/[^+/0-9A-Za-z-_]/g;function utf8ToBytes(string,units){var codePoint;units=units||1/0;for(var length=string.length,leadSurrogate=null,bytes=[],i=0;i<length;++i){if(55295<(codePoint=string.charCodeAt(i))&&codePoint<57344){if(!leadSurrogate){if(56319<codePoint){-1<(units-=3)&&bytes.push(239,191,189);continue}if(i+1===length){-1<(units-=3)&&bytes.push(239,191,189);continue}leadSurrogate=codePoint;continue}if(codePoint<56320){-1<(units-=3)&&bytes.push(239,191,189),leadSurrogate=codePoint;continue}codePoint=65536+(leadSurrogate-55296<<10|codePoint-56320)}else leadSurrogate&&-1<(units-=3)&&bytes.push(239,191,189);if(leadSurrogate=null,codePoint<128){if(--units<0)break;bytes.push(codePoint)}else if(codePoint<2048){if((units-=2)<0)break;bytes.push(codePoint>>6|192,63&codePoint|128)}else if(codePoint<65536){if((units-=3)<0)break;bytes.push(codePoint>>12|224,codePoint>>6&63|128,63&codePoint|128)}else{if(!(codePoint<1114112))throw new Error("Invalid code point");if((units-=4)<0)break;bytes.push(codePoint>>18|240,codePoint>>12&63|128,codePoint>>6&63|128,63&codePoint|128)}}return bytes}function base64ToBytes(str){return base64.toByteArray(function(str){if((str=(str=str.split("=")[0]).trim().replace(INVALID_BASE64_RE,"")).length<2)return"";for(;str.length%4!=0;)str+="=";return str}(str))}function blitBuffer(src,dst,offset,length){for(var i=0;i<length&&!(i+offset>=dst.length||i>=src.length);++i)dst[i+offset]=src[i];return i}function isInstance(obj,type){return obj instanceof type||null!=obj&&null!=obj.constructor&&null!=obj.constructor.name&&obj.constructor.name===type.name}function numberIsNaN(obj){return obj!=obj}}.call(this)}.call(this,require("buffer").Buffer)},{"base64-js":18,buffer:20,ieee754:52}],21:[function(require,module,exports){"use strict";var GetIntrinsic=require("get-intrinsic"),callBind=require("./"),$indexOf=callBind(GetIntrinsic("String.prototype.indexOf"));module.exports=function(name,intrinsic){intrinsic=GetIntrinsic(name,!!intrinsic);return"function"==typeof intrinsic&&-1<$indexOf(name,".prototype.")?callBind(intrinsic):intrinsic}},{"./":22,"get-intrinsic":47}],22:[function(applyBind,module,exports){"use strict";var bind=applyBind("function-bind"),applyBind=applyBind("get-intrinsic"),$apply=applyBind("%Function.prototype.apply%"),$call=applyBind("%Function.prototype.call%"),$reflectApply=applyBind("%Reflect.apply%",!0)||bind.call($call,$apply),$gOPD=applyBind("%Object.getOwnPropertyDescriptor%",!0),$defineProperty=applyBind("%Object.defineProperty%",!0),$max=applyBind("%Math.max%");if($defineProperty)try{$defineProperty({},"a",{value:1})}catch(e){$defineProperty=null}module.exports=function(originalFunction){var func=$reflectApply(bind,$call,arguments);return $gOPD&&$defineProperty&&$gOPD(func,"length").configurable&&$defineProperty(func,"length",{value:1+$max(0,originalFunction.length-(arguments.length-1))}),func};applyBind=function(){return $reflectApply(bind,$apply,arguments)};$defineProperty?$defineProperty(module.exports,"apply",{value:applyBind}):module.exports.apply=applyBind},{"function-bind":46,"get-intrinsic":47}],23:[function(require,module,exports){!function(Buffer){!function(){function objectToString(o){return Object.prototype.toString.call(o)}exports.isArray=function(arg){return Array.isArray?Array.isArray(arg):"[object Array]"===objectToString(arg)},exports.isBoolean=function(arg){return"boolean"==typeof arg},exports.isNull=function(arg){return null===arg},exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=function(arg){return"number"==typeof arg},exports.isString=function(arg){return"string"==typeof arg},exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=function(arg){return void 0===arg},exports.isRegExp=function(re){return"[object RegExp]"===objectToString(re)},exports.isObject=function(arg){return"object"==typeof arg&&null!==arg},exports.isDate=function(d){return"[object Date]"===objectToString(d)},exports.isError=function(e){return"[object Error]"===objectToString(e)||e instanceof Error},exports.isFunction=function(arg){return"function"==typeof arg},exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=Buffer.isBuffer}.call(this)}.call(this,{isBuffer:require("../../is-buffer/index.js")})},{"../../is-buffer/index.js":61}],24:[function(require,module,exports){var AbstractIterator=require("abstract-leveldown").AbstractIterator;function DeferredIterator(db,options){AbstractIterator.call(this,db),this._options=options,this._iterator=null,this._operations=[]}require("inherits")(DeferredIterator,AbstractIterator),DeferredIterator.prototype.setDb=function(db){var it=this._iterator=db.iterator(this._options);this._operations.forEach(function(op){it[op.method].apply(it,op.args)})},DeferredIterator.prototype._operation=function(method,args){if(this._iterator)return this._iterator[method].apply(this._iterator,args);this._operations.push({method:method,args:args})},"next end".split(" ").forEach(function(m){DeferredIterator.prototype["_"+m]=function(){this._operation(m,arguments)}}),DeferredIterator.prototype.seek=function(){this._operation("seek",arguments)},module.exports=DeferredIterator},{"abstract-leveldown":10,inherits:59}],25:[function(require,module,exports){var AbstractLevelDOWN=require("abstract-leveldown").AbstractLevelDOWN,inherits=require("inherits"),DeferredIterator=require("./deferred-iterator"),deferrables="put get del batch clear".split(" "),optionalDeferrables="approximateSize compactRange".split(" ");function DeferredLevelDOWN(db){AbstractLevelDOWN.call(this,db.supports||{}),optionalDeferrables.forEach(function(m){"function"!=typeof db[m]||this.supports.additionalMethods[m]||(this.supports.additionalMethods[m]=!0)},this),this._db=db,this._operations=[],closed(this)}function closed(self){deferrables.forEach(function(m){self["_"+m]=function(){this._operations.push({method:m,args:arguments})}}),Object.keys(self.supports.additionalMethods).forEach(function(m){self[m]=function(){this._operations.push({method:m,args:arguments})}}),self._iterator=function(it){it=new DeferredIterator(self,it);return this._operations.push({iterator:it}),it}}inherits(DeferredLevelDOWN,AbstractLevelDOWN),DeferredLevelDOWN.prototype.type="deferred-leveldown",DeferredLevelDOWN.prototype._open=function(options,callback){var self=this;this._db.open(options,function(err){return err?callback(err):(self._operations.forEach(function(op){op.iterator?op.iterator.setDb(self._db):self._db[op.method].apply(self._db,op.args)}),self._operations=[],function(self){deferrables.concat("iterator").forEach(function(m){self["_"+m]=function(){return this._db[m].apply(this._db,arguments)}}),Object.keys(self.supports.additionalMethods).forEach(function(m){self[m]=function(){return this._db[m].apply(this._db,arguments)}})}(self),void callback())})},DeferredLevelDOWN.prototype._close=function(callback){var self=this;this._db.close(function(err){return err?callback(err):(closed(self),void callback())})},DeferredLevelDOWN.prototype._serializeKey=function(key){return key},DeferredLevelDOWN.prototype._serializeValue=function(value){return value},module.exports=DeferredLevelDOWN,module.exports.DeferredIterator=DeferredIterator},{"./deferred-iterator":24,"abstract-leveldown":10,inherits:59}],26:[function(require,module,exports){const pumpify=require("pumpify"),stopwords=[],CalculateTermFrequency=exports.CalculateTermFrequency=require("./pipeline/CalculateTermFrequency.js"),CharacterNormaliser=exports.CharacterNormaliser=require("./pipeline/CharacterNormaliser.js"),CreateCompositeVector=exports.CreateCompositeVector=require("./pipeline/CreateCompositeVector.js"),CreateStoredDocument=exports.CreateStoredDocument=require("./pipeline/CreateStoredDocument.js"),FieldedSearch=exports.FieldedSearch=require("./pipeline/FieldedSearch.js"),IngestDoc=exports.IngestDoc=require("./pipeline/IngestDoc.js"),LowCase=exports.LowCase=require("./pipeline/LowCase.js"),NormaliseFields=exports.NormaliseFields=require("./pipeline/NormaliseFields.js"),RemoveStopWords=exports.RemoveStopWords=require("./pipeline/RemoveStopWords.js");exports.Spy=require("./pipeline/Spy.js");const Tokeniser=exports.Tokeniser=require("./pipeline/Tokeniser.js");exports.pipeline=function(pl){pl=Object.assign({},{separator:/[|' .,\-|(\\\n)]+/,searchable:!0,stopwords:stopwords,nGramLength:1,fieldedSearch:!0},pl);pl=[new IngestDoc(pl),new CreateStoredDocument,new NormaliseFields,new LowCase,new Tokeniser,new RemoveStopWords,new CharacterNormaliser,new CalculateTermFrequency,new CreateCompositeVector,new FieldedSearch];return pumpify.obj.apply(this,pl)},exports.customPipeline=function(pl){return pumpify.obj.apply(this,pl)}},{"./pipeline/CalculateTermFrequency.js":27,"./pipeline/CharacterNormaliser.js":28,"./pipeline/CreateCompositeVector.js":29,"./pipeline/CreateStoredDocument.js":30,"./pipeline/FieldedSearch.js":31,"./pipeline/IngestDoc.js":32,"./pipeline/LowCase.js":33,"./pipeline/NormaliseFields.js":34,"./pipeline/RemoveStopWords.js":35,"./pipeline/Spy.js":36,"./pipeline/Tokeniser.js":37,pumpify:115}],27:[function(CalculateTermFrequency,module,exports){function objectify(result,item){return result[item[0].join(" ")]=item[1],result}const tv=CalculateTermFrequency("term-vector"),tf=CalculateTermFrequency("term-frequency"),Transform=CalculateTermFrequency("stream").Transform,util=CalculateTermFrequency("util");CalculateTermFrequency=function(options){Transform.call(this,{objectMode:!0})};module.exports=CalculateTermFrequency,util.inherits(CalculateTermFrequency,Transform),CalculateTermFrequency.prototype._transform=function(doc,encoding,end){var fieldName,options=Object.assign({},{fieldOptions:{},nGramLength:1,searchable:!0,weight:0,wildcard:!0},doc.options||{});for(fieldName in doc.tokenised){var fieldOptions=Object.assign({},{nGramLength:options.nGramLength,searchable:options.searchable,weight:options.weight,wildcard:options.wildcard},options.fieldOptions[fieldName]),field=doc.tokenised[fieldName];fieldOptions.searchable&&(doc.vector[fieldName]=tf.getTermFrequency(tv.getVector(field,fieldOptions.nGramLength),{scheme:tf.doubleNormalization0point5,weight:fieldOptions.weight}).reduce(objectify,{}),!0===fieldOptions.wildcard&&(doc.vector[fieldName]["*"]=1))}return this.push(doc),end()}},{stream:126,"term-frequency":146,"term-vector":147,util:153}],28:[function(CharacterNormaliser,module,exports){const Transform=CharacterNormaliser("stream").Transform,util=CharacterNormaliser("util");CharacterNormaliser=function(options){Transform.call(this,{objectMode:!0})};module.exports=CharacterNormaliser,util.inherits(CharacterNormaliser,Transform),CharacterNormaliser.prototype._transform=function(doc,encoding,end){var fieldName,options=Object.assign({},{fieldOptions:{},normaliseCharacters:!1},doc.options||{});for(fieldName in doc.normalised)Object.assign({},{normaliseCharacters:options.normaliseCharacters},options.fieldOptions[fieldName]).normaliseCharacters&&"id"!==fieldName&&(doc.tokenised[fieldName]=doc.tokenised[fieldName].map(function(token){return Array.from(token).map(function(c){return c.normalize("NFKD")[0]}).join("")}));return this.push(doc),end()}},{stream:126,util:153}],29:[function(CreateCompositeVector,module,exports){const Transform=CreateCompositeVector("stream").Transform,util=CreateCompositeVector("util");CreateCompositeVector=function(options){Transform.call(this,{objectMode:!0})};module.exports=CreateCompositeVector,util.inherits(CreateCompositeVector,Transform),CreateCompositeVector.prototype._transform=function(doc,encoding,end){var fieldName,options=Object.assign({},{fieldOptions:{},compositeField:!0,searchable:!0},doc.options||{});if(!1===options.compositeField)return this.push(doc),end();for(fieldName in doc.vector["*"]={},doc.vector)if(Object.assign({},{searchable:options.searchable},options.fieldOptions[fieldName]).searchable){var token,vec=doc.vector[fieldName];for(token in vec)doc.vector["*"][token]=doc.vector["*"][token]||vec[token],doc.vector["*"][token]=(doc.vector["*"][token]+vec[token])/2}return this.push(doc),end()}},{stream:126,util:153}],30:[function(CreateStoredDocument,module,exports){const Transform=CreateStoredDocument("stream").Transform,util=CreateStoredDocument("util");CreateStoredDocument=function(options){Transform.call(this,{objectMode:!0})};module.exports=CreateStoredDocument,util.inherits(CreateStoredDocument,Transform),CreateStoredDocument.prototype._transform=function(doc,encoding,end){var fieldName,options=Object.assign({},{fieldOptions:{},storeable:!0},doc.options||{});for(fieldName in doc.raw){var fieldOptions=Object.assign({},{storeable:options.storeable},options.fieldOptions[fieldName]);"id"===fieldName&&(fieldOptions.storeable=!0),fieldOptions.storeable&&(doc.stored[fieldName]=JSON.parse(JSON.stringify(doc.raw[fieldName])))}return this.push(doc),end()}},{stream:126,util:153}],31:[function(FieldedSearch,module,exports){const Transform=FieldedSearch("stream").Transform,util=FieldedSearch("util");FieldedSearch=function(options){Transform.call(this,{objectMode:!0})};module.exports=FieldedSearch,util.inherits(FieldedSearch,Transform),FieldedSearch.prototype._transform=function(doc,encoding,end){var fieldName,options=Object.assign({},{fieldOptions:{},fieldedSearch:!0},doc.options||{});for(fieldName in doc.vector)Object.assign({},{fieldedSearch:options.fieldedSearch},options.fieldOptions[fieldName]).fieldedSearch||"*"===fieldName||delete doc.vector[fieldName];return options.log&&options.log.info(doc),this.push(doc),end()}},{stream:126,util:153}],32:[function(IngestDoc,module,exports){const util=IngestDoc("util"),Transform=IngestDoc("stream").Transform;IngestDoc=function(options){this.options=options,this.i=0,Transform.call(this,{objectMode:!0})};module.exports=IngestDoc,util.inherits(IngestDoc,Transform),IngestDoc.prototype._transform=function(doc,encoding,end){var ingestedDoc={normalised:{},options:this.options,raw:JSON.parse(JSON.stringify(doc)),stored:{},tokenised:{},vector:{}};return doc.id?ingestedDoc.id=String(doc.id):ingestedDoc.id=Date.now()+"-"+ ++this.i,this.push(ingestedDoc),end()}},{stream:126,util:153}],33:[function(LowCase,module,exports){const Transform=LowCase("stream").Transform,util=LowCase("util");LowCase=function(){Transform.call(this,{objectMode:!0})};module.exports=LowCase,util.inherits(LowCase,Transform),LowCase.prototype._transform=function(doc,encoding,end){var fieldName,options=this.options=Object.assign({},{fieldOptions:{},preserveCase:!1},doc.options||{});for(fieldName in doc.normalised)"id"!==fieldName&&!1===Object.assign({},{preserveCase:options.preserveCase},options.fieldOptions[fieldName]).preserveCase&&("[object Array]"===Object.prototype.toString.call(doc.normalised[fieldName])?doc.normalised[fieldName]=doc.normalised[fieldName].map(function(token){return token.toLowerCase()}):doc.normalised[fieldName]=doc.normalised[fieldName].toLowerCase());return this.push(doc),end()}},{stream:126,util:153}],34:[function(NormaliseFields,module,exports){const util=NormaliseFields("util"),Transform=NormaliseFields("stream").Transform;NormaliseFields=function(){Transform.call(this,{objectMode:!0})};module.exports=NormaliseFields,util.inherits(NormaliseFields,Transform),NormaliseFields.prototype._transform=function(doc,encoding,end){var fieldName,options=this.options=Object.assign({},{fieldOptions:{},normaliser:/[[\],{}:"]+/g},doc.options||{});for(fieldName in doc.raw){var fieldOptions=Object.assign({},{normaliser:options.normaliser},options.fieldOptions[fieldName]);"[object Array]"===Object.prototype.toString.call(doc.raw[fieldName])?doc.normalised[fieldName]=doc.raw[fieldName].map(function(item){return(item="[object String]"!==Object.prototype.toString.call(item)?JSON.stringify(item):item).replace(fieldOptions.normaliser," ").replace(/\s\s+/g," ").trim()}):"[object String]"!==Object.prototype.toString.call(doc.raw[fieldName])?doc.normalised[fieldName]=JSON.stringify(doc.raw[fieldName]).replace(fieldOptions.normaliser," ").replace(/\s\s+/g," ").trim():doc.normalised[fieldName]=doc.raw[fieldName].trim()}return this.push(doc),end()}},{stream:126,util:153}],35:[function(RemoveStopWords,module,exports){const Transform=RemoveStopWords("stream").Transform,util=RemoveStopWords("util");RemoveStopWords=function(options){Transform.call(this,{objectMode:!0})};module.exports=RemoveStopWords,util.inherits(RemoveStopWords,Transform),RemoveStopWords.prototype._transform=function(doc,encoding,end){var fieldName,options=Object.assign({},{fieldOptions:{},stopwords:[]},doc.options||{});for(fieldName in doc.normalised){var fieldOptions=Object.assign({},{stopwords:options.stopwords},options.fieldOptions[fieldName]);doc.tokenised[fieldName]=doc.tokenised[fieldName].filter(function(item){return-1===fieldOptions.stopwords.indexOf(item)}).filter(function(i){return i})}return this.push(doc),end()}},{stream:126,util:153}],36:[function(Spy,module,exports){const Transform=Spy("stream").Transform,util=Spy("util");Spy=function(){Transform.call(this,{objectMode:!0})};module.exports=Spy,util.inherits(Spy,Transform),Spy.prototype._transform=function(doc,encoding,end){return console.log(JSON.stringify(doc,null,2)),this.push(doc),end()}},{stream:126,util:153}],37:[function(Tokeniser,module,exports){const Transform=Tokeniser("stream").Transform,util=Tokeniser("util");Tokeniser=function(options){Transform.call(this,{objectMode:!0})};module.exports=Tokeniser,util.inherits(Tokeniser,Transform),Tokeniser.prototype._transform=function(doc,encoding,end){var fieldName,options=this.options=Object.assign({},{fieldOptions:{},separator:/\\n|[|' ><.,\-|]+|\\u0003/},doc.options||{});for(fieldName in doc.normalised){var fieldOptions=Object.assign({},{separator:options.separator},options.fieldOptions[fieldName]);"[object Array]"===Object.prototype.toString.call(doc.normalised[fieldName])?doc.tokenised[fieldName]=doc.normalised[fieldName]:doc.tokenised[fieldName]=doc.normalised[fieldName].split(fieldOptions.separator)}return this.push(doc),end()}},{stream:126,util:153}],38:[function(require,module,exports){!function(process,Buffer){!function(){function onuncork(self,fn){self._corked?self.once("uncork",fn):fn()}function destroyer(self,end){return function(err){err?self.destroy("premature close"===err.message?null:err):end&&!self._ended&&self.end()}}function Duplexify(writable,readable,opts){if(!(this instanceof Duplexify))return new Duplexify(writable,readable,opts);stream.Duplex.call(this,opts),this._writable=null,this._readable=null,this._readable2=null,this._forwardDestroy=!opts||!1!==opts.destroy,this._forwardEnd=!opts||!1!==opts.end,this._corked=1,this._ondrain=null,this._drained=!1,this._forwarding=!1,this._unwrite=null,this._unread=null,this._ended=!1,this.destroyed=!1,writable&&this.setWritable(writable),readable&&this.setReadable(readable)}var stream=require("readable-stream"),eos=require("end-of-stream"),inherits=require("inherits"),shift=require("stream-shift"),SIGNAL_FLUSH=new Buffer([0]);inherits(Duplexify,stream.Duplex),Duplexify.obj=function(writable,readable,opts){return(opts=opts||{}).objectMode=!0,opts.highWaterMark=16,new Duplexify(writable,readable,opts)},Duplexify.prototype.cork=function(){1==++this._corked&&this.emit("cork")},Duplexify.prototype.uncork=function(){this._corked&&0==--this._corked&&this.emit("uncork")},Duplexify.prototype.setWritable=function(writable){var self,unend,ondrain;this._unwrite&&this._unwrite(),this.destroyed?writable&&writable.destroy&&writable.destroy():null!==writable&&!1!==writable?(unend=eos(writable,{writable:!0,readable:!1},destroyer(self=this,this._forwardEnd)),ondrain=function(){var ondrain=self._ondrain;self._ondrain=null,ondrain&&ondrain()},this._unwrite&&process.nextTick(ondrain),this._writable=writable,this._writable.on("drain",ondrain),this._unwrite=function(){self._writable.removeListener("drain",ondrain),unend()},this.uncork()):this.end()},Duplexify.prototype.setReadable=function(rs){if(this._unread&&this._unread(),this.destroyed)rs&&rs.destroy&&rs.destroy();else{if(null===rs||!1===rs)return this.push(null),void this.resume();var self=this,unend=eos(rs,{writable:!1,readable:!0},destroyer(this)),onreadable=function(){self._forward()},onend=function(){self.push(null)};this._drained=!0,this._readable=rs,this._readable2=rs._readableState?rs:(rs=rs,new stream.Readable({objectMode:!0,highWaterMark:16}).wrap(rs)),this._readable2.on("readable",onreadable),this._readable2.on("end",onend),this._unread=function(){self._readable2.removeListener("readable",onreadable),self._readable2.removeListener("end",onend),unend()},this._forward()}},Duplexify.prototype._read=function(){this._drained=!0,this._forward()},Duplexify.prototype._forward=function(){if(!this._forwarding&&this._readable2&&this._drained){var data;for(this._forwarding=!0;this._drained&&null!==(data=shift(this._readable2));)this.destroyed||(this._drained=this.push(data));this._forwarding=!1}},Duplexify.prototype.destroy=function(err){var self;this.destroyed||(this.destroyed=!0,self=this,process.nextTick(function(){self._destroy(err)}))},Duplexify.prototype._destroy=function(err){var ondrain;err&&(ondrain=this._ondrain,this._ondrain=null,ondrain?ondrain(err):this.emit("error",err)),this._forwardDestroy&&(this._readable&&this._readable.destroy&&this._readable.destroy(),this._writable&&this._writable.destroy&&this._writable.destroy()),this.emit("close")},Duplexify.prototype._write=function(data,enc,cb){return this.destroyed?cb():this._corked?onuncork(this,this._write.bind(this,data,enc,cb)):data===SIGNAL_FLUSH?this._finish(cb):this._writable?void(!1===this._writable.write(data)?this._ondrain=cb:cb()):cb()},Duplexify.prototype._finish=function(cb){var self=this;this.emit("preend"),onuncork(this,function(){var ws,fn;ws=self._forwardEnd&&self._writable,fn=function(){!1===self._writableState.prefinished&&(self._writableState.prefinished=!0),self.emit("prefinish"),onuncork(self,cb)},!ws||ws._writableState&&ws._writableState.finished?fn():ws._writableState?ws.end(fn):(ws.end(),fn())})},Duplexify.prototype.end=function(data,enc,cb){return"function"==typeof data?this.end(null,null,data):"function"==typeof enc?this.end(data,null,enc):(this._ended=!0,data&&this.write(data),this._writableState.ending||this.write(SIGNAL_FLUSH),stream.Writable.prototype.end.call(this,cb))},module.exports=Duplexify}.call(this)}.call(this,require("_process"),require("buffer").Buffer)},{_process:112,buffer:20,"end-of-stream":40,inherits:59,"readable-stream":124,"stream-shift":144}],39:[function(require,module,exports){"use strict";var AbstractLevelDOWN=require("abstract-leveldown").AbstractLevelDOWN,AbstractChainedBatch=require("abstract-leveldown").AbstractChainedBatch,AbstractIterator=require("abstract-leveldown").AbstractIterator,inherits=require("inherits"),Codec=require("level-codec"),EncodingError=require("level-errors").EncodingError,rangeMethods=["approximateSize","compactRange"];function DB(db,opts){if(!(this instanceof DB))return new DB(db,opts);var manifest=db.supports||{},additionalMethods=manifest.additionalMethods||{};AbstractLevelDOWN.call(this,manifest),this.supports.encodings=!0,this.supports.additionalMethods={},rangeMethods.forEach(function(m){var fallback="function"==typeof db[m];(additionalMethods[m]||fallback)&&(this.supports.additionalMethods[m]=!0,this[m]=function(start,end,opts,cb){return start=this.codec.encodeKey(start,opts),end=this.codec.encodeKey(end,opts),this.db[m](start,end,opts,cb)})},this),void 0===(opts=opts||{}).keyEncoding&&(opts.keyEncoding="utf8"),void 0===opts.valueEncoding&&(opts.valueEncoding="utf8"),this.db=db,this.codec=new Codec(opts)}function Iterator(db,opts){AbstractIterator.call(this,db),this.codec=db.codec,this.keys=opts.keys,this.values=opts.values,this.opts=this.codec.encodeLtgt(opts),this.it=db.db.iterator(this.opts)}function Batch(db,codec){AbstractChainedBatch.call(this,db),this.codec=db.codec,this.batch=db.db.batch()}inherits(module.exports=DB.default=DB,AbstractLevelDOWN),DB.prototype.type="encoding-down",DB.prototype._serializeKey=DB.prototype._serializeValue=function(datum){return datum},DB.prototype._open=function(opts,cb){this.db.open(opts,cb)},DB.prototype._close=function(cb){this.db.close(cb)},DB.prototype._put=function(key,value,opts,cb){key=this.codec.encodeKey(key,opts),value=this.codec.encodeValue(value,opts),this.db.put(key,value,opts,cb)},DB.prototype._get=function(key,opts,cb){var self=this;key=this.codec.encodeKey(key,opts),opts.asBuffer=this.codec.valueAsBuffer(opts),this.db.get(key,opts,function(err,value){if(err)return cb(err);try{value=self.codec.decodeValue(value,opts)}catch(err){return cb(new EncodingError(err))}cb(null,value)})},DB.prototype._del=function(key,opts,cb){key=this.codec.encodeKey(key,opts),this.db.del(key,opts,cb)},DB.prototype._chainedBatch=function(){return new Batch(this)},DB.prototype._batch=function(ops,opts,cb){ops=this.codec.encodeBatch(ops,opts),this.db.batch(ops,opts,cb)},DB.prototype._iterator=function(opts){return opts.keyAsBuffer=this.codec.keyAsBuffer(opts),opts.valueAsBuffer=this.codec.valueAsBuffer(opts),new Iterator(this,opts)},DB.prototype._clear=function(opts,callback){opts=this.codec.encodeLtgt(opts),this.db.clear(opts,callback)},inherits(Iterator,AbstractIterator),Iterator.prototype._next=function(cb){var self=this;this.it.next(function(err,key,value){if(err)return cb(err);try{key=self.keys&&void 0!==key?self.codec.decodeKey(key,self.opts):void 0,value=self.values&&void 0!==value?self.codec.decodeValue(value,self.opts):void 0}catch(err){return cb(new EncodingError(err))}cb(null,key,value)})},Iterator.prototype._seek=function(key){key=this.codec.encodeKey(key,this.opts),this.it.seek(key)},Iterator.prototype._end=function(cb){this.it.end(cb)},inherits(Batch,AbstractChainedBatch),Batch.prototype._put=function(key,value){key=this.codec.encodeKey(key),value=this.codec.encodeValue(value),this.batch.put(key,value)},Batch.prototype._del=function(key){key=this.codec.encodeKey(key),this.batch.del(key)},Batch.prototype._clear=function(){this.batch.clear()},Batch.prototype._write=function(opts,cb){this.batch.write(opts,cb)}},{"abstract-leveldown":10,inherits:59,"level-codec":68,"level-errors":70}],40:[function(require,module,exports){function noop(){}function eos(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);function onlegacyfinish(){stream.writable||onfinish()}function onfinish(){writable=!1,readable||callback.call(stream)}function onend(){readable=!1,writable||callback.call(stream)}function onexit(exitCode){callback.call(stream,exitCode?new Error("exited with error code: "+exitCode):null)}function onclose(){return(!readable||rs&&rs.ended)&&(!writable||ws&&ws.ended)?void 0:callback.call(stream,new Error("premature close"))}function onrequest(){stream.req.on("finish",onfinish)}opts=opts||{},callback=once(callback||noop);var ws=stream._writableState,rs=stream._readableState,readable=opts.readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable;return!function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?writable&&!ws&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)):(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)),function(stream){return stream.stdio&&Array.isArray(stream.stdio)&&3===stream.stdio.length}(stream)&&stream.on("exit",onexit),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",callback),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("exit",onexit),stream.removeListener("end",onend),stream.removeListener("error",callback),stream.removeListener("close",onclose)}}var once=require("once");module.exports=eos},{once:110}],41:[function(require,module,exports){var prr=require("prr");function init(type,message,cause){message&&"string"!=typeof message&&(message=message.message||message.name),prr(this,{type:type,name:type,cause:"string"!=typeof message?message:cause,message:message},"ewr")}function CustomError(message,cause){Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,this.constructor),init.call(this,"CustomError",message,cause)}function createError(errno,type,proto){function err(message,cause){init.call(this,type,message,cause),"FilesystemError"==type&&(this.code=this.cause.code,this.path=this.cause.path,this.errno=this.cause.errno,this.message=(errno.errno[this.cause.errno]?errno.errno[this.cause.errno].description:this.cause.message)+(this.cause.path?" ["+this.cause.path+"]":"")),Error.call(this),Error.captureStackTrace&&Error.captureStackTrace(this,err)}return err.prototype=new(proto||CustomError),err}CustomError.prototype=new Error,module.exports=function(errno){function ce(type,proto){return createError(errno,type,proto)}return{CustomError:CustomError,FilesystemError:ce("FilesystemError"),createError:ce}}},{prr:113}],42:[function(require,module,exports){var all=module.exports.all=[{errno:-2,code:"ENOENT",description:"no such file or directory"},{errno:-1,code:"UNKNOWN",description:"unknown error"},{errno:0,code:"OK",description:"success"},{errno:1,code:"EOF",description:"end of file"},{errno:2,code:"EADDRINFO",description:"getaddrinfo error"},{errno:3,code:"EACCES",description:"permission denied"},{errno:4,code:"EAGAIN",description:"resource temporarily unavailable"},{errno:5,code:"EADDRINUSE",description:"address already in use"},{errno:6,code:"EADDRNOTAVAIL",description:"address not available"},{errno:7,code:"EAFNOSUPPORT",description:"address family not supported"},{errno:8,code:"EALREADY",description:"connection already in progress"},{errno:9,code:"EBADF",description:"bad file descriptor"},{errno:10,code:"EBUSY",description:"resource busy or locked"},{errno:11,code:"ECONNABORTED",description:"software caused connection abort"},{errno:12,code:"ECONNREFUSED",description:"connection refused"},{errno:13,code:"ECONNRESET",description:"connection reset by peer"},{errno:14,code:"EDESTADDRREQ",description:"destination address required"},{errno:15,code:"EFAULT",description:"bad address in system call argument"},{errno:16,code:"EHOSTUNREACH",description:"host is unreachable"},{errno:17,code:"EINTR",description:"interrupted system call"},{errno:18,code:"EINVAL",description:"invalid argument"},{errno:19,code:"EISCONN",description:"socket is already connected"},{errno:20,code:"EMFILE",description:"too many open files"},{errno:21,code:"EMSGSIZE",description:"message too long"},{errno:22,code:"ENETDOWN",description:"network is down"},{errno:23,code:"ENETUNREACH",description:"network is unreachable"},{errno:24,code:"ENFILE",description:"file table overflow"},{errno:25,code:"ENOBUFS",description:"no buffer space available"},{errno:26,code:"ENOMEM",description:"not enough memory"},{errno:27,code:"ENOTDIR",description:"not a directory"},{errno:28,code:"EISDIR",description:"illegal operation on a directory"},{errno:29,code:"ENONET",description:"machine is not on the network"},{errno:31,code:"ENOTCONN",description:"socket is not connected"},{errno:32,code:"ENOTSOCK",description:"socket operation on non-socket"},{errno:33,code:"ENOTSUP",description:"operation not supported on socket"},{errno:34,code:"ENOENT",description:"no such file or directory"},{errno:35,code:"ENOSYS",description:"function not implemented"},{errno:36,code:"EPIPE",description:"broken pipe"},{errno:37,code:"EPROTO",description:"protocol error"},{errno:38,code:"EPROTONOSUPPORT",description:"protocol not supported"},{errno:39,code:"EPROTOTYPE",description:"protocol wrong type for socket"},{errno:40,code:"ETIMEDOUT",description:"connection timed out"},{errno:41,code:"ECHARSET",description:"invalid Unicode character"},{errno:42,code:"EAIFAMNOSUPPORT",description:"address family for hostname not supported"},{errno:44,code:"EAISERVICE",description:"servname not supported for ai_socktype"},{errno:45,code:"EAISOCKTYPE",description:"ai_socktype not supported"},{errno:46,code:"ESHUTDOWN",description:"cannot send after transport endpoint shutdown"},{errno:47,code:"EEXIST",description:"file already exists"},{errno:48,code:"ESRCH",description:"no such process"},{errno:49,code:"ENAMETOOLONG",description:"name too long"},{errno:50,code:"EPERM",description:"operation not permitted"},{errno:51,code:"ELOOP",description:"too many symbolic links encountered"},{errno:52,code:"EXDEV",description:"cross-device link not permitted"},{errno:53,code:"ENOTEMPTY",description:"directory not empty"},{errno:54,code:"ENOSPC",description:"no space left on device"},{errno:55,code:"EIO",description:"i/o error"},{errno:56,code:"EROFS",description:"read-only file system"},{errno:57,code:"ENODEV",description:"no such device"},{errno:58,code:"ESPIPE",description:"invalid seek"},{errno:59,code:"ECANCELED",description:"operation canceled"}];module.exports.errno={},module.exports.code={},all.forEach(function(error){module.exports.errno[error.errno]=error,module.exports.code[error.code]=error}),module.exports.custom=require("./custom")(module.exports),module.exports.create=module.exports.custom.createError},{"./custom":41}],43:[function(require,module,exports){"use strict";var R="object"==typeof Reflect?Reflect:null,ReflectApply=R&&"function"==typeof R.apply?R.apply:function(target,receiver,args){return Function.prototype.apply.call(target,receiver,args)};var ReflectOwnKeys=R&&"function"==typeof R.ownKeys?R.ownKeys:Object.getOwnPropertySymbols?function(target){return Object.getOwnPropertyNames(target).concat(Object.getOwnPropertySymbols(target))}:function(target){return Object.getOwnPropertyNames(target)},NumberIsNaN=Number.isNaN||function(value){return value!=value};function EventEmitter(){EventEmitter.init.call(this)}module.exports=EventEmitter,module.exports.once=function(emitter,name){return new Promise(function(resolve,reject){function errorListener(err){emitter.removeListener(name,resolver),reject(err)}function resolver(){"function"==typeof emitter.removeListener&&emitter.removeListener("error",errorListener),resolve([].slice.call(arguments))}eventTargetAgnosticAddListener(emitter,name,resolver,{once:!0}),"error"!==name&&function(emitter,handler,flags){"function"==typeof emitter.on&&eventTargetAgnosticAddListener(emitter,"error",handler,flags)}(emitter,errorListener,{once:!0})})},(EventEmitter.EventEmitter=EventEmitter).prototype._events=void 0,EventEmitter.prototype._eventsCount=0,EventEmitter.prototype._maxListeners=void 0;var defaultMaxListeners=10;function checkListener(listener){if("function"!=typeof listener)throw new TypeError('The "listener" argument must be of type Function. Received type '+typeof listener)}function _getMaxListeners(that){return void 0===that._maxListeners?EventEmitter.defaultMaxListeners:that._maxListeners}function _addListener(target,type,warning,prepend){var events,existing;return checkListener(warning),void 0===(events=target._events)?(events=target._events=Object.create(null),target._eventsCount=0):(void 0!==events.newListener&&(target.emit("newListener",type,warning.listener||warning),events=target._events),existing=events[type]),void 0===existing?(existing=events[type]=warning,++target._eventsCount):("function"==typeof existing?existing=events[type]=prepend?[warning,existing]:[existing,warning]:prepend?existing.unshift(warning):existing.push(warning),0<(warning=_getMaxListeners(target))&&existing.length>warning&&!existing.warned&&(existing.warned=!0,(warning=new Error("Possible EventEmitter memory leak detected. "+existing.length+" "+String(type)+" listeners added. Use emitter.setMaxListeners() to increase limit")).name="MaxListenersExceededWarning",warning.emitter=target,warning.type=type,warning.count=existing.length,warning=warning,console&&console.warn&&console.warn(warning))),target}function _onceWrap(state,wrapped,listener){state={fired:!1,wrapFn:void 0,target:state,type:wrapped,listener:listener},wrapped=function(){if(!this.fired)return this.target.removeListener(this.type,this.wrapFn),this.fired=!0,0===arguments.length?this.listener.call(this.target):this.listener.apply(this.target,arguments)}.bind(state);return wrapped.listener=listener,state.wrapFn=wrapped}function _listeners(events,evlistener,unwrap){events=events._events;if(void 0===events)return[];evlistener=events[evlistener];return void 0===evlistener?[]:"function"==typeof evlistener?unwrap?[evlistener.listener||evlistener]:[evlistener]:unwrap?function(arr){for(var ret=new Array(arr.length),i=0;i<ret.length;++i)ret[i]=arr[i].listener||arr[i];return ret}(evlistener):arrayClone(evlistener,evlistener.length)}function listenerCount(evlistener){var events=this._events;if(void 0!==events){evlistener=events[evlistener];if("function"==typeof evlistener)return 1;if(void 0!==evlistener)return evlistener.length}return 0}function arrayClone(arr,n){for(var copy=new Array(n),i=0;i<n;++i)copy[i]=arr[i];return copy}function eventTargetAgnosticAddListener(emitter,name,listener,flags){if("function"==typeof emitter.on)flags.once?emitter.once(name,listener):emitter.on(name,listener);else{if("function"!=typeof emitter.addEventListener)throw new TypeError('The "emitter" argument must be of type EventEmitter. Received type '+typeof emitter);emitter.addEventListener(name,function wrapListener(arg){flags.once&&emitter.removeEventListener(name,wrapListener),listener(arg)})}}Object.defineProperty(EventEmitter,"defaultMaxListeners",{enumerable:!0,get:function(){return defaultMaxListeners},set:function(arg){if("number"!=typeof arg||arg<0||NumberIsNaN(arg))throw new RangeError('The value of "defaultMaxListeners" is out of range. It must be a non-negative number. Received '+arg+".");defaultMaxListeners=arg}}),EventEmitter.init=function(){void 0!==this._events&&this._events!==Object.getPrototypeOf(this)._events||(this._events=Object.create(null),this._eventsCount=0),this._maxListeners=this._maxListeners||void 0},EventEmitter.prototype.setMaxListeners=function(n){if("number"!=typeof n||n<0||NumberIsNaN(n))throw new RangeError('The value of "n" is out of range. It must be a non-negative number. Received '+n+".");return this._maxListeners=n,this},EventEmitter.prototype.getMaxListeners=function(){return _getMaxListeners(this)},EventEmitter.prototype.emit=function(handler){for(var args=[],i=1;i<arguments.length;i++)args.push(arguments[i]);var er,err="error"===handler,events=this._events;if(void 0!==events)err=err&&void 0===events.error;else if(!err)return!1;if(err){if((er=0<args.length?args[0]:er)instanceof Error)throw er;err=new Error("Unhandled error."+(er?" ("+er.message+")":""));throw err.context=er,err}handler=events[handler];if(void 0===handler)return!1;if("function"==typeof handler)ReflectApply(handler,this,args);else for(var len=handler.length,listeners=arrayClone(handler,len),i=0;i<len;++i)ReflectApply(listeners[i],this,args);return!0},EventEmitter.prototype.on=EventEmitter.prototype.addListener=function(type,listener){return _addListener(this,type,listener,!1)},EventEmitter.prototype.prependListener=function(type,listener){return _addListener(this,type,listener,!0)},EventEmitter.prototype.once=function(type,listener){return checkListener(listener),this.on(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.prependOnceListener=function(type,listener){return checkListener(listener),this.prependListener(type,_onceWrap(this,type,listener)),this},EventEmitter.prototype.removeListener=function(type,listener){var list,events,position,i,originalListener;if(checkListener(listener),void 0===(events=this._events))return this;if(void 0===(list=events[type]))return this;if(list===listener||list.listener===listener)0==--this._eventsCount?this._events=Object.create(null):(delete events[type],events.removeListener&&this.emit("removeListener",type,list.listener||listener));else if("function"!=typeof list){for(position=-1,i=list.length-1;0<=i;i--)if(list[i]===listener||list[i].listener===listener){originalListener=list[i].listener,position=i;break}if(position<0)return this;0===position?list.shift():function(list,index){for(;index+1<list.length;index++)list[index]=list[index+1];list.pop()}(list,position),1===list.length&&(events[type]=list[0]),void 0!==events.removeListener&&this.emit("removeListener",type,originalListener||listener)}return this},EventEmitter.prototype.off=EventEmitter.prototype.removeListener,EventEmitter.prototype.removeAllListeners=function(type){var listeners,events=this._events;if(void 0===events)return this;if(void 0===events.removeListener)return 0===arguments.length?(this._events=Object.create(null),this._eventsCount=0):void 0!==events[type]&&(0==--this._eventsCount?this._events=Object.create(null):delete events[type]),this;if(0===arguments.length){for(var key,keys=Object.keys(events),i=0;i<keys.length;++i)"removeListener"!==(key=keys[i])&&this.removeAllListeners(key);return this.removeAllListeners("removeListener"),this._events=Object.create(null),this._eventsCount=0,this}if("function"==typeof(listeners=events[type]))this.removeListener(type,listeners);else if(void 0!==listeners)for(i=listeners.length-1;0<=i;i--)this.removeListener(type,listeners[i]);return this},EventEmitter.prototype.listeners=function(type){return _listeners(this,type,!0)},EventEmitter.prototype.rawListeners=function(type){return _listeners(this,type,!1)},EventEmitter.listenerCount=function(emitter,type){return"function"==typeof emitter.listenerCount?emitter.listenerCount(type):listenerCount.call(emitter,type)},EventEmitter.prototype.listenerCount=listenerCount,EventEmitter.prototype.eventNames=function(){return 0<this._eventsCount?ReflectOwnKeys(this._events):[]}},{}],44:[function(require,module,exports){var hasOwn=Object.prototype.hasOwnProperty,toString=Object.prototype.toString;module.exports=function(obj,fn,ctx){if("[object Function]"!==toString.call(fn))throw new TypeError("iterator must be a function");var l=obj.length;if(l===+l)for(var i=0;i<l;i++)fn.call(ctx,obj[i],i,obj);else for(var k in obj)hasOwn.call(obj,k)&&fn.call(ctx,obj[k],k,obj)}},{}],45:[function(require,module,exports){"use strict";var slice=Array.prototype.slice,toStr=Object.prototype.toString;module.exports=function(that){var target=this;if("function"!=typeof target||"[object Function]"!==toStr.call(target))throw new TypeError("Function.prototype.bind called on incompatible "+target);for(var bound,Empty,args=slice.call(arguments,1),boundLength=Math.max(0,target.length-args.length),boundArgs=[],i=0;i<boundLength;i++)boundArgs.push("$"+i);return bound=Function("binder","return function ("+boundArgs.join(",")+"){ return binder.apply(this,arguments); }")(function(){if(this instanceof bound){var result=target.apply(this,args.concat(slice.call(arguments)));return Object(result)===result?result:this}return target.apply(that,args.concat(slice.call(arguments)))}),target.prototype&&((Empty=function(){}).prototype=target.prototype,bound.prototype=new Empty,Empty.prototype=null),bound}},{}],46:[function(implementation,module,exports){"use strict";implementation=implementation("./implementation");module.exports=Function.prototype.bind||implementation},{"./implementation":45}],47:[function(require,module,exports){"use strict";var $SyntaxError=SyntaxError,$Function=Function,$TypeError=TypeError,getEvalledConstructor=function(expressionSyntax){try{return $Function('"use strict"; return ('+expressionSyntax+").constructor;")()}catch(e){}},$gOPD=Object.getOwnPropertyDescriptor;if($gOPD)try{$gOPD({},"")}catch(e){$gOPD=null}function throwTypeError(){throw new $TypeError}function doEval(name){var value,gen;return"%AsyncFunction%"===name?value=getEvalledConstructor("async function () {}"):"%GeneratorFunction%"===name?value=getEvalledConstructor("function* () {}"):"%AsyncGeneratorFunction%"===name?value=getEvalledConstructor("async function* () {}"):"%AsyncGenerator%"===name?(gen=doEval("%AsyncGeneratorFunction%"))&&(value=gen.prototype):"%AsyncIteratorPrototype%"!==name||(gen=doEval("%AsyncGenerator%"))&&(value=getProto(gen.prototype)),INTRINSICS[name]=value}var ThrowTypeError=$gOPD?function(){try{return throwTypeError}catch(calleeThrows){try{return $gOPD(arguments,"callee").get}catch(gOPDthrows){return throwTypeError}}}():throwTypeError,hasSymbols=require("has-symbols")(),getProto=Object.getPrototypeOf||function(x){return x.__proto__},needsEval={},bind="undefined"==typeof Uint8Array?void 0:getProto(Uint8Array),INTRINSICS={"%AggregateError%":"undefined"==typeof AggregateError?void 0:AggregateError,"%Array%":Array,"%ArrayBuffer%":"undefined"==typeof ArrayBuffer?void 0:ArrayBuffer,"%ArrayIteratorPrototype%":hasSymbols?getProto([][Symbol.iterator]()):void 0,"%AsyncFromSyncIteratorPrototype%":void 0,"%AsyncFunction%":needsEval,"%AsyncGenerator%":needsEval,"%AsyncGeneratorFunction%":needsEval,"%AsyncIteratorPrototype%":needsEval,"%Atomics%":"undefined"==typeof Atomics?void 0:Atomics,"%BigInt%":"undefined"==typeof BigInt?void 0:BigInt,"%Boolean%":Boolean,"%DataView%":"undefined"==typeof DataView?void 0:DataView,"%Date%":Date,"%decodeURI%":decodeURI,"%decodeURIComponent%":decodeURIComponent,"%encodeURI%":encodeURI,"%encodeURIComponent%":encodeURIComponent,"%Error%":Error,"%eval%":eval,"%EvalError%":EvalError,"%Float32Array%":"undefined"==typeof Float32Array?void 0:Float32Array,"%Float64Array%":"undefined"==typeof Float64Array?void 0:Float64Array,"%FinalizationRegistry%":"undefined"==typeof FinalizationRegistry?void 0:FinalizationRegistry,"%Function%":$Function,"%GeneratorFunction%":needsEval,"%Int8Array%":"undefined"==typeof Int8Array?void 0:Int8Array,"%Int16Array%":"undefined"==typeof Int16Array?void 0:Int16Array,"%Int32Array%":"undefined"==typeof Int32Array?void 0:Int32Array,"%isFinite%":isFinite,"%isNaN%":isNaN,"%IteratorPrototype%":hasSymbols?getProto(getProto([][Symbol.iterator]())):void 0,"%JSON%":"object"==typeof JSON?JSON:void 0,"%Map%":"undefined"==typeof Map?void 0:Map,"%MapIteratorPrototype%":"undefined"!=typeof Map&&hasSymbols?getProto((new Map)[Symbol.iterator]()):void 0,"%Math%":Math,"%Number%":Number,"%Object%":Object,"%parseFloat%":parseFloat,"%parseInt%":parseInt,"%Promise%":"undefined"==typeof Promise?void 0:Promise,"%Proxy%":"undefined"==typeof Proxy?void 0:Proxy,"%RangeError%":RangeError,"%ReferenceError%":ReferenceError,"%Reflect%":"undefined"==typeof Reflect?void 0:Reflect,"%RegExp%":RegExp,"%Set%":"undefined"==typeof Set?void 0:Set,"%SetIteratorPrototype%":"undefined"!=typeof Set&&hasSymbols?getProto((new Set)[Symbol.iterator]()):void 0,"%SharedArrayBuffer%":"undefined"==typeof SharedArrayBuffer?void 0:SharedArrayBuffer,"%String%":String,"%StringIteratorPrototype%":hasSymbols?getProto(""[Symbol.iterator]()):void 0,"%Symbol%":hasSymbols?Symbol:void 0,"%SyntaxError%":$SyntaxError,"%ThrowTypeError%":ThrowTypeError,"%TypedArray%":bind,"%TypeError%":$TypeError,"%Uint8Array%":"undefined"==typeof Uint8Array?void 0:Uint8Array,"%Uint8ClampedArray%":"undefined"==typeof Uint8ClampedArray?void 0:Uint8ClampedArray,"%Uint16Array%":"undefined"==typeof Uint16Array?void 0:Uint16Array,"%Uint32Array%":"undefined"==typeof Uint32Array?void 0:Uint32Array,"%URIError%":URIError,"%WeakMap%":"undefined"==typeof WeakMap?void 0:WeakMap,"%WeakRef%":"undefined"==typeof WeakRef?void 0:WeakRef,"%WeakSet%":"undefined"==typeof WeakSet?void 0:WeakSet},LEGACY_ALIASES={"%ArrayBufferPrototype%":["ArrayBuffer","prototype"],"%ArrayPrototype%":["Array","prototype"],"%ArrayProto_entries%":["Array","prototype","entries"],"%ArrayProto_forEach%":["Array","prototype","forEach"],"%ArrayProto_keys%":["Array","prototype","keys"],"%ArrayProto_values%":["Array","prototype","values"],"%AsyncFunctionPrototype%":["AsyncFunction","prototype"],"%AsyncGenerator%":["AsyncGeneratorFunction","prototype"],"%AsyncGeneratorPrototype%":["AsyncGeneratorFunction","prototype","prototype"],"%BooleanPrototype%":["Boolean","prototype"],"%DataViewPrototype%":["DataView","prototype"],"%DatePrototype%":["Date","prototype"],"%ErrorPrototype%":["Error","prototype"],"%EvalErrorPrototype%":["EvalError","prototype"],"%Float32ArrayPrototype%":["Float32Array","prototype"],"%Float64ArrayPrototype%":["Float64Array","prototype"],"%FunctionPrototype%":["Function","prototype"],"%Generator%":["GeneratorFunction","prototype"],"%GeneratorPrototype%":["GeneratorFunction","prototype","prototype"],"%Int8ArrayPrototype%":["Int8Array","prototype"],"%Int16ArrayPrototype%":["Int16Array","prototype"],"%Int32ArrayPrototype%":["Int32Array","prototype"],"%JSONParse%":["JSON","parse"],"%JSONStringify%":["JSON","stringify"],"%MapPrototype%":["Map","prototype"],"%NumberPrototype%":["Number","prototype"],"%ObjectPrototype%":["Object","prototype"],"%ObjProto_toString%":["Object","prototype","toString"],"%ObjProto_valueOf%":["Object","prototype","valueOf"],"%PromisePrototype%":["Promise","prototype"],"%PromiseProto_then%":["Promise","prototype","then"],"%Promise_all%":["Promise","all"],"%Promise_reject%":["Promise","reject"],"%Promise_resolve%":["Promise","resolve"],"%RangeErrorPrototype%":["RangeError","prototype"],"%ReferenceErrorPrototype%":["ReferenceError","prototype"],"%RegExpPrototype%":["RegExp","prototype"],"%SetPrototype%":["Set","prototype"],"%SharedArrayBufferPrototype%":["SharedArrayBuffer","prototype"],"%StringPrototype%":["String","prototype"],"%SymbolPrototype%":["Symbol","prototype"],"%SyntaxErrorPrototype%":["SyntaxError","prototype"],"%TypedArrayPrototype%":["TypedArray","prototype"],"%TypeErrorPrototype%":["TypeError","prototype"],"%Uint8ArrayPrototype%":["Uint8Array","prototype"],"%Uint8ClampedArrayPrototype%":["Uint8ClampedArray","prototype"],"%Uint16ArrayPrototype%":["Uint16Array","prototype"],"%Uint32ArrayPrototype%":["Uint32Array","prototype"],"%URIErrorPrototype%":["URIError","prototype"],"%WeakMapPrototype%":["WeakMap","prototype"],"%WeakSetPrototype%":["WeakSet","prototype"]},bind=require("function-bind"),hasOwn=require("has"),$concat=bind.call(Function.call,Array.prototype.concat),$spliceApply=bind.call(Function.apply,Array.prototype.splice),$replace=bind.call(Function.call,String.prototype.replace),$strSlice=bind.call(Function.call,String.prototype.slice),rePropName=/[^%.[\]]+|\[(?:(-?\d+(?:\.\d+)?)|(["'])((?:(?!\2)[^\\]|\\.)*?)\2)\]|(?=(?:\.|\[\])(?:\.|\[\]|%$))/g,reEscapeChar=/\\(\\)?/g;module.exports=function(name,allowMissing){if("string"!=typeof name||0===name.length)throw new $TypeError("intrinsic name must be a non-empty string");if(1<arguments.length&&"boolean"!=typeof allowMissing)throw new $TypeError('"allowMissing" argument must be a boolean');var intrinsicRealName,parts=function(string){var first=$strSlice(string,0,1),last=$strSlice(string,-1);if("%"===first&&"%"!==last)throw new $SyntaxError("invalid intrinsic syntax, expected closing `%`");if("%"===last&&"%"!==first)throw new $SyntaxError("invalid intrinsic syntax, expected opening `%`");var result=[];return $replace(string,rePropName,function(match,number,quote,subString){result[result.length]=quote?$replace(subString,reEscapeChar,"$1"):number||match}),result}(name),intrinsicBaseName=0<parts.length?parts[0]:"",alias=function(name,allowMissing){var alias,intrinsicName=name;if(hasOwn(LEGACY_ALIASES,intrinsicName)&&(intrinsicName="%"+(alias=LEGACY_ALIASES[intrinsicName])[0]+"%"),hasOwn(INTRINSICS,intrinsicName)){var value=INTRINSICS[intrinsicName];if(void 0===(value=value===needsEval?doEval(intrinsicName):value)&&!allowMissing)throw new $TypeError("intrinsic "+name+" exists, but is not available. Please file an issue!");return{alias:alias,name:intrinsicName,value:value}}throw new $SyntaxError("intrinsic "+name+" does not exist!")}("%"+intrinsicBaseName+"%",allowMissing),value=(alias.name,alias.value),skipFurtherCaching=!1,alias=alias.alias;alias&&(intrinsicBaseName=alias[0],$spliceApply(parts,$concat([0,1],alias)));for(var i=1,isOwn=!0;i<parts.length;i+=1){var part=parts[i],first=$strSlice(part,0,1),desc=$strSlice(part,-1);if(('"'===first||"'"===first||"`"===first||'"'===desc||"'"===desc||"`"===desc)&&first!==desc)throw new $SyntaxError("property names with quotes must have matching quotes");if("constructor"!==part&&isOwn||(skipFurtherCaching=!0),hasOwn(INTRINSICS,intrinsicRealName="%"+(intrinsicBaseName+="."+part)+"%"))value=INTRINSICS[intrinsicRealName];else if(null!=value){if(!(part in value)){if(!allowMissing)throw new $TypeError("base intrinsic for "+name+" exists, but the property is not available.");return}value=$gOPD&&i+1>=parts.length?(isOwn=!!(desc=$gOPD(value,part)))&&"get"in desc&&!("originalValue"in desc.get)?desc.get:value[part]:(isOwn=hasOwn(value,part),value[part]),isOwn&&!skipFurtherCaching&&(INTRINSICS[intrinsicRealName]=value)}}return value}},{"function-bind":46,has:48,"has-symbols":49}],48:[function(bind,module,exports){"use strict";bind=bind("function-bind");module.exports=bind.call(Function.call,Object.prototype.hasOwnProperty)},{"function-bind":46}],49:[function(require,module,exports){"use strict";var origSymbol="undefined"!=typeof Symbol&&Symbol,hasSymbolSham=require("./shams");module.exports=function(){return"function"==typeof origSymbol&&("function"==typeof Symbol&&("symbol"==typeof origSymbol("foo")&&("symbol"==typeof Symbol("bar")&&hasSymbolSham())))}},{"./shams":50}],50:[function(require,module,exports){"use strict";module.exports=function(){if("function"!=typeof Symbol||"function"!=typeof Object.getOwnPropertySymbols)return!1;if("symbol"==typeof Symbol.iterator)return!0;var descriptor={},sym=Symbol("test"),syms=Object(sym);if("string"==typeof sym)return!1;if("[object Symbol]"!==Object.prototype.toString.call(sym))return!1;if("[object Symbol]"!==Object.prototype.toString.call(syms))return!1;for(sym in descriptor[sym]=42,descriptor)return!1;if("function"==typeof Object.keys&&0!==Object.keys(descriptor).length)return!1;if("function"==typeof Object.getOwnPropertyNames&&0!==Object.getOwnPropertyNames(descriptor).length)return!1;syms=Object.getOwnPropertySymbols(descriptor);if(1!==syms.length||syms[0]!==sym)return!1;if(!Object.prototype.propertyIsEnumerable.call(descriptor,sym))return!1;if("function"==typeof Object.getOwnPropertyDescriptor){descriptor=Object.getOwnPropertyDescriptor(descriptor,sym);if(42!==descriptor.value||!0!==descriptor.enumerable)return!1}return!0}},{}],51:[function(require,module,exports){"use strict";var hasSymbols=require("has-symbols/shams");module.exports=function(){return hasSymbols()&&!!Symbol.toStringTag}},{"has-symbols/shams":50}],52:[function(require,module,exports){exports.read=function(buffer,offset,s,mLen,nBytes){var e,m,eLen=8*nBytes-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,nBits=-7,i=s?nBytes-1:0,d=s?-1:1,s=buffer[offset+i];for(i+=d,e=s&(1<<-nBits)-1,s>>=-nBits,nBits+=eLen;0<nBits;e=256*e+buffer[offset+i],i+=d,nBits-=8);for(m=e&(1<<-nBits)-1,e>>=-nBits,nBits+=mLen;0<nBits;m=256*m+buffer[offset+i],i+=d,nBits-=8);if(0===e)e=1-eBias;else{if(e===eMax)return m?NaN:1/0*(s?-1:1);m+=Math.pow(2,mLen),e-=eBias}return(s?-1:1)*m*Math.pow(2,e-mLen)},exports.write=function(buffer,value,offset,c,mLen,s){var e,m,eLen=8*s-mLen-1,eMax=(1<<eLen)-1,eBias=eMax>>1,rt=23===mLen?Math.pow(2,-24)-Math.pow(2,-77):0,i=c?0:s-1,d=c?1:-1,s=value<0||0===value&&1/value<0?1:0;for(value=Math.abs(value),isNaN(value)||value===1/0?(m=isNaN(value)?1:0,e=eMax):(e=Math.floor(Math.log(value)/Math.LN2),value*(c=Math.pow(2,-e))<1&&(e--,c*=2),2<=(value+=1<=e+eBias?rt/c:rt*Math.pow(2,1-eBias))*c&&(e++,c/=2),eMax<=e+eBias?(m=0,e=eMax):1<=e+eBias?(m=(value*c-1)*Math.pow(2,mLen),e+=eBias):(m=value*Math.pow(2,eBias-1)*Math.pow(2,mLen),e=0));8<=mLen;buffer[offset+i]=255&m,i+=d,m/=256,mLen-=8);for(e=e<<mLen|m,eLen+=mLen;0<eLen;buffer[offset+i]=255&e,i+=d,e/=256,eLen-=8);buffer[offset+i-d]|=128*s}},{}],53:[function(require,module,exports){"use strict";var draining,currentQueue,scheduleDrain,types=[require("./nextTick"),require("./queueMicrotask"),require("./mutation.js"),require("./messageChannel"),require("./stateChange"),require("./timeout")],queueIndex=-1,queue=[],scheduled=!1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&nextTick())}function nextTick(){if(!draining){draining=!(scheduled=!1);for(var len=queue.length,timeout=setTimeout(cleanUpNextTick);len;){for(currentQueue=queue,queue=[];currentQueue&&++queueIndex<len;)currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!(queueIndex=-1),clearTimeout(timeout)}}for(var i=-1,len=types.length;++i<len;)if(types[i]&&types[i].test&&types[i].test()){scheduleDrain=types[i].install(nextTick);break}function Item(fun,array){this.fun=fun,this.array=array}Item.prototype.run=function(){var fun=this.fun,array=this.array;switch(array.length){case 0:return fun();case 1:return fun(array[0]);case 2:return fun(array[0],array[1]);case 3:return fun(array[0],array[1],array[2]);default:return fun.apply(null,array)}},module.exports=function(task){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(task,args)),scheduled||draining||(scheduled=!0,scheduleDrain())}},{"./messageChannel":54,"./mutation.js":55,"./nextTick":19,"./queueMicrotask":56,"./stateChange":57,"./timeout":58}],54:[function(require,module,exports){!function(global){!function(){"use strict";exports.test=function(){return!global.setImmediate&&void 0!==global.MessageChannel},exports.install=function(func){var channel=new global.MessageChannel;return channel.port1.onmessage=func,function(){channel.port2.postMessage(0)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],55:[function(require,module,exports){!function(global){!function(){"use strict";var Mutation=global.MutationObserver||global.WebKitMutationObserver;exports.test=function(){return Mutation},exports.install=function(observer){var called=0,observer=new Mutation(observer),element=global.document.createTextNode("");return observer.observe(element,{characterData:!0}),function(){element.data=called=++called%2}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],56:[function(require,module,exports){!function(global){!function(){"use strict";exports.test=function(){return"function"==typeof global.queueMicrotask},exports.install=function(func){return function(){global.queueMicrotask(func)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],57:[function(require,module,exports){!function(global){!function(){"use strict";exports.test=function(){return"document"in global&&"onreadystatechange"in global.document.createElement("script")},exports.install=function(handle){return function(){var scriptEl=global.document.createElement("script");return scriptEl.onreadystatechange=function(){handle(),scriptEl.onreadystatechange=null,scriptEl.parentNode.removeChild(scriptEl),scriptEl=null},global.document.documentElement.appendChild(scriptEl),handle}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],58:[function(require,module,exports){"use strict";exports.test=function(){return!0},exports.install=function(t){return function(){setTimeout(t,0)}}},{}],59:[function(require,module,exports){arguments[4][13][0].apply(exports,arguments)},{dup:13}],60:[function(supportsStandardArguments,module,exports){"use strict";function isStandardArguments(value){return!(hasToStringTag&&value&&"object"==typeof value&&Symbol.toStringTag in value)&&"[object Arguments]"===$toString(value)}function isLegacyArguments(value){return!!isStandardArguments(value)||null!==value&&"object"==typeof value&&"number"==typeof value.length&&0<=value.length&&"[object Array]"!==$toString(value)&&"[object Function]"===$toString(value.callee)}var hasToStringTag=supportsStandardArguments("has-tostringtag/shams")(),$toString=supportsStandardArguments("call-bind/callBound")("Object.prototype.toString"),supportsStandardArguments=function(){return isStandardArguments(arguments)}();isStandardArguments.isLegacyArguments=isLegacyArguments,module.exports=supportsStandardArguments?isStandardArguments:isLegacyArguments},{"call-bind/callBound":21,"has-tostringtag/shams":51}],61:[function(require,module,exports){function isBuffer(obj){return!!obj.constructor&&"function"==typeof obj.constructor.isBuffer&&obj.constructor.isBuffer(obj)}module.exports=function(obj){return null!=obj&&(isBuffer(obj)||function(obj){return"function"==typeof obj.readFloatLE&&"function"==typeof obj.slice&&isBuffer(obj.slice(0,0))}(obj)||!!obj._isBuffer)}},{}],62:[function(require,module,exports){"use strict";var GeneratorFunction,toStr=Object.prototype.toString,fnToStr=Function.prototype.toString,isFnRegex=/^\s*(?:function)?\*/,hasToStringTag=require("has-tostringtag/shams")(),getProto=Object.getPrototypeOf;module.exports=function(fn){return"function"==typeof fn&&(!!isFnRegex.test(fnToStr.call(fn))||(hasToStringTag?!!getProto&&(void 0===GeneratorFunction&&(generatorFunc=function(){if(!hasToStringTag)return!1;try{return Function("return function*() {}")()}catch(e){}}(),GeneratorFunction=!!generatorFunc&&getProto(generatorFunc)),getProto(fn)===GeneratorFunction):"[object GeneratorFunction]"===toStr.call(fn)));var generatorFunc}},{"has-tostringtag/shams":51}],63:[function(require,module,exports){!function(global){!function(){"use strict";var forEach=require("foreach"),availableTypedArrays=require("available-typed-arrays"),callBound=require("call-bind/callBound"),$toString=callBound("Object.prototype.toString"),hasToStringTag=require("has-tostringtag/shams")(),g="undefined"==typeof globalThis?global:globalThis,typedArrays=availableTypedArrays(),$indexOf=callBound("Array.prototype.indexOf",!0)||function(array,value){for(var i=0;i<array.length;i+=1)if(array[i]===value)return i;return-1},$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=require("es-abstract/helpers/getOwnPropertyDescriptor"),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(typedArray){var superProto,descriptor=new g[typedArray];Symbol.toStringTag in descriptor&&(superProto=getPrototypeOf(descriptor),(descriptor=gOPD(superProto,Symbol.toStringTag))||(superProto=getPrototypeOf(superProto),descriptor=gOPD(superProto,Symbol.toStringTag)),toStrTags[typedArray]=descriptor.get)});module.exports=function(tag){if(!tag||"object"!=typeof tag)return!1;if(hasToStringTag&&Symbol.toStringTag in tag)return!!gOPD&&function(value){var anyTrue=!1;return forEach(toStrTags,function(getter,typedArray){if(!anyTrue)try{anyTrue=getter.call(value)===typedArray}catch(e){}}),anyTrue}(tag);tag=$slice($toString(tag),8,-1);return-1<$indexOf(typedArrays,tag)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":17,"call-bind/callBound":21,"es-abstract/helpers/getOwnPropertyDescriptor":64,foreach:44,"has-tostringtag/shams":51}],64:[function($gOPD,module,exports){"use strict";$gOPD=$gOPD("get-intrinsic")("%Object.getOwnPropertyDescriptor%",!0);if($gOPD)try{$gOPD([],"length")}catch(e){$gOPD=null}module.exports=$gOPD},{"get-intrinsic":47}],65:[function(require,module,exports){var toString={}.toString;module.exports=Array.isArray||function(arr){return"[object Array]"==toString.call(arr)}},{}],66:[function(require,module,exports){!function(global){"use strict";function bind(scope,func){return function(){return func.apply(scope,arguments)}}function merge(){for(var key,args=arguments,target=args[0],i=1;i<args.length;i++)for(key in args[i])key in target||!args[i].hasOwnProperty(key)||(target[key]=args[i][key]);return target}var logHandler,Logger={VERSION:"1.4.1"},contextualLoggersByNameMap={};Logger.DEBUG={value:1,name:"DEBUG"},Logger.INFO={value:2,name:"INFO"},Logger.TIME={value:3,name:"TIME"},Logger.WARN={value:4,name:"WARN"},Logger.ERROR={value:8,name:"ERROR"},Logger.OFF={value:99,name:"OFF"};function ContextualLogger(defaultContext){this.context=defaultContext,this.setLevel(defaultContext.filterLevel),this.log=this.info}ContextualLogger.prototype={setLevel:function(newLevel){newLevel&&"value"in newLevel&&(this.context.filterLevel=newLevel)},getLevel:function(){return this.context.filterLevel},enabledFor:function(lvl){var filterLevel=this.context.filterLevel;return lvl.value>=filterLevel.value},debug:function(){this.invoke(Logger.DEBUG,arguments)},info:function(){this.invoke(Logger.INFO,arguments)},warn:function(){this.invoke(Logger.WARN,arguments)},error:function(){this.invoke(Logger.ERROR,arguments)},time:function(label){"string"==typeof label&&0<label.length&&this.invoke(Logger.TIME,[label,"start"])},timeEnd:function(label){"string"==typeof label&&0<label.length&&this.invoke(Logger.TIME,[label,"end"])},invoke:function(level,msgArgs){logHandler&&this.enabledFor(level)&&logHandler(msgArgs,merge({level:level},this.context))}};var L,globalLogger=new ContextualLogger({filterLevel:Logger.OFF});(L=Logger).enabledFor=bind(globalLogger,globalLogger.enabledFor),L.debug=bind(globalLogger,globalLogger.debug),L.time=bind(globalLogger,globalLogger.time),L.timeEnd=bind(globalLogger,globalLogger.timeEnd),L.info=bind(globalLogger,globalLogger.info),L.warn=bind(globalLogger,globalLogger.warn),L.error=bind(globalLogger,globalLogger.error),L.log=L.info,Logger.setHandler=function(func){logHandler=func},Logger.setLevel=function(level){for(var key in globalLogger.setLevel(level),contextualLoggersByNameMap)contextualLoggersByNameMap.hasOwnProperty(key)&&contextualLoggersByNameMap[key].setLevel(level)},Logger.getLevel=function(){return globalLogger.getLevel()},Logger.get=function(name){return contextualLoggersByNameMap[name]||(contextualLoggersByNameMap[name]=new ContextualLogger(merge({name:name},globalLogger.context)))},Logger.createDefaultHandler=function(options){(options=options||{}).formatter=options.formatter||function(messages,context){context.name&&messages.unshift("["+context.name+"]")};function invokeConsoleMethod(hdlr,messages){Function.prototype.apply.call(hdlr,console,messages)}var timerStartTimeByLabelMap={};return"undefined"==typeof console?function(){}:function(messages,context){messages=Array.prototype.slice.call(messages);var timerLabel,hdlr=console.log;context.level===Logger.TIME?(timerLabel=(context.name?"["+context.name+"] ":"")+messages[0],"start"===messages[1]?console.time?console.time(timerLabel):timerStartTimeByLabelMap[timerLabel]=(new Date).getTime():console.timeEnd?console.timeEnd(timerLabel):invokeConsoleMethod(hdlr,[timerLabel+": "+((new Date).getTime()-timerStartTimeByLabelMap[timerLabel])+"ms"])):(context.level===Logger.WARN&&console.warn?hdlr=console.warn:context.level===Logger.ERROR&&console.error?hdlr=console.error:context.level===Logger.INFO&&console.info?hdlr=console.info:context.level===Logger.DEBUG&&console.debug&&(hdlr=console.debug),options.formatter(messages,context),invokeConsoleMethod(hdlr,messages))}},Logger.useDefaults=function(options){Logger.setLevel(options&&options.defaultLevel||Logger.DEBUG),Logger.setHandler(Logger.createDefaultHandler(options))},void 0!==module&&module.exports?module.exports=Logger:(Logger._prevLogger=global.Logger,Logger.noConflict=function(){return global.Logger=Logger._prevLogger,Logger},global.Logger=Logger)}(this)},{}],67:[function(require,module,exports){!function(Buffer){!function(){var C={},BACK_SLASH=(C.LEFT_BRACE=1,C.RIGHT_BRACE=2,C.LEFT_BRACKET=3,C.RIGHT_BRACKET=4,C.COLON=5,C.COMMA=6,C.TRUE=7,C.FALSE=8,C.NULL=9,C.STRING=10,C.NUMBER=11,C.START=17,C.STOP=18,C.TRUE1=33,C.TRUE2=34,C.TRUE3=35,C.FALSE1=49,C.FALSE2=50,C.FALSE3=51,C.FALSE4=52,C.NULL1=65,C.NULL2=66,C.NULL3=67,C.NUMBER1=81,C.NUMBER3=83,C.STRING1=97,C.STRING2=98,C.STRING3=99,C.STRING4=100,C.STRING5=101,C.STRING6=102,C.VALUE=113,C.KEY=114,C.OBJECT=129,C.ARRAY=130,"\\".charCodeAt(0)),FORWARD_SLASH="/".charCodeAt(0),BACKSPACE="\b".charCodeAt(0),FORM_FEED="\f".charCodeAt(0),NEWLINE="\n".charCodeAt(0),CARRIAGE_RETURN="\r".charCodeAt(0),TAB="\t".charCodeAt(0);function Parser(){this.tState=17,this.value=void 0,this.string=void 0,this.stringBuffer=Buffer.alloc?Buffer.alloc(65536):new Buffer(65536),this.stringBufferOffset=0,this.unicode=void 0,this.highSurrogate=void 0,this.key=void 0,this.mode=void 0,this.stack=[],this.state=113,this.bytes_remaining=0,this.bytes_in_sequence=0,this.temp_buffs={2:new Buffer(2),3:new Buffer(3),4:new Buffer(4)},this.offset=-1}Parser.toknam=function(code){for(var keys=Object.keys(C),i=0,l=keys.length;i<l;i++){var key=keys[i];if(C[key]===code)return key}return code&&"0x"+code.toString(16)};var proto=Parser.prototype;proto.onError=function(err){throw err},proto.charError=function(buffer,i){this.tState=18,this.onError(new Error("Unexpected "+JSON.stringify(String.fromCharCode(buffer[i]))+" at position "+i+" in state "+Parser.toknam(this.tState)))},proto.appendStringChar=function(char){65536<=this.stringBufferOffset&&(this.string+=this.stringBuffer.toString("utf8"),this.stringBufferOffset=0),this.stringBuffer[this.stringBufferOffset++]=char},proto.appendStringBuf=function(buf,start,end){var size=buf.length;"number"==typeof start&&(size="number"==typeof end?end<0?buf.length-start+end:end-start:buf.length-start),65536<this.stringBufferOffset+(size=size<0?0:size)&&(this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0),buf.copy(this.stringBuffer,this.stringBufferOffset,start,end),this.stringBufferOffset+=size},proto.write=function(buffer){for(var n,intVal,i=0,l=(buffer="string"==typeof buffer?new Buffer(buffer):buffer).length;i<l;i++)if(17===this.tState){if(n=buffer[i],this.offset++,123===n)this.onToken(1,"{");else if(125===n)this.onToken(2,"}");else if(91===n)this.onToken(3,"[");else if(93===n)this.onToken(4,"]");else if(58===n)this.onToken(5,":");else if(44===n)this.onToken(6,",");else if(116===n)this.tState=33;else if(102===n)this.tState=49;else if(110===n)this.tState=65;else if(34===n)this.string="",this.stringBufferOffset=0,this.tState=97;else if(45===n)this.string="-",this.tState=81;else if(48<=n&&n<64)this.string=String.fromCharCode(n),this.tState=83;else if(32!==n&&9!==n&&10!==n&&13!==n)return this.charError(buffer,i)}else if(97===this.tState)if(n=buffer[i],0<this.bytes_remaining){for(var j=0;j<this.bytes_remaining;j++)this.temp_buffs[this.bytes_in_sequence][this.bytes_in_sequence-this.bytes_remaining+j]=buffer[j];this.appendStringBuf(this.temp_buffs[this.bytes_in_sequence]),this.bytes_in_sequence=this.bytes_remaining=0,i=i+j-1}else if(0===this.bytes_remaining&&128<=n){if(n<=193||244<n)return this.onError(new Error("Invalid UTF-8 character at position "+i+" in state "+Parser.toknam(this.tState)));if(194<=n&&n<=223&&(this.bytes_in_sequence=2),224<=n&&n<=239&&(this.bytes_in_sequence=3),240<=n&&n<=244&&(this.bytes_in_sequence=4),this.bytes_in_sequence+i>buffer.length){for(var k=0;k<=buffer.length-1-i;k++)this.temp_buffs[this.bytes_in_sequence][k]=buffer[i+k];this.bytes_remaining=i+this.bytes_in_sequence-buffer.length,i=buffer.length-1}else this.appendStringBuf(buffer,i,i+this.bytes_in_sequence),i=i+this.bytes_in_sequence-1}else if(34===n)this.tState=17,this.string+=this.stringBuffer.toString("utf8",0,this.stringBufferOffset),this.stringBufferOffset=0,this.onToken(10,this.string),this.offset+=Buffer.byteLength(this.string,"utf8")+1,this.string=void 0;else if(92===n)this.tState=98;else{if(!(32<=n))return this.charError(buffer,i);this.appendStringChar(n)}else if(98===this.tState)if(34===(n=buffer[i]))this.appendStringChar(n),this.tState=97;else if(92===n)this.appendStringChar(BACK_SLASH),this.tState=97;else if(47===n)this.appendStringChar(FORWARD_SLASH),this.tState=97;else if(98===n)this.appendStringChar(BACKSPACE),this.tState=97;else if(102===n)this.appendStringChar(FORM_FEED),this.tState=97;else if(110===n)this.appendStringChar(NEWLINE),this.tState=97;else if(114===n)this.appendStringChar(CARRIAGE_RETURN),this.tState=97;else if(116===n)this.appendStringChar(TAB),this.tState=97;else{if(117!==n)return this.charError(buffer,i);this.unicode="",this.tState=99}else if(99===this.tState||100===this.tState||101===this.tState||102===this.tState){if(!(48<=(n=buffer[i])&&n<64||64<n&&n<=70||96<n&&n<=102))return this.charError(buffer,i);this.unicode+=String.fromCharCode(n),102==this.tState++&&(intVal=parseInt(this.unicode,16),(this.unicode=void 0)!==this.highSurrogate&&56320<=intVal&&intVal<57344?(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate,intVal))),this.highSurrogate=void 0):void 0===this.highSurrogate&&55296<=intVal&&intVal<56320?this.highSurrogate=intVal:(void 0!==this.highSurrogate&&(this.appendStringBuf(new Buffer(String.fromCharCode(this.highSurrogate))),this.highSurrogate=void 0),this.appendStringBuf(new Buffer(String.fromCharCode(intVal)))),this.tState=97)}else if(81===this.tState||83===this.tState)switch(n=buffer[i]){case 48:case 49:case 50:case 51:case 52:case 53:case 54:case 55:case 56:case 57:case 46:case 101:case 69:case 43:case 45:this.string+=String.fromCharCode(n),this.tState=83;break;default:this.tState=17;var result=Number(this.string);if(isNaN(result))return this.charError(buffer,i);this.string.match(/[0-9]+/)==this.string&&result.toString()!=this.string?this.onToken(10,this.string):this.onToken(11,result),this.offset+=this.string.length-1,this.string=void 0,i--}else if(33===this.tState){if(114!==buffer[i])return this.charError(buffer,i);this.tState=34}else if(34===this.tState){if(117!==buffer[i])return this.charError(buffer,i);this.tState=35}else if(35===this.tState){if(101!==buffer[i])return this.charError(buffer,i);this.tState=17,this.onToken(7,!0),this.offset+=3}else if(49===this.tState){if(97!==buffer[i])return this.charError(buffer,i);this.tState=50}else if(50===this.tState){if(108!==buffer[i])return this.charError(buffer,i);this.tState=51}else if(51===this.tState){if(115!==buffer[i])return this.charError(buffer,i);this.tState=52}else if(52===this.tState){if(101!==buffer[i])return this.charError(buffer,i);this.tState=17,this.onToken(8,!1),this.offset+=4}else if(65===this.tState){if(117!==buffer[i])return this.charError(buffer,i);this.tState=66}else if(66===this.tState){if(108!==buffer[i])return this.charError(buffer,i);this.tState=67}else if(67===this.tState){if(108!==buffer[i])return this.charError(buffer,i);this.tState=17,this.onToken(9,null),this.offset+=3}},proto.onToken=function(token,value){},proto.parseError=function(token,value){this.tState=18,this.onError(new Error("Unexpected "+Parser.toknam(token)+(value?"("+JSON.stringify(value)+")":"")+" in state "+Parser.toknam(this.state)))},proto.push=function(){this.stack.push({value:this.value,key:this.key,mode:this.mode})},proto.pop=function(){var value=this.value,parent=this.stack.pop();this.value=parent.value,this.key=parent.key,this.mode=parent.mode,this.emit(value),this.mode||(this.state=113)},proto.emit=function(value){this.mode&&(this.state=6),this.onValue(value)},proto.onValue=function(value){},proto.onToken=function(token,value){if(113===this.state)if(10===token||11===token||7===token||8===token||9===token)this.value&&(this.value[this.key]=value),this.emit(value);else if(1===token)this.push(),this.value?this.value=this.value[this.key]={}:this.value={},this.key=void 0,this.state=114,this.mode=129;else if(3===token)this.push(),this.value?this.value=this.value[this.key]=[]:this.value=[],this.key=0,this.mode=130,this.state=113;else if(2===token){if(129!==this.mode)return this.parseError(token,value);this.pop()}else{if(4!==token)return this.parseError(token,value);{if(130!==this.mode)return this.parseError(token,value);this.pop()}}else if(114===this.state)if(10===token)this.key=value,this.state=5;else{if(2!==token)return this.parseError(token,value);this.pop()}else if(5===this.state){if(5!==token)return this.parseError(token,value);this.state=113}else{if(6!==this.state)return this.parseError(token,value);if(6===token)130===this.mode?(this.key++,this.state=113):129===this.mode&&(this.state=114);else{if(!(4===token&&130===this.mode||2===token&&129===this.mode))return this.parseError(token,value);this.pop()}}},Parser.C=C,module.exports=Parser}.call(this)}.call(this,require("buffer").Buffer)},{buffer:20}],68:[function(require,module,exports){var encodings=require("./lib/encodings");function Codec(opts){if(!(this instanceof Codec))return new Codec(opts);this.opts=opts||{},this.encodings=encodings}(module.exports=Codec).prototype._encoding=function(encoding){return encoding=(encoding="string"==typeof encoding?encodings[encoding]:encoding)||encodings.id},Codec.prototype._keyEncoding=function(opts,batchOpts){return this._encoding(batchOpts&&batchOpts.keyEncoding||opts&&opts.keyEncoding||this.opts.keyEncoding)},Codec.prototype._valueEncoding=function(opts,batchOpts){return this._encoding(batchOpts&&(batchOpts.valueEncoding||batchOpts.encoding)||opts&&(opts.valueEncoding||opts.encoding)||this.opts.valueEncoding||this.opts.encoding)},Codec.prototype.encodeKey=function(key,opts,batchOpts){return this._keyEncoding(opts,batchOpts).encode(key)},Codec.prototype.encodeValue=function(value,opts,batchOpts){return this._valueEncoding(opts,batchOpts).encode(value)},Codec.prototype.decodeKey=function(key,opts){return this._keyEncoding(opts).decode(key)},Codec.prototype.decodeValue=function(value,opts){return this._valueEncoding(opts).decode(value)},Codec.prototype.encodeBatch=function(ops,opts){var self=this;return ops.map(function(_op){var op={type:_op.type,key:self.encodeKey(_op.key,opts,_op)};return self.keyAsBuffer(opts,_op)&&(op.keyEncoding="binary"),_op.prefix&&(op.prefix=_op.prefix),"value"in _op&&(op.value=self.encodeValue(_op.value,opts,_op),self.valueAsBuffer(opts,_op)&&(op.valueEncoding="binary")),op})};var ltgtKeys=["lt","gt","lte","gte","start","end"];Codec.prototype.encodeLtgt=function(ltgt){var self=this,ret={};return Object.keys(ltgt).forEach(function(key){ret[key]=-1<ltgtKeys.indexOf(key)?self.encodeKey(ltgt[key],ltgt):ltgt[key]}),ret},Codec.prototype.createStreamDecoder=function(opts){var self=this;return opts.keys&&opts.values?function(key,value){return{key:self.decodeKey(key,opts),value:self.decodeValue(value,opts)}}:opts.keys?function(key){return self.decodeKey(key,opts)}:opts.values?function(_,value){return self.decodeValue(value,opts)}:function(){}},Codec.prototype.keyAsBuffer=function(opts){return this._keyEncoding(opts).buffer},Codec.prototype.valueAsBuffer=function(opts){return this._valueEncoding(opts).buffer}},{"./lib/encodings":69}],69:[function(require,module,exports){var Buffer=require("buffer").Buffer;exports.utf8=exports["utf-8"]={encode:function(data){return isBinary(data)?data:String(data)},decode:identity,buffer:!1,type:"utf8"},exports.json={encode:JSON.stringify,decode:JSON.parse,buffer:!1,type:"json"},exports.binary={encode:function(data){return isBinary(data)?data:Buffer.from(data)},decode:identity,buffer:!0,type:"binary"},exports.none={encode:identity,decode:identity,buffer:!1,type:"id"},exports.id=exports.none;function identity(value){return value}function isBinary(data){return null==data||Buffer.isBuffer(data)}["hex","ascii","base64","ucs2","ucs-2","utf16le","utf-16le"].forEach(function(type){exports[type]={encode:function(data){return isBinary(data)?data:Buffer.from(data,type)},decode:function(buffer){return buffer.toString(type)},buffer:!0,type:type}})},{buffer:20}],70:[function(NotFoundError,module,exports){var createError=NotFoundError("errno").create,LevelUPError=createError("LevelUPError"),NotFoundError=createError("NotFoundError",LevelUPError);NotFoundError.prototype.notFound=!0,NotFoundError.prototype.status=404,module.exports={LevelUPError:LevelUPError,InitializationError:createError("InitializationError",LevelUPError),OpenError:createError("OpenError",LevelUPError),ReadError:createError("ReadError",LevelUPError),WriteError:createError("WriteError",LevelUPError),NotFoundError:NotFoundError,EncodingError:createError("EncodingError",LevelUPError)}},{errno:42}],71:[function(require,module,exports){var inherits=require("inherits"),Readable=require("readable-stream").Readable,extend=require("xtend");function ReadStream(iterator,options){if(!(this instanceof ReadStream))return new ReadStream(iterator,options);Readable.call(this,extend(options=options||{},{objectMode:!0})),this._iterator=iterator,this._options=options,this.on("end",this.destroy.bind(this,null,null))}inherits(module.exports=ReadStream,Readable),ReadStream.prototype._read=function(){var self=this,options=this._options;this.destroyed||this._iterator.next(function(err,key,value){if(!self.destroyed)return err?self.destroy(err):void(void 0===key&&void 0===value?self.push(null):!1!==options.keys&&!1===options.values?self.push(key):!1===options.keys&&!1!==options.values?self.push(value):self.push({key:key,value:value}))})},ReadStream.prototype._destroy=function(err,callback){this._iterator.end(function(err2){callback(err||err2)})}},{inherits:72,"readable-stream":87,xtend:90}],72:[function(require,module,exports){"function"==typeof Object.create?module.exports=function(ctor,superCtor){superCtor&&(ctor.super_=superCtor,ctor.prototype=Object.create(superCtor.prototype,{constructor:{value:ctor,enumerable:!1,writable:!0,configurable:!0}}))}:module.exports=function(ctor,superCtor){var TempCtor;superCtor&&(ctor.super_=superCtor,(TempCtor=function(){}).prototype=superCtor.prototype,ctor.prototype=new TempCtor,ctor.prototype.constructor=ctor)}},{}],73:[function(require,module,exports){"use strict";var codes={};function createErrorType(code,message,Base){var NodeError=function(_Base){var subClass,superClass;function NodeError(arg1,arg2,arg3){return _Base.call(this,function(arg1,arg2,arg3){return"string"==typeof message?message:message(arg1,arg2,arg3)}(arg1,arg2,arg3))||this}return superClass=_Base,(subClass=NodeError).prototype=Object.create(superClass.prototype),(subClass.prototype.constructor=subClass).__proto__=superClass,NodeError}(Base=Base||Error);NodeError.prototype.name=Base.name,NodeError.prototype.code=code,codes[code]=NodeError}function oneOf(expected,thing){if(Array.isArray(expected)){var len=expected.length;return expected=expected.map(function(i){return String(i)}),2<len?"one of ".concat(thing," ").concat(expected.slice(0,len-1).join(", "),", or ")+expected[len-1]:2===len?"one of ".concat(thing," ").concat(expected[0]," or ").concat(expected[1]):"of ".concat(thing," ").concat(expected[0])}return"of ".concat(thing," ").concat(String(expected))}createErrorType("ERR_INVALID_OPT_VALUE",function(name,value){return'The value "'+value+'" is invalid for option "'+name+'"'},TypeError),createErrorType("ERR_INVALID_ARG_TYPE",function(name,msg,actual){var determiner,pos,type;return"string"==typeof msg&&(type="not ",msg.substr(!pos||pos<0?0:+pos,type.length)===type)?(determiner="must not be",msg=msg.replace(/^not /,"")):determiner="must be",msg=function(str,search,this_len){return(void 0===this_len||this_len>str.length)&&(this_len=str.length),str.substring(this_len-search.length,this_len)===search}(name," argument")?"The ".concat(name," ").concat(determiner," ").concat(oneOf(msg,"type")):(type=function(str,search,start){return!((start="number"!=typeof start?0:start)+search.length>str.length)&&-1!==str.indexOf(search,start)}(name,".")?"property":"argument",'The "'.concat(name,'" ').concat(type," ").concat(determiner," ").concat(oneOf(msg,"type"))),msg+=". Received type ".concat(typeof actual)},TypeError),createErrorType("ERR_STREAM_PUSH_AFTER_EOF","stream.push() after EOF"),createErrorType("ERR_METHOD_NOT_IMPLEMENTED",function(name){return"The "+name+" method is not implemented"}),createErrorType("ERR_STREAM_PREMATURE_CLOSE","Premature close"),createErrorType("ERR_STREAM_DESTROYED",function(name){return"Cannot call "+name+" after a stream was destroyed"}),createErrorType("ERR_MULTIPLE_CALLBACK","Callback called multiple times"),createErrorType("ERR_STREAM_CANNOT_PIPE","Cannot pipe, not readable"),createErrorType("ERR_STREAM_WRITE_AFTER_END","write after end"),createErrorType("ERR_STREAM_NULL_VALUES","May not write null values to stream",TypeError),createErrorType("ERR_UNKNOWN_ENCODING",function(arg){return"Unknown encoding: "+arg},TypeError),createErrorType("ERR_STREAM_UNSHIFT_AFTER_END_EVENT","stream.unshift() after end event"),module.exports.codes=codes},{}],74:[function(require,module,exports){!function(process){!function(){"use strict";var objectKeys=Object.keys||function(obj){var key,keys=[];for(key in obj)keys.push(key);return keys};module.exports=Duplex;var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");require("inherits")(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),this.allowHalfOpen=!0,options&&(!1===options.readable&&(this.readable=!1),!1===options.writable&&(this.writable=!1),!1===options.allowHalfOpen&&(this.allowHalfOpen=!1,this.once("end",onend)))}function onend(){this._writableState.ended||process.nextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Object.defineProperty(Duplex.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Duplex.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Duplex.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}})}.call(this)}.call(this,require("_process"))},{"./_stream_readable":76,"./_stream_writable":78,_process:112,inherits:72}],75:[function(require,module,exports){"use strict";module.exports=PassThrough;var Transform=require("./_stream_transform");function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}require("inherits")(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":77,inherits:72}],76:[function(require,module,exports){!function(process,global){!function(){"use strict";var Duplex;(module.exports=Readable).ReadableState=ReadableState;function EElistenerCount(emitter,type){return emitter.listeners(type).length}require("events").EventEmitter;var Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var StringDecoder,createReadableStreamAsyncIterator,from,_require$codes=require("util"),debug=_require$codes&&_require$codes.debuglog?_require$codes.debuglog("stream"):function(){},BufferList=require("./internal/streams/buffer_list"),destroyImpl=require("./internal/streams/destroy"),getHighWaterMark=require("./internal/streams/state").getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_STREAM_PUSH_AFTER_EOF=_require$codes.ERR_STREAM_PUSH_AFTER_EOF,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_STREAM_UNSHIFT_AFTER_END_EVENT=_require$codes.ERR_STREAM_UNSHIFT_AFTER_END_EVENT;require("inherits")(Readable,Stream);var errorOrDestroy=destroyImpl.errorOrDestroy,kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,stream,isDuplex){Duplex=Duplex||require("./_stream_duplex"),"boolean"!=typeof isDuplex&&(isDuplex=stream instanceof Duplex),this.objectMode=!!(options=options||{}).objectMode,isDuplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"readableHighWaterMark",isDuplex),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.paused=!0,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder=StringDecoder||require("string_decoder/").StringDecoder,this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);var isDuplex=this instanceof Duplex;this._readableState=new ReadableState(options,this,isDuplex),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){debug("readableAddChunk",chunk);var er,state=stream._readableState;if(null===chunk)state.reading=!1,function(stream,state){var chunk;debug("onEofChunk"),state.ended||(!state.decoder||(chunk=state.decoder.end())&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length),state.ended=!0,state.sync?emitReadable(stream):(state.needReadable=!1,state.emittedReadable||(state.emittedReadable=!0,emitReadable_(stream))))}(stream,state);else if(er=!skipChunkCheck?function(state,chunk){var er;(function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer","Uint8Array"],chunk));return er}(state,chunk):er)errorOrDestroy(stream,er);else if(state.objectMode||chunk&&0<chunk.length)if("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront)state.endEmitted?errorOrDestroy(stream,new ERR_STREAM_UNSHIFT_AFTER_END_EVENT):addChunk(stream,state,chunk,!0);else if(state.ended)errorOrDestroy(stream,new ERR_STREAM_PUSH_AFTER_EOF);else{if(state.destroyed)return!1;state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1)}else addToFront||(state.reading=!1,maybeReadMore(stream,state));return!state.ended&&(state.length<state.highWaterMark||0===state.length)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(state.awaitDrain=0,stream.emit("data",chunk)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){var decoder=new(StringDecoder=StringDecoder||require("string_decoder/").StringDecoder)(enc);this._readableState.decoder=decoder,this._readableState.encoding=this._readableState.decoder.encoding;for(var p=this._readableState.buffer.head,content="";null!==p;)content+=decoder.write(p.data),p=p.next;return this._readableState.buffer.clear(),""!==content&&this._readableState.buffer.push(content),this._readableState.length=content.length,this};var MAX_HWM=1073741824;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?(state.flowing&&state.length?state.buffer.head.data:state).length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return MAX_HWM<=n?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;debug("emitReadable",state.needReadable,state.emittedReadable),state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,process.nextTick(emitReadable_,stream))}function emitReadable_(stream){var state=stream._readableState;debug("emitReadable_",state.destroyed,state.length,state.ended),state.destroyed||!state.length&&!state.ended||(stream.emit("readable"),state.emittedReadable=!1),state.needReadable=!state.flowing&&!state.ended&&state.length<=state.highWaterMark,flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,process.nextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(;!state.reading&&!state.ended&&(state.length<state.highWaterMark||state.flowing&&0===state.length);){var len=state.length;if(debug("maybeReadMore read 0"),stream.read(0),len===state.length)break}state.readingMore=!1}function updateReadableListening(self){var state=self._readableState;state.readableListening=0<self.listenerCount("readable"),state.resumeScheduled&&!state.paused?state.flowing=!0:0<self.listenerCount("data")&&self.resume()}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){debug("resume",state.reading),state.reading||stream.read(0),state.resumeScheduled=!1,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.first():state.buffer.concat(state.length),state.buffer.clear()):ret=state.buffer.consume(n,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;debug("endReadable",state.endEmitted),state.endEmitted||(state.ended=!0,process.nextTick(endReadableNT,state,stream))}function endReadableNT(wState,stream){debug("endReadableNT",wState.endEmitted,wState.length),wState.endEmitted||0!==wState.length||(wState.endEmitted=!0,stream.readable=!1,stream.emit("end"),!wState.autoDestroy||(!(wState=stream._writableState)||wState.autoDestroy&&wState.finished)&&stream.destroy())}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&((0!==state.highWaterMark?state.length>=state.highWaterMark:0<state.length)||state.ended))return debug("read: emitReadable",state.length,state.ended),(0===state.length&&state.ended?endReadable:emitReadable)(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret=state.needReadable;return debug("need readable",ret),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",ret=!0),state.ended||state.reading?debug("reading or ended",ret=!1):ret&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=0<n?fromList(n,state):null)?(state.needReadable=state.length<=state.highWaterMark,n=0):(state.length-=n,state.awaitDrain=0),0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){errorOrDestroy(this,new ERR_METHOD_NOT_IMPLEMENTED("_read()"))},Readable.prototype.pipe=function(dest,endFn){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,endFn);endFn=(!endFn||!1!==endFn.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug("onend"),dest.end()}state.endEmitted?process.nextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;function ondata(ret){debug("ondata");ret=dest.write(ret);debug("dest.write",ret),!1===ret&&((1===state.pipesCount&&state.pipes===dest||1<state.pipesCount&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",state.awaitDrain),state.awaitDrain++),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&errorOrDestroy(dest,er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?Array.isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes||(dest=dest||state.pipes,state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo)),this;if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,{hasUnpiped:!1});return this}var index=indexOf(state.pipes,dest);return-1===index||(state.pipes.splice(index,1),--state.pipesCount,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo)),this},Readable.prototype.on=function(ev,state){var res=Stream.prototype.on.call(this,ev,state),state=this._readableState;return"data"===ev?(state.readableListening=0<this.listenerCount("readable"),!1!==state.flowing&&this.resume()):"readable"===ev&&(state.endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.flowing=!1,state.emittedReadable=!1,debug("on readable",state.length,state.reading),state.length?emitReadable(this):state.reading||process.nextTick(nReadingNextTick,this))),res},Readable.prototype.addListener=Readable.prototype.on,Readable.prototype.removeListener=function(ev,res){res=Stream.prototype.removeListener.call(this,ev,res);return"readable"===ev&&process.nextTick(updateReadableListening,this),res},Readable.prototype.removeAllListeners=function(ev){var res=Stream.prototype.removeAllListeners.apply(this,arguments);return"readable"!==ev&&void 0!==ev||process.nextTick(updateReadableListening,this),res},Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!state.readableListening,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,process.nextTick(resume_,stream,state))}(this,state)),state.paused=!1,this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this._readableState.paused=!0,this},Readable.prototype.wrap=function(stream){var i,_this=this,state=this._readableState,paused=!1;for(i in stream.on("end",function(){var chunk;debug("wrapped end"),!state.decoder||state.ended||(chunk=state.decoder.end())&&chunk.length&&_this.push(chunk),_this.push(null)}),stream.on("data",function(chunk){debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk||(state.objectMode||chunk&&chunk.length)&&(_this.push(chunk)||(paused=!0,stream.pause()))}),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],this.emit.bind(this,kProxyEvents[n]));return this._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},this},"function"==typeof Symbol&&(Readable.prototype[Symbol.asyncIterator]=function(){return(createReadableStreamAsyncIterator=void 0===createReadableStreamAsyncIterator?require("./internal/streams/async_iterator"):createReadableStreamAsyncIterator)(this)}),Object.defineProperty(Readable.prototype,"readableHighWaterMark",{enumerable:!1,get:function(){return this._readableState.highWaterMark}}),Object.defineProperty(Readable.prototype,"readableBuffer",{enumerable:!1,get:function(){return this._readableState&&this._readableState.buffer}}),Object.defineProperty(Readable.prototype,"readableFlowing",{enumerable:!1,get:function(){return this._readableState.flowing},set:function(state){this._readableState&&(this._readableState.flowing=state)}}),Readable._fromList=fromList,Object.defineProperty(Readable.prototype,"readableLength",{enumerable:!1,get:function(){return this._readableState.length}}),"function"==typeof Symbol&&(Readable.from=function(iterable,opts){return(from=void 0===from?require("./internal/streams/from"):from)(Readable,iterable,opts)})}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":73,"./_stream_duplex":74,"./internal/streams/async_iterator":79,"./internal/streams/buffer_list":80,"./internal/streams/destroy":81,"./internal/streams/from":83,"./internal/streams/state":85,"./internal/streams/stream":86,_process:112,buffer:20,events:43,inherits:72,"string_decoder/":89,util:19}],77:[function(require,_require$codes,exports){"use strict";_require$codes.exports=Transform;var _require$codes=require("../errors").codes,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_TRANSFORM_ALREADY_TRANSFORMING=_require$codes.ERR_TRANSFORM_ALREADY_TRANSFORMING,ERR_TRANSFORM_WITH_LENGTH_0=_require$codes.ERR_TRANSFORM_WITH_LENGTH_0,Duplex=require("./_stream_duplex");function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState={afterTransform:function(rs,data){var ts=this._transformState;ts.transforming=!1;var cb=ts.writecb;if(null===cb)return this.emit("error",new ERR_MULTIPLE_CALLBACK);ts.writechunk=null,(ts.writecb=null)!=data&&this.push(data),cb(rs),(rs=this._readableState).reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark)}.bind(this),needTransform:!1,transforming:!1,writecb:null,writechunk:null,writeencoding:null},this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.on("prefinish",prefinish)}function prefinish(){var _this=this;"function"!=typeof this._flush||this._readableState.destroyed?done(this,null,null):this._flush(function(er,data){done(_this,er,data)})}function done(stream,er,data){if(er)return stream.emit("error",er);if(null!=data&&stream.push(data),stream._writableState.length)throw new ERR_TRANSFORM_WITH_LENGTH_0;if(stream._transformState.transforming)throw new ERR_TRANSFORM_ALREADY_TRANSFORMING;return stream.push(null)}require("inherits")(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_transform()"))},Transform.prototype._write=function(chunk,rs,cb){var ts=this._transformState;ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=rs,ts.transforming||(rs=this._readableState,(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark))},Transform.prototype._read=function(n){var ts=this._transformState;null===ts.writechunk||ts.transforming?ts.needTransform=!0:(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform))},Transform.prototype._destroy=function(err,cb){Duplex.prototype._destroy.call(this,err,function(err2){cb(err2)})}},{"../errors":73,"./_stream_duplex":74,inherits:72}],78:[function(require,module,exports){!function(process,global){!function(){"use strict";function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree.next=corkReq}(_this,state)}}var Duplex;(module.exports=Writable).WritableState=WritableState;var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=require("./internal/streams/destroy"),getHighWaterMark=require("./internal/streams/state").getHighWaterMark,_require$codes=require("../errors").codes,ERR_INVALID_ARG_TYPE=_require$codes.ERR_INVALID_ARG_TYPE,ERR_METHOD_NOT_IMPLEMENTED=_require$codes.ERR_METHOD_NOT_IMPLEMENTED,ERR_MULTIPLE_CALLBACK=_require$codes.ERR_MULTIPLE_CALLBACK,ERR_STREAM_CANNOT_PIPE=_require$codes.ERR_STREAM_CANNOT_PIPE,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED,ERR_STREAM_NULL_VALUES=_require$codes.ERR_STREAM_NULL_VALUES,ERR_STREAM_WRITE_AFTER_END=_require$codes.ERR_STREAM_WRITE_AFTER_END,ERR_UNKNOWN_ENCODING=_require$codes.ERR_UNKNOWN_ENCODING,errorOrDestroy=destroyImpl.errorOrDestroy;function nop(){}function WritableState(options,stream,noDecode){Duplex=Duplex||require("./_stream_duplex"),"boolean"!=typeof noDecode&&(noDecode=stream instanceof Duplex),this.objectMode=!!(options=options||{}).objectMode,noDecode&&(this.objectMode=this.objectMode||!!options.writableObjectMode),this.highWaterMark=getHighWaterMark(this,options,"writableHighWaterMark",noDecode),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;noDecode=(this.destroyed=!1)===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,finished){var state=stream._writableState,sync=state.sync,cb=state.writecb;if("function"!=typeof cb)throw new ERR_MULTIPLE_CALLBACK;(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0})(state),finished?function(stream,state,sync,er,cb){--state.pendingcb,sync?(process.nextTick(cb,er),process.nextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er)):(cb(er),stream._writableState.errorEmitted=!0,errorOrDestroy(stream,er),finishMaybe(stream,state))}(stream,state,sync,finished,cb):((finished=needFinish(state)||stream.destroyed)||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?process.nextTick(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb))}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.emitClose=!1!==options.emitClose,this.autoDestroy=!!options.autoDestroy,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){var isDuplex=this instanceof(Duplex=Duplex||require("./_stream_duplex"));if(!isDuplex&&!realHasInstance.call(Writable,this))return new Writable(options);this._writableState=new WritableState(options,this,isDuplex),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,state.destroyed?state.onwrite(new ERR_STREAM_DESTROYED("write")):writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var holder=state.bufferedRequestCount,buffer=new Array(holder),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)(buffer[count]=entry).isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state),state.bufferedRequestCount=0}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.bufferedRequestCount--,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&errorOrDestroy(stream,err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function finishMaybe(stream,rState){var need=needFinish(rState);return need&&(function(stream,state){state.prefinished||state.finalCalled||("function"!=typeof stream._final||state.destroyed?(state.prefinished=!0,stream.emit("prefinish")):(state.pendingcb++,state.finalCalled=!0,process.nextTick(callFinal,stream,state)))}(stream,rState),0===rState.pendingcb&&(rState.finished=!0,stream.emit("finish"),!rState.autoDestroy||(!(rState=stream._readableState)||rState.autoDestroy&&rState.endEmitted)&&stream.destroy())),need}require("inherits")(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||this===Writable&&(object&&object._writableState instanceof WritableState)}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){errorOrDestroy(this,new ERR_STREAM_CANNOT_PIPE)},Writable.prototype.write=function(chunk,encoding,cb){var isBuf,state=this._writableState,ret=!1,isBuf=!state.objectMode&&(isBuf=chunk,Buffer.isBuffer(isBuf)||isBuf instanceof OurUint8Array);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),encoding=isBuf?"buffer":encoding||state.defaultEncoding,"function"!=typeof cb&&(cb=nop),state.ending?function(stream,cb){var er=new ERR_STREAM_WRITE_AFTER_END;errorOrDestroy(stream,er),process.nextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var er;return null===chunk?er=new ERR_STREAM_NULL_VALUES:"string"==typeof chunk||state.objectMode||(er=new ERR_INVALID_ARG_TYPE("chunk",["string","Buffer"],chunk)),!er||(errorOrDestroy(stream,er),void process.nextTick(cb,er))}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){isBuf||(last=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding),chunk!==last&&(isBuf=!0,encoding="buffer",chunk=last));var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);{var last;state.writing||state.corked?(last=state.lastBufferedRequest,state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1):doWrite(stream,state,!1,len,chunk,encoding,cb)}return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())))throw new ERR_UNKNOWN_ENCODING(encoding);return this._writableState.defaultEncoding=encoding,this},Object.defineProperty(Writable.prototype,"writableBuffer",{enumerable:!1,get:function(){return this._writableState&&this._writableState.getBuffer()}}),Object.defineProperty(Writable.prototype,"writableHighWaterMark",{enumerable:!1,get:function(){return this._writableState.highWaterMark}}),Writable.prototype._write=function(chunk,encoding,cb){cb(new ERR_METHOD_NOT_IMPLEMENTED("_write()"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;return"function"==typeof chunk?(cb=chunk,encoding=chunk=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?process.nextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb),this},Object.defineProperty(Writable.prototype,"writableLength",{enumerable:!1,get:function(){return this._writableState.length}}),Object.defineProperty(Writable.prototype,"destroyed",{enumerable:!1,get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){cb(err)}}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"../errors":73,"./_stream_duplex":74,"./internal/streams/destroy":81,"./internal/streams/state":85,"./internal/streams/stream":86,_process:112,buffer:20,inherits:72,"util-deprecate":150}],79:[function(require,module,exports){!function(process){!function(){"use strict";var _Object$setPrototypeO;function _defineProperty(obj,key,value){return key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value,obj}var finished=require("./end-of-stream"),kLastResolve=Symbol("lastResolve"),kLastReject=Symbol("lastReject"),kError=Symbol("error"),kEnded=Symbol("ended"),kLastPromise=Symbol("lastPromise"),kHandlePromise=Symbol("handlePromise"),kStream=Symbol("stream");function readAndResolve(iter){var data,resolve=iter[kLastResolve];null===resolve||null!==(data=iter[kStream].read())&&(iter[kLastPromise]=null,iter[kLastResolve]=null,iter[kLastReject]=null,resolve({value:data,done:!1}))}var AsyncIteratorPrototype=Object.getPrototypeOf(function(){}),ReadableStreamAsyncIteratorPrototype=Object.setPrototypeOf((_defineProperty(_Object$setPrototypeO={get stream(){return this[kStream]},next:function(){var _this=this,data=this[kError];if(null!==data)return Promise.reject(data);if(this[kEnded])return Promise.resolve({value:void 0,done:!0});if(this[kStream].destroyed)return new Promise(function(resolve,reject){process.nextTick(function(){_this[kError]?reject(_this[kError]):resolve({value:void 0,done:!0})})});var promise,data=this[kLastPromise];if(data)promise=new Promise(function(lastPromise,iter){return function(resolve,reject){lastPromise.then(function(){iter[kEnded]?resolve({value:void 0,done:!0}):iter[kHandlePromise](resolve,reject)},reject)}}(data,this));else{data=this[kStream].read();if(null!==data)return Promise.resolve({value:data,done:!1});promise=new Promise(this[kHandlePromise])}return this[kLastPromise]=promise}},Symbol.asyncIterator,function(){return this}),_defineProperty(_Object$setPrototypeO,"return",function(){var _this2=this;return new Promise(function(resolve,reject){_this2[kStream].destroy(null,function(err){err?reject(err):resolve({value:void 0,done:!0})})})}),_Object$setPrototypeO),AsyncIteratorPrototype);module.exports=function(stream){var _Object$create,iterator=Object.create(ReadableStreamAsyncIteratorPrototype,(_defineProperty(_Object$create={},kStream,{value:stream,writable:!0}),_defineProperty(_Object$create,kLastResolve,{value:null,writable:!0}),_defineProperty(_Object$create,kLastReject,{value:null,writable:!0}),_defineProperty(_Object$create,kError,{value:null,writable:!0}),_defineProperty(_Object$create,kEnded,{value:stream._readableState.endEmitted,writable:!0}),_defineProperty(_Object$create,kHandlePromise,{value:function(resolve,reject){var data=iterator[kStream].read();data?(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,resolve({value:data,done:!1})):(iterator[kLastResolve]=resolve,iterator[kLastReject]=reject)},writable:!0}),_Object$create));return iterator[kLastPromise]=null,finished(stream,function(resolve){if(resolve&&"ERR_STREAM_PREMATURE_CLOSE"!==resolve.code){var reject=iterator[kLastReject];return null!==reject&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,iterator[kLastReject]=null,reject(resolve)),void(iterator[kError]=resolve)}resolve=iterator[kLastResolve];null!==resolve&&(iterator[kLastPromise]=null,iterator[kLastResolve]=null,resolve({value:void 0,done:!(iterator[kLastReject]=null)})),iterator[kEnded]=!0}),stream.on("readable",function(iter){process.nextTick(readAndResolve,iter)}.bind(null,iterator)),iterator}}.call(this)}.call(this,require("_process"))},{"./end-of-stream":82,_process:112}],80:[function(require,module,exports){"use strict";function ownKeys(object,enumerableOnly){var symbols,keys=Object.keys(object);return Object.getOwnPropertySymbols&&(symbols=Object.getOwnPropertySymbols(object),enumerableOnly&&(symbols=symbols.filter(function(sym){return Object.getOwnPropertyDescriptor(object,sym).enumerable})),keys.push.apply(keys,symbols)),keys}function _objectSpread(target){for(var i=1;i<arguments.length;i++){var source=null!=arguments[i]?arguments[i]:{};i%2?ownKeys(Object(source),!0).forEach(function(key){!function(obj,key,value){key in obj?Object.defineProperty(obj,key,{value:value,enumerable:!0,configurable:!0,writable:!0}):obj[key]=value}(target,key,source[key])}):Object.getOwnPropertyDescriptors?Object.defineProperties(target,Object.getOwnPropertyDescriptors(source)):ownKeys(Object(source)).forEach(function(key){Object.defineProperty(target,key,Object.getOwnPropertyDescriptor(source,key))})}return target}function _defineProperties(target,props){for(var i=0;i<props.length;i++){var descriptor=props[i];descriptor.enumerable=descriptor.enumerable||!1,descriptor.configurable=!0,"value"in descriptor&&(descriptor.writable=!0),Object.defineProperty(target,descriptor.key,descriptor)}}var Buffer=require("buffer").Buffer,inspect=require("util").inspect,custom=inspect&&inspect.custom||"inspect";module.exports=function(){function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}var Constructor,protoProps,staticProps;return Constructor=BufferList,(protoProps=[{key:"push",value:function(entry){entry={data:entry,next:null};0<this.length?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length}},{key:"unshift",value:function(entry){entry={data:entry,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length}},{key:"shift",value:function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}}},{key:"clear",value:function(){this.head=this.tail=null,this.length=0}},{key:"join",value:function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret}},{key:"concat",value:function(n){if(0===this.length)return Buffer.alloc(0);for(var src,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,offset=i,Buffer.prototype.copy.call(src,ret,offset),i+=p.data.length,p=p.next;return ret}},{key:"consume",value:function(n,hasStrings){var ret;return n<this.head.data.length?(ret=this.head.data.slice(0,n),this.head.data=this.head.data.slice(n)):ret=n===this.head.data.length?this.shift():hasStrings?this._getString(n):this._getBuffer(n),ret}},{key:"first",value:function(){return this.head.data}},{key:"_getString",value:function(n){var p=this.head,c=1,ret=p.data;for(n-=ret.length;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p).data=str.slice(nb);break}++c}return this.length-=c,ret}},{key:"_getBuffer",value:function(n){var ret=Buffer.allocUnsafe(n),p=this.head,c=1;for(p.data.copy(ret),n-=p.data.length;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?this.head=p.next:this.head=this.tail=null):(this.head=p).data=buf.slice(nb);break}++c}return this.length-=c,ret}},{key:custom,value:function(_,options){return inspect(this,_objectSpread({},options,{depth:0,customInspect:!1}))}}])&&_defineProperties(Constructor.prototype,protoProps),staticProps&&_defineProperties(Constructor,staticProps),BufferList}()},{buffer:20,util:19}],81:[function(require,module,exports){!function(process){!function(){"use strict";function emitErrorAndCloseNT(self,err){emitErrorNT(self,err),emitCloseNT(self)}function emitCloseNT(self){self._writableState&&!self._writableState.emitClose||self._readableState&&!self._readableState.emitClose||self.emit("close")}function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;return readableDestroyed||writableDestroyed?cb?cb(err):err&&(this._writableState?this._writableState.errorEmitted||(this._writableState.errorEmitted=!0,process.nextTick(emitErrorNT,this,err)):process.nextTick(emitErrorNT,this,err)):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?_this._writableState?_this._writableState.errorEmitted?process.nextTick(emitCloseNT,_this):(_this._writableState.errorEmitted=!0,process.nextTick(emitErrorAndCloseNT,_this,err)):process.nextTick(emitErrorAndCloseNT,_this,err):cb?(process.nextTick(emitCloseNT,_this),cb(err)):process.nextTick(emitCloseNT,_this)})),this},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finalCalled=!1,this._writableState.prefinished=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)},errorOrDestroy:function(stream,err){var rState=stream._readableState,wState=stream._writableState;rState&&rState.autoDestroy||wState&&wState.autoDestroy?stream.destroy(err):stream.emit("error",err)}}}.call(this)}.call(this,require("_process"))},{_process:112}],82:[function(require,module,exports){"use strict";var ERR_STREAM_PREMATURE_CLOSE=require("../../../errors").codes.ERR_STREAM_PREMATURE_CLOSE;function noop(){}module.exports=function eos(stream,opts,callback){if("function"==typeof opts)return eos(stream,null,opts);callback=function(callback){var called=!1;return function(){if(!called){called=!0;for(var _len=arguments.length,args=new Array(_len),_key=0;_key<_len;_key++)args[_key]=arguments[_key];callback.apply(this,args)}}}(callback||noop);function onlegacyfinish(){stream.writable||onfinish()}function onfinish(){writableEnded=!(writable=!1),readable||callback.call(stream)}function onend(){readableEnded=!(readable=!1),writable||callback.call(stream)}function onerror(err){callback.call(stream,err)}function onclose(){var err;return readable&&!readableEnded?(stream._readableState&&stream._readableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):writable&&!writableEnded?(stream._writableState&&stream._writableState.ended||(err=new ERR_STREAM_PREMATURE_CLOSE),callback.call(stream,err)):void 0}function onrequest(){stream.req.on("finish",onfinish)}var readable=(opts=opts||{}).readable||!1!==opts.readable&&stream.readable,writable=opts.writable||!1!==opts.writable&&stream.writable,writableEnded=stream._writableState&&stream._writableState.finished,readableEnded=stream._readableState&&stream._readableState.endEmitted;return function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?(stream.on("complete",onfinish),stream.on("abort",onclose),stream.req?onrequest():stream.on("request",onrequest)):writable&&!stream._writableState&&(stream.on("end",onlegacyfinish),stream.on("close",onlegacyfinish)),stream.on("end",onend),stream.on("finish",onfinish),!1!==opts.error&&stream.on("error",onerror),stream.on("close",onclose),function(){stream.removeListener("complete",onfinish),stream.removeListener("abort",onclose),stream.removeListener("request",onrequest),stream.req&&stream.req.removeListener("finish",onfinish),stream.removeListener("end",onlegacyfinish),stream.removeListener("close",onlegacyfinish),stream.removeListener("finish",onfinish),stream.removeListener("end",onend),stream.removeListener("error",onerror),stream.removeListener("close",onclose)}}},{"../../../errors":73}],83:[function(require,module,exports){module.exports=function(){throw new Error("Readable.from is not available in the browser")}},{}],84:[function(require,module,exports){"use strict";var eos;var _require$codes=require("../../../errors").codes,ERR_MISSING_ARGS=_require$codes.ERR_MISSING_ARGS,ERR_STREAM_DESTROYED=_require$codes.ERR_STREAM_DESTROYED;function noop(err){if(err)throw err}function destroyer(stream,reading,writing,callback){callback=function(callback){var called=!1;return function(){called||(called=!0,callback.apply(void 0,arguments))}}(callback);var closed=!1;stream.on("close",function(){closed=!0}),(eos=void 0===eos?require("./end-of-stream"):eos)(stream,{readable:reading,writable:writing},function(err){return err?callback(err):(closed=!0,void callback())});var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,function(stream){return stream.setHeader&&"function"==typeof stream.abort}(stream)?stream.abort():"function"==typeof stream.destroy?stream.destroy():void callback(err||new ERR_STREAM_DESTROYED("pipe"))}}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}module.exports=function(){for(var _len=arguments.length,streams=new Array(_len),_key=0;_key<_len;_key++)streams[_key]=arguments[_key];var error,callback=function(streams){return!streams.length||"function"!=typeof streams[streams.length-1]?noop:streams.pop()}(streams);if((streams=Array.isArray(streams[0])?streams[0]:streams).length<2)throw new ERR_MISSING_ARGS("streams");var destroys=streams.map(function(stream,i){var reading=i<streams.length-1;return destroyer(stream,reading,0<i,function(err){error=error||err,err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))})});return streams.reduce(pipe)}},{"../../../errors":73,"./end-of-stream":82}],85:[function(require,module,exports){"use strict";var ERR_INVALID_OPT_VALUE=require("../../../errors").codes.ERR_INVALID_OPT_VALUE;module.exports={getHighWaterMark:function(state,hwm,duplexKey,isDuplex){if(null==(hwm=function(options,isDuplex,duplexKey){return null!=options.highWaterMark?options.highWaterMark:isDuplex?options[duplexKey]:null}(hwm,isDuplex,duplexKey)))return state.objectMode?16:16384;if(!isFinite(hwm)||Math.floor(hwm)!==hwm||hwm<0)throw new ERR_INVALID_OPT_VALUE(isDuplex?duplexKey:"highWaterMark",hwm);return Math.floor(hwm)}}},{"../../../errors":73}],86:[function(require,module,exports){module.exports=require("events").EventEmitter},{events:43}],87:[function(require,module,exports){(((exports=module.exports=require("./lib/_stream_readable.js")).Stream=exports).Readable=exports).Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js"),exports.finished=require("./lib/internal/streams/end-of-stream.js"),exports.pipeline=require("./lib/internal/streams/pipeline.js")},{"./lib/_stream_duplex.js":74,"./lib/_stream_passthrough.js":75,"./lib/_stream_readable.js":76,"./lib/_stream_transform.js":77,"./lib/_stream_writable.js":78,"./lib/internal/streams/end-of-stream.js":82,"./lib/internal/streams/pipeline.js":84}],88:[function(require,module,exports){var buffer=require("buffer"),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),SafeBuffer.prototype=Object.create(Buffer.prototype),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(buf,fill,encoding){if("number"!=typeof buf)throw new TypeError("Argument must be a number");buf=Buffer(buf);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},{buffer:20}],89:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function normalizeEncoding(enc){var nenc=function(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}function StringDecoder(encoding){var nb;switch(this.encoding=normalizeEncoding(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:byte>>6==2?-1:-2}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf){return 128!=(192&buf[0])?(self.lastNeed=0,"ï¿½"):1<self.lastNeed&&1<buf.length?128!=(192&buf[1])?(self.lastNeed=1,"ï¿½"):2<self.lastNeed&&2<buf.length&&128!=(192&buf[2])?(self.lastNeed=2,"ï¿½"):void 0:void 0}(this,buf);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,c){if((buf.length-c)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",c,buf.length-1);var r=buf.toString("utf16le",c);if(r){c=r.charCodeAt(r.length-1);if(55296<=c&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}function utf16End(end){var r=end&&end.length?this.write(end):"";if(this.lastNeed){end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0==n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(r){r=r&&r.length?this.write(r):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}(exports.StringDecoder=StringDecoder).prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function(r){r=r&&r.length?this.write(r):"";return this.lastNeed?r+"ï¿½":r},StringDecoder.prototype.text=function(buf,i){var end=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(0<=nb)return 0<nb&&(self.lastNeed=nb-1),nb;if(--j<i||-2===nb)return 0;if(0<=(nb=utf8CheckByte(buf[j])))return 0<nb&&(self.lastNeed=nb-2),nb;if(--j<i||-2===nb)return 0;if(0<=(nb=utf8CheckByte(buf[j])))return 0<nb&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=end;end=buf.length-(end-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},{"safe-buffer":88}],90:[function(require,module,exports){module.exports=function(){for(var target={},i=0;i<arguments.length;i++){var key,source=arguments[i];for(key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var hasOwnProperty=Object.prototype.hasOwnProperty},{}],91:[function(require,module,exports){var levelup=require("levelup"),encode=require("encoding-down");module.exports=function(leveldown){function Level(location,options,callback){return"function"==typeof location?callback=location:"function"==typeof options&&(callback=options),isObject(options)||(options=isObject(location)?location:{}),levelup(encode(leveldown(location,options),options),options,callback)}function isObject(o){return"object"==typeof o&&null!==o}return["destroy","repair"].forEach(function(m){"function"==typeof leveldown[m]&&(Level[m]=function(){leveldown[m].apply(leveldown,arguments)})}),Level.errors=levelup.errors,Level}},{"encoding-down":39,levelup:105}],92:[function(require,module,exports){"use strict";var xtend=require("xtend"),assign=require("xtend/mutable");module.exports=function(){var manifest=xtend.apply(null,arguments);return assign(manifest,{bufferKeys:manifest.bufferKeys||!1,snapshots:manifest.snapshots||!1,permanence:manifest.permanence||!1,seek:manifest.seek||!1,clear:manifest.clear||!1,status:manifest.status||!1,createIfMissing:manifest.createIfMissing||!1,errorIfExists:manifest.errorIfExists||!1,deferredOpen:manifest.deferredOpen||!1,openCallback:manifest.openCallback||!1,promises:manifest.promises||!1,streams:manifest.streams||!1,encodings:manifest.encodings||!1,additionalMethods:xtend(manifest.additionalMethods)})}},{xtend:93,"xtend/mutable":94}],93:[function(require,module,exports){arguments[4][90][0].apply(exports,arguments)},{dup:90}],94:[function(require,module,exports){module.exports=function(target){for(var i=1;i<arguments.length;i++){var key,source=arguments[i];for(key in source)hasOwnProperty.call(source,key)&&(target[key]=source[key])}return target};var hasOwnProperty=Object.prototype.hasOwnProperty},{}],95:[function(require,module,exports){module.exports=require("level-packager")(require("level-js"))},{"level-js":96,"level-packager":91}],96:[function(require,inherits,exports){"use strict";inherits.exports=Level;var AbstractLevelDOWN=require("abstract-leveldown").AbstractLevelDOWN,inherits=require("inherits"),Iterator=require("./iterator"),serialize=require("./util/serialize"),deserialize=require("./util/deserialize"),support=require("./util/support"),clear=require("./util/clear"),createKeyRange=require("./util/key-range"),DEFAULT_PREFIX="level-js-";function Level(location,opts){if(!(this instanceof Level))return new Level(location,opts);if(AbstractLevelDOWN.call(this,{bufferKeys:support.bufferKeys(indexedDB),snapshots:!0,permanence:!0,clear:!0}),opts=opts||{},"string"!=typeof location)throw new Error("constructor requires a location string argument");this.location=location,this.prefix=null==opts.prefix?DEFAULT_PREFIX:opts.prefix,this.version=parseInt(opts.version||1,10)}inherits(Level,AbstractLevelDOWN),Level.prototype.type="level-js",Level.prototype._open=function(options,callback){var req=indexedDB.open(this.prefix+this.location,this.version),self=this;req.onerror=function(){callback(req.error||new Error("unknown error"))},req.onsuccess=function(){self.db=req.result,callback()},req.onupgradeneeded=function(db){db=db.target.result;db.objectStoreNames.contains(self.location)||db.createObjectStore(self.location)}},Level.prototype.store=function(mode){return this.db.transaction([this.location],mode).objectStore(this.location)},Level.prototype.await=function(request,callback){var transaction=request.transaction;transaction.onabort=function(){callback(transaction.error||new Error("aborted by user"))},transaction.oncomplete=function(){callback(null,request.result)}},Level.prototype._get=function(key,options,callback){var store=this.store("readonly");try{var req=store.get(key)}catch(err){return this._nextTick(callback,err)}this.await(req,function(err,value){return err?callback(err):void 0===value?callback(new Error("NotFound")):void callback(null,deserialize(value,options.asBuffer))})},Level.prototype._del=function(key,options,callback){var store=this.store("readwrite");try{var req=store.delete(key)}catch(err){return this._nextTick(callback,err)}this.await(req,callback)},Level.prototype._put=function(key,value,options,callback){var store=this.store("readwrite");try{var req=store.put(value,key)}catch(err){return this._nextTick(callback,err)}this.await(req,callback)},Level.prototype._serializeKey=function(key){return serialize(key,this.supports.bufferKeys)},Level.prototype._serializeValue=function(value){return serialize(value,!0)},Level.prototype._iterator=function(options){return new Iterator(this,this.location,options)},Level.prototype._batch=function(operations,options,callback){if(0===operations.length)return this._nextTick(callback);var error,store=this.store("readwrite"),transaction=store.transaction,index=0;transaction.onabort=function(){callback(error||transaction.error||new Error("aborted by user"))},transaction.oncomplete=function(){callback()},function loop(){var op=operations[index++],key=op.key;try{var req="del"===op.type?store.delete(key):store.put(op.value,key)}catch(err){return error=err,void transaction.abort()}index<operations.length&&(req.onsuccess=loop)}()},Level.prototype._clear=function(options,callback){try{var keyRange=createKeyRange(options)}catch(e){return this._nextTick(callback)}if(0<=options.limit)return clear(this,this.location,keyRange,options,callback);try{var store=this.store("readwrite"),req=keyRange?store.delete(keyRange):store.clear()}catch(err){return this._nextTick(callback,err)}this.await(req,callback)},Level.prototype._close=function(callback){this.db.close(),this._nextTick(callback)},Level.prototype.upgrade=function(callback){if("open"!==this.status)return this._nextTick(callback,new Error("cannot upgrade() before open()"));var it=this.iterator(),batchOptions={},self=this;function next(err){if(err)return finish(err);it.next(each)}function each(newKey,key,newValue){if(newKey||void 0===key)return finish(newKey);newKey=self._serializeKey(deserialize(key,!0)),newValue=self._serializeValue(deserialize(newValue,!0));self._batch([{type:"del",key:key},{type:"put",key:newKey,value:newValue}],batchOptions,next)}function finish(err){it.end(function(err2){callback(err||err2)})}it._deserializeKey=it._deserializeValue=function(data){return data},next()},Level.destroy=function(request,prefix,callback){"function"==typeof prefix&&(callback=prefix,prefix=DEFAULT_PREFIX);request=indexedDB.deleteDatabase(prefix+request);request.onsuccess=function(){callback()},request.onerror=function(err){callback(err)}}},{"./iterator":97,"./util/clear":98,"./util/deserialize":99,"./util/key-range":100,"./util/serialize":101,"./util/support":102,"abstract-leveldown":10,inherits:59}],97:[function(deserialize,module,exports){"use strict";function noop(){}var inherits=deserialize("inherits"),AbstractIterator=deserialize("abstract-leveldown").AbstractIterator,createKeyRange=deserialize("./util/key-range"),deserialize=deserialize("./util/deserialize");function Iterator(db,location,options){if(AbstractIterator.call(this,db),this._limit=options.limit,this._count=0,this._callback=null,this._cache=[],this._completed=!1,this._aborted=!1,this._error=null,this._transaction=null,this._keys=options.keys,this._values=options.values,this._keyAsBuffer=options.keyAsBuffer,this._valueAsBuffer=options.valueAsBuffer,0!==this._limit){try{var keyRange=createKeyRange(options)}catch(e){return void(this._completed=!0)}this.createIterator(location,keyRange,options.reverse)}else this._completed=!0}inherits(module.exports=Iterator,AbstractIterator),Iterator.prototype.createIterator=function(location,keyRange,reverse){var self=this,transaction=this.db.db.transaction([location],"readonly");transaction.objectStore(location).openCursor(keyRange,reverse?"prev":"next").onsuccess=function(cursor){cursor=cursor.target.result;cursor&&self.onItem(cursor)},(this._transaction=transaction).onabort=function(){self.onAbort(self._transaction.error||new Error("aborted by user"))},transaction.oncomplete=function(){self.onComplete()}},Iterator.prototype.onItem=function(cursor){this._cache.push(cursor.key,cursor.value),(this._limit<=0||++this._count<this._limit)&&cursor.continue(),this.maybeNext()},Iterator.prototype.onAbort=function(err){this._aborted=!0,this._error=err,this.maybeNext()},Iterator.prototype.onComplete=function(){this._completed=!0,this.maybeNext()},Iterator.prototype.maybeNext=function(){this._callback&&(this._next(this._callback),this._callback=null)},Iterator.prototype._next=function(callback){var key,value;this._aborted?(value=this._error,this._error=null,this._nextTick(callback,value)):0<this._cache.length?(key=this._cache.shift(),value=this._cache.shift(),key=this._keys&&void 0!==key?this._deserializeKey(key,this._keyAsBuffer):void 0,value=this._values&&void 0!==value?this._deserializeValue(value,this._valueAsBuffer):void 0,this._nextTick(callback,null,key,value)):this._completed?this._nextTick(callback):this._callback=callback},Iterator.prototype._deserializeKey=deserialize,Iterator.prototype._deserializeValue=deserialize,Iterator.prototype._end=function(callback){if(this._aborted||this._completed)return this._nextTick(callback,this._error);this.onItem=noop,this.onAbort=callback,this.onComplete=callback}},{"./util/deserialize":99,"./util/key-range":100,"abstract-leveldown":10,inherits:59}],98:[function(require,module,exports){"use strict";module.exports=function(method,direction,keyRange,options,callback){if(0===options.limit)return method._nextTick(callback);var transaction=method.db.transaction([direction],"readwrite"),store=transaction.objectStore(direction),count=0;transaction.oncomplete=function(){callback()},transaction.onabort=function(){callback(transaction.error||new Error("aborted by user"))};method=store.openKeyCursor?"openKeyCursor":"openCursor",direction=options.reverse?"prev":"next";store[method](keyRange,direction).onsuccess=function(ev){var cursor=ev.target.result;cursor&&(store.delete(cursor.key).onsuccess=function(){(options.limit<=0||++count<options.limit)&&cursor.continue()})}}},{}],99:[function(require,module,exports){!function(global){!function(){"use strict";var Buffer=require("buffer").Buffer,ta2str=function(){if(global.TextDecoder){var decoder=new TextDecoder("utf-8");return decoder.decode.bind(decoder)}return function(ta){return ta2buf(ta).toString()}}(),ab2str=function(){if(global.TextDecoder){var decoder=new TextDecoder("utf-8");return decoder.decode.bind(decoder)}return function(ab){return Buffer.from(ab).toString()}}();function ta2buf(ta){var buf=Buffer.from(ta.buffer);return ta.byteLength===ta.buffer.byteLength?buf:buf.slice(ta.byteOffset,ta.byteOffset+ta.byteLength)}module.exports=function(data,asBuffer){return data instanceof Uint8Array?(asBuffer?ta2buf:ta2str)(data):data instanceof ArrayBuffer?asBuffer?Buffer.from(data):ab2str(data):asBuffer?Buffer.from(String(data)):String(data)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:20}],100:[function(require,module,exports){"use strict";var ltgt=require("ltgt"),NONE={};module.exports=function(upperOpen){var lower=ltgt.lowerBound(upperOpen,NONE),upper=ltgt.upperBound(upperOpen,NONE),lowerOpen=ltgt.lowerBoundExclusive(upperOpen,NONE),upperOpen=ltgt.upperBoundExclusive(upperOpen,NONE);return lower!==NONE&&upper!==NONE?IDBKeyRange.bound(lower,upper,lowerOpen,upperOpen):lower!==NONE?IDBKeyRange.lowerBound(lower,lowerOpen):upper!==NONE?IDBKeyRange.upperBound(upper,upperOpen):null}},{ltgt:108}],101:[function(require,module,exports){!function(global){!function(){"use strict";var Buffer=require("buffer").Buffer,str2bin=function(){if(global.TextEncoder){var encoder=new TextEncoder("utf-8");return encoder.encode.bind(encoder)}return Buffer.from}();module.exports=function(data,asBuffer){return asBuffer?Buffer.isBuffer(data)?data:str2bin(String(data)):String(data)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{buffer:20}],102:[function(Buffer,module,exports){"use strict";Buffer=Buffer("buffer").Buffer;exports.test=function(key){return function(impl){try{return impl.cmp(key,0),!0}catch(err){return!1}}},exports.bufferKeys=exports.test(Buffer.alloc(0))},{buffer:20}],103:[function(require,module,exports){var WriteError=require("level-errors").WriteError,promisify=require("./promisify"),getCallback=require("./common").getCallback,getOptions=require("./common").getOptions;function Batch(levelup){this.db=this._levelup=levelup,this.batch=levelup.db.batch(),this.ops=[],this.length=0}Batch.prototype.put=function(key,value){try{this.batch.put(key,value)}catch(e){throw new WriteError(e)}return this.ops.push({type:"put",key:key,value:value}),this.length++,this},Batch.prototype.del=function(key){try{this.batch.del(key)}catch(err){throw new WriteError(err)}return this.ops.push({type:"del",key:key}),this.length++,this},Batch.prototype.clear=function(){try{this.batch.clear()}catch(err){throw new WriteError(err)}return this.ops=[],this.length=0,this},Batch.prototype.write=function(options,callback){var promise,levelup=this._levelup,ops=this.ops;(callback=getCallback(options,callback))||(promise=(callback=promisify()).promise),options=getOptions(options);try{this.batch.write(options,function(err){return err?callback(new WriteError(err)):(levelup.emit("batch",ops),void callback())})}catch(err){throw new WriteError(err)}return promise},module.exports=Batch},{"./common":104,"./promisify":106,"level-errors":70}],104:[function(require,module,exports){exports.getCallback=function(options,callback){return"function"==typeof options?options:callback},exports.getOptions=function(options){return"object"==typeof options&&null!==options?options:{}}},{}],105:[function(require,module,exports){!function(process){!function(){var EventEmitter=require("events").EventEmitter,inherits=require("util").inherits,extend=require("xtend"),DeferredLevelDOWN=require("deferred-leveldown"),IteratorStream=require("level-iterator-stream"),Batch=require("./batch"),errors=require("level-errors"),supports=require("level-supports"),assert=require("assert"),promisify=require("./promisify"),getCallback=require("./common").getCallback,getOptions=require("./common").getOptions,WriteError=errors.WriteError,ReadError=errors.ReadError,NotFoundError=errors.NotFoundError,OpenError=errors.OpenError,InitializationError=errors.InitializationError;function LevelUP(db,options,callback){if(!(this instanceof LevelUP))return new LevelUP(db,options,callback);var error,self=this;if(EventEmitter.call(this),this.setMaxListeners(1/0),"function"==typeof options&&(callback=options,options={}),options=options||{},!db||"object"!=typeof db){if(error=new InitializationError("First argument must be an abstract-leveldown compliant store"),"function"==typeof callback)return process.nextTick(callback,error);throw error}assert.strictEqual(typeof db.status,"string",".status required, old abstract-leveldown"),this.options=getOptions(options),this._db=db,this.db=new DeferredLevelDOWN(db),this.open(callback||function(err){err&&self.emit("error",err)}),this.supports=supports(this.db.supports,{status:!1,deferredOpen:!0,openCallback:!0,promises:!0,streams:!0}),Object.keys(this.supports.additionalMethods).forEach(function(method){null==this[method]&&(this[method]=function(){return this.db[method].apply(this.db,arguments)})},this)}function maybeError(db,callback){return!db._isOpening()&&!db.isOpen()&&(process.nextTick(callback,new ReadError("Database is not open")),1)}LevelUP.prototype.emit=EventEmitter.prototype.emit,LevelUP.prototype.once=EventEmitter.prototype.once,inherits(LevelUP,EventEmitter),LevelUP.prototype.open=function(opts,callback){var promise,self=this;return"function"==typeof opts&&(callback=opts,opts=null),callback||(promise=(callback=promisify()).promise),opts=opts||this.options,this.isOpen()?process.nextTick(callback,null,self):this._isOpening()?this.once("open",function(){callback(null,self)}):(this.emit("opening"),this.db.open(opts,function(err){return err?callback(new OpenError(err)):(self.db=self._db,callback(null,self),self.emit("open"),void self.emit("ready"))})),promise},LevelUP.prototype.close=function(callback){var promise,self=this;return callback||(promise=(callback=promisify()).promise),this.isOpen()?(this.db.close(function(){self.emit("closed"),callback.apply(null,arguments)}),this.emit("closing"),this.db=new DeferredLevelDOWN(this._db)):this.isClosed()?process.nextTick(callback):"closing"===this.db.status?this.once("closed",callback):this._isOpening()&&this.once("open",function(){self.close(callback)}),promise},LevelUP.prototype.isOpen=function(){return"open"===this.db.status},LevelUP.prototype._isOpening=function(){return"opening"===this.db.status},LevelUP.prototype.isClosed=function(){return/^clos|new/.test(this.db.status)},LevelUP.prototype.get=function(key,options,callback){var promise;return(callback=getCallback(options,callback))||(promise=(callback=promisify()).promise),maybeError(this,callback)||(options=getOptions(options),this.db.get(key,options,function(err,value){return err?(err=/notfound/i.test(err)||err.notFound?new NotFoundError("Key not found in database ["+key+"]",err):new ReadError(err),callback(err)):void callback(null,value)})),promise},LevelUP.prototype.put=function(key,value,options,callback){var promise,self=this;return(callback=getCallback(options,callback))||(promise=(callback=promisify()).promise),maybeError(this,callback)||(options=getOptions(options),this.db.put(key,value,options,function(err){return err?callback(new WriteError(err)):(self.emit("put",key,value),void callback())})),promise},LevelUP.prototype.del=function(key,options,callback){var promise,self=this;return(callback=getCallback(options,callback))||(promise=(callback=promisify()).promise),maybeError(this,callback)||(options=getOptions(options),this.db.del(key,options,function(err){return err?callback(new WriteError(err)):(self.emit("del",key),void callback())})),promise},LevelUP.prototype.batch=function(arr,options,callback){if(!arguments.length)return new Batch(this);var promise,self=this;return(callback="function"==typeof arr?arr:getCallback(options,callback))||(promise=(callback=promisify()).promise),maybeError(this,callback)||(options=getOptions(options),this.db.batch(arr,options,function(err){return err?callback(new WriteError(err)):(self.emit("batch",arr),void callback())})),promise},LevelUP.prototype.iterator=function(options){return this.db.iterator(options)},LevelUP.prototype.clear=function(options,callback){var promise,self=this;return callback=getCallback(options,callback),options=getOptions(options),callback||(promise=(callback=promisify()).promise),maybeError(this,callback)||this.db.clear(options,function(err){return err?callback(new WriteError(err)):(self.emit("clear",options),void callback())}),promise},LevelUP.prototype.readStream=LevelUP.prototype.createReadStream=function(options){return"number"!=typeof(options=extend({keys:!0,values:!0},options)).limit&&(options.limit=-1),new IteratorStream(this.db.iterator(options),options)},LevelUP.prototype.keyStream=LevelUP.prototype.createKeyStream=function(options){return this.createReadStream(extend(options,{keys:!0,values:!1}))},LevelUP.prototype.valueStream=LevelUP.prototype.createValueStream=function(options){return this.createReadStream(extend(options,{keys:!1,values:!0}))},LevelUP.prototype.toString=function(){return"LevelUP"},LevelUP.prototype.type="levelup",LevelUP.errors=errors,module.exports=LevelUP.default=LevelUP}.call(this)}.call(this,require("_process"))},{"./batch":103,"./common":104,"./promisify":106,_process:112,assert:12,"deferred-leveldown":25,events:43,"level-errors":70,"level-iterator-stream":71,"level-supports":92,util:153,xtend:157}],106:[function(require,module,exports){module.exports=function(){var callback,promise=new Promise(function(resolve,reject){callback=function(err,value){err?reject(err):resolve(value)}});return callback.promise=promise,callback}},{}],107:[function(require,module,exports){!function(global){!function(){var COMPARE_PARTIAL_FLAG=1,COMPARE_UNORDERED_FLAG=2,MAX_SAFE_INTEGER=9007199254740991,argsTag="[object Arguments]",arrayTag="[object Array]",asyncTag="[object AsyncFunction]",boolTag="[object Boolean]",dateTag="[object Date]",errorTag="[object Error]",funcTag="[object Function]",genTag="[object GeneratorFunction]",mapTag="[object Map]",numberTag="[object Number]",nullTag="[object Null]",objectTag="[object Object]",proxyTag="[object Proxy]",regexpTag="[object RegExp]",setTag="[object Set]",stringTag="[object String]",symbolTag="[object Symbol]",undefinedTag="[object Undefined]",arrayBufferTag="[object ArrayBuffer]",dataViewTag="[object DataView]",reIsHostCtor=/^\[object .+?Constructor\]$/,reIsUint=/^(?:0|[1-9]\d*)$/,typedArrayTags={};typedArrayTags["[object Float32Array]"]=typedArrayTags["[object Float64Array]"]=typedArrayTags["[object Int8Array]"]=typedArrayTags["[object Int16Array]"]=typedArrayTags["[object Int32Array]"]=typedArrayTags["[object Uint8Array]"]=typedArrayTags["[object Uint8ClampedArray]"]=typedArrayTags["[object Uint16Array]"]=typedArrayTags["[object Uint32Array]"]=!0,typedArrayTags[argsTag]=typedArrayTags[arrayTag]=typedArrayTags[arrayBufferTag]=typedArrayTags[boolTag]=typedArrayTags[dataViewTag]=typedArrayTags[dateTag]=typedArrayTags[errorTag]=typedArrayTags[funcTag]=typedArrayTags[mapTag]=typedArrayTags[numberTag]=typedArrayTags[objectTag]=typedArrayTags[regexpTag]=typedArrayTags[setTag]=typedArrayTags[stringTag]=typedArrayTags["[object WeakMap]"]=!1;var symbolProto="object"==typeof global&&global&&global.Object===Object&&global,nodeIsTypedArray="object"==typeof self&&self&&self.Object===Object&&self,WeakMap=symbolProto||nodeIsTypedArray||Function("return this")(),Set="object"==typeof exports&&exports&&!exports.nodeType&&exports,Promise=Set&&"object"==typeof module&&module&&!module.nodeType&&module,DataView=Promise&&Promise.exports===Set,freeProcess=DataView&&symbolProto.process,nativeIsBuffer=function(){try{return freeProcess&&freeProcess.binding&&freeProcess.binding("util")}catch(e){}}(),nodeIsTypedArray=nativeIsBuffer&&nativeIsBuffer.isTypedArray;function mapToArray(map){var index=-1,result=Array(map.size);return map.forEach(function(value,key){result[++index]=[key,value]}),result}function setToArray(set){var index=-1,result=Array(set.size);return set.forEach(function(value){result[++index]=value}),result}var func,transform,Promise=Array.prototype,Set=Function.prototype,objectProto=Object.prototype,symbolProto=WeakMap["__core-js_shared__"],funcToString=Set.toString,hasOwnProperty=objectProto.hasOwnProperty,maskSrcKey=(nativeIsBuffer=/[^.]+$/.exec(symbolProto&&symbolProto.keys&&symbolProto.keys.IE_PROTO||""))?"Symbol(src)_1."+nativeIsBuffer:"",nativeObjectToString=objectProto.toString,reIsNative=RegExp("^"+funcToString.call(hasOwnProperty).replace(/[\\^$.*+?()[\]{}|]/g,"\\$&").replace(/hasOwnProperty|(function).*?(?=\\\()| for .+?(?=\\\])/g,"$1.*?")+"$"),Set=DataView?WeakMap.Buffer:void 0,symbolProto=WeakMap.Symbol,Uint8Array=WeakMap.Uint8Array,propertyIsEnumerable=objectProto.propertyIsEnumerable,splice=Promise.splice,symToStringTag=symbolProto?symbolProto.toStringTag:void 0,nativeGetSymbols=Object.getOwnPropertySymbols,nativeIsBuffer=Set?Set.isBuffer:void 0,nativeKeys=(func=Object.keys,transform=Object,function(arg){return func(transform(arg))}),DataView=getNative(WeakMap,"DataView"),Map=getNative(WeakMap,"Map"),Promise=getNative(WeakMap,"Promise"),Set=getNative(WeakMap,"Set"),WeakMap=getNative(WeakMap,"WeakMap"),nativeCreate=getNative(Object,"create"),dataViewCtorString=toSource(DataView),mapCtorString=toSource(Map),promiseCtorString=toSource(Promise),setCtorString=toSource(Set),weakMapCtorString=toSource(WeakMap),symbolProto=symbolProto?symbolProto.prototype:void 0,symbolValueOf=symbolProto?symbolProto.valueOf:void 0;function Hash(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function ListCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function MapCache(entries){var index=-1,length=null==entries?0:entries.length;for(this.clear();++index<length;){var entry=entries[index];this.set(entry[0],entry[1])}}function SetCache(values){var index=-1,length=null==values?0:values.length;for(this.__data__=new MapCache;++index<length;)this.add(values[index])}function Stack(data){data=this.__data__=new ListCache(data);this.size=data.size}function arrayLikeKeys(value,inherited){var key,isArr=isArray(value),isArg=!isArr&&isArguments(value),isBuff=!isArr&&!isArg&&isBuffer(value),isType=!isArr&&!isArg&&!isBuff&&isTypedArray(value),skipIndexes=isArr||isArg||isBuff||isType,result=skipIndexes?function(n,iteratee){for(var index=-1,result=Array(n);++index<n;)result[index]=iteratee(index);return result}(value.length,String):[],length=result.length;for(key in value)!inherited&&!hasOwnProperty.call(value,key)||skipIndexes&&("length"==key||isBuff&&("offset"==key||"parent"==key)||isType&&("buffer"==key||"byteLength"==key||"byteOffset"==key)||function(value,length){return!!(length=null==length?MAX_SAFE_INTEGER:length)&&("number"==typeof value||reIsUint.test(value))&&-1<value&&value%1==0&&value<length}(key,length))||result.push(key);return result}function assocIndexOf(array,key){for(var length=array.length;length--;)if(eq(array[length][0],key))return length;return-1}function baseGetAllKeys(object,result,symbolsFunc){result=result(object);return isArray(object)?result:function(array,values){for(var index=-1,length=values.length,offset=array.length;++index<length;)array[offset+index]=values[index];return array}(result,symbolsFunc(object))}function baseGetTag(value){return null==value?void 0===value?undefinedTag:nullTag:(symToStringTag&&symToStringTag in Object(value)?function(value){var isOwn=hasOwnProperty.call(value,symToStringTag),tag=value[symToStringTag];try{var unmasked=!(value[symToStringTag]=void 0)}catch(e){}var result=nativeObjectToString.call(value);unmasked&&(isOwn?value[symToStringTag]=tag:delete value[symToStringTag]);return result}:function(value){return nativeObjectToString.call(value)})(value)}function baseIsArguments(value){return isObjectLike(value)&&baseGetTag(value)==argsTag}function baseIsEqual(value,other,bitmask,customizer,stack){return value===other||(null==value||null==other||!isObjectLike(value)&&!isObjectLike(other)?value!=value&&other!=other:function(object,other,bitmask,customizer,equalFunc,stack){var objIsArr=isArray(object),othUnwrapped=isArray(other),objTag=objIsArr?arrayTag:getTag(object),isSameTag=othUnwrapped?arrayTag:getTag(other),objUnwrapped=(objTag=objTag==argsTag?objectTag:objTag)==objectTag,othUnwrapped=(isSameTag=isSameTag==argsTag?objectTag:isSameTag)==objectTag,isSameTag=objTag==isSameTag;if(isSameTag&&isBuffer(object)){if(!isBuffer(other))return!1;objUnwrapped=!(objIsArr=!0)}if(isSameTag&&!objUnwrapped)return stack=stack||new Stack,objIsArr||isTypedArray(object)?equalArrays(object,other,bitmask,customizer,equalFunc,stack):function(object,other,tag,bitmask,customizer,equalFunc,stack){switch(tag){case dataViewTag:if(object.byteLength!=other.byteLength||object.byteOffset!=other.byteOffset)return!1;object=object.buffer,other=other.buffer;case arrayBufferTag:return object.byteLength==other.byteLength&&equalFunc(new Uint8Array(object),new Uint8Array(other))?!0:!1;case boolTag:case dateTag:case numberTag:return eq(+object,+other);case errorTag:return object.name==other.name&&object.message==other.message;case regexpTag:case stringTag:return object==other+"";case mapTag:var result=mapToArray;case setTag:var stacked=bitmask&COMPARE_PARTIAL_FLAG;if(result=result||setToArray,object.size!=other.size&&!stacked)return!1;stacked=stack.get(object);if(stacked)return stacked==other;bitmask|=COMPARE_UNORDERED_FLAG,stack.set(object,other);result=equalArrays(result(object),result(other),bitmask,customizer,equalFunc,stack);return stack.delete(object),result;case symbolTag:if(symbolValueOf)return symbolValueOf.call(object)==symbolValueOf.call(other)}return!1}(object,other,objTag,bitmask,customizer,equalFunc,stack);if(!(bitmask&COMPARE_PARTIAL_FLAG)){objUnwrapped=objUnwrapped&&hasOwnProperty.call(object,"__wrapped__"),othUnwrapped=othUnwrapped&&hasOwnProperty.call(other,"__wrapped__");if(objUnwrapped||othUnwrapped){objUnwrapped=objUnwrapped?object.value():object,othUnwrapped=othUnwrapped?other.value():other;return stack=stack||new Stack,equalFunc(objUnwrapped,othUnwrapped,bitmask,customizer,stack)}}return isSameTag&&(stack=stack||new Stack,function(object,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,objProps=getAllKeys(object),objLength=objProps.length,objCtor=getAllKeys(other).length;if(objLength!=objCtor&&!isPartial)return!1;var index=objLength;for(;index--;){var key=objProps[index];if(!(isPartial?key in other:hasOwnProperty.call(other,key)))return!1}var othCtor=stack.get(object);if(othCtor&&stack.get(other))return othCtor==other;var result=!0;stack.set(object,other),stack.set(other,object);var skipCtor=isPartial;for(;++index<objLength;){key=objProps[index];var compared,objValue=object[key],othValue=other[key];if(!(void 0===(compared=customizer?isPartial?customizer(othValue,objValue,key,other,object,stack):customizer(objValue,othValue,key,object,other,stack):compared)?objValue===othValue||equalFunc(objValue,othValue,bitmask,customizer,stack):compared)){result=!1;break}skipCtor=skipCtor||"constructor"==key}result&&!skipCtor&&(objCtor=object.constructor,othCtor=other.constructor,objCtor!=othCtor&&"constructor"in object&&"constructor"in other&&!("function"==typeof objCtor&&objCtor instanceof objCtor&&"function"==typeof othCtor&&othCtor instanceof othCtor)&&(result=!1));return stack.delete(object),stack.delete(other),result}(object,other,bitmask,customizer,equalFunc,stack))}(value,other,bitmask,customizer,baseIsEqual,stack))}function baseIsNative(value){var func;return isObject(value)&&(func=value,!(maskSrcKey&&maskSrcKey in func))&&(isFunction(value)?reIsNative:reIsHostCtor).test(toSource(value))}function baseKeys(object){if(proto="function"==typeof(proto=(value=object)&&value.constructor)&&proto.prototype||objectProto,value!==proto)return nativeKeys(object);var value,proto,key,result=[];for(key in Object(object))hasOwnProperty.call(object,key)&&"constructor"!=key&&result.push(key);return result}function equalArrays(array,other,bitmask,customizer,equalFunc,stack){var isPartial=bitmask&COMPARE_PARTIAL_FLAG,arrLength=array.length,stacked=other.length;if(arrLength!=stacked&&!(isPartial&&arrLength<stacked))return!1;stacked=stack.get(array);if(stacked&&stack.get(other))return stacked==other;var index=-1,result=!0,seen=bitmask&COMPARE_UNORDERED_FLAG?new SetCache:void 0;for(stack.set(array,other),stack.set(other,array);++index<arrLength;){var compared,arrValue=array[index],othValue=other[index];if(void 0!==(compared=customizer?isPartial?customizer(othValue,arrValue,index,other,array,stack):customizer(arrValue,othValue,index,array,other,stack):compared)){if(compared)continue;result=!1;break}if(seen){if(!function(array,predicate){for(var index=-1,length=null==array?0:array.length;++index<length;)if(predicate(array[index],index,array))return 1}(other,function(othValue,othIndex){return!seen.has(othIndex)&&(arrValue===othValue||equalFunc(arrValue,othValue,bitmask,customizer,stack))&&seen.push(othIndex)})){result=!1;break}}else if(arrValue!==othValue&&!equalFunc(arrValue,othValue,bitmask,customizer,stack)){result=!1;break}}return stack.delete(array),stack.delete(other),result}function getAllKeys(object){return baseGetAllKeys(object,keys,getSymbols)}function getMapData(type,key){var value,data=type.__data__;return("string"==(type=typeof(value=key))||"number"==type||"symbol"==type||"boolean"==type?"__proto__"!==value:null===value)?data["string"==typeof key?"string":"hash"]:data.map}function getNative(object,value){value=function(object,key){return null==object?void 0:object[key]}(object,value);return baseIsNative(value)?value:void 0}Hash.prototype.clear=function(){this.__data__=nativeCreate?nativeCreate(null):{},this.size=0},Hash.prototype.delete=function(result){return result=this.has(result)&&delete this.__data__[result],this.size-=result?1:0,result},Hash.prototype.get=function(key){var data=this.__data__;if(nativeCreate){var result=data[key];return"__lodash_hash_undefined__"===result?void 0:result}return hasOwnProperty.call(data,key)?data[key]:void 0},Hash.prototype.has=function(key){var data=this.__data__;return nativeCreate?void 0!==data[key]:hasOwnProperty.call(data,key)},Hash.prototype.set=function(key,value){var data=this.__data__;return this.size+=this.has(key)?0:1,data[key]=nativeCreate&&void 0===value?"__lodash_hash_undefined__":value,this},ListCache.prototype.clear=function(){this.__data__=[],this.size=0},ListCache.prototype.delete=function(index){var data=this.__data__;return!((index=assocIndexOf(data,index))<0)&&(index==data.length-1?data.pop():splice.call(data,index,1),--this.size,!0)},ListCache.prototype.get=function(index){var data=this.__data__;return(index=assocIndexOf(data,index))<0?void 0:data[index][1]},ListCache.prototype.has=function(key){return-1<assocIndexOf(this.__data__,key)},ListCache.prototype.set=function(key,value){var data=this.__data__,index=assocIndexOf(data,key);return index<0?(++this.size,data.push([key,value])):data[index][1]=value,this},MapCache.prototype.clear=function(){this.size=0,this.__data__={hash:new Hash,map:new(Map||ListCache),string:new Hash}},MapCache.prototype.delete=function(result){return result=getMapData(this,result).delete(result),this.size-=result?1:0,result},MapCache.prototype.get=function(key){return getMapData(this,key).get(key)},MapCache.prototype.has=function(key){return getMapData(this,key).has(key)},MapCache.prototype.set=function(key,value){var data=getMapData(this,key),size=data.size;return data.set(key,value),this.size+=data.size==size?0:1,this},SetCache.prototype.add=SetCache.prototype.push=function(value){return this.__data__.set(value,"__lodash_hash_undefined__"),this},SetCache.prototype.has=function(value){return this.__data__.has(value)},Stack.prototype.clear=function(){this.__data__=new ListCache,this.size=0},Stack.prototype.delete=function(result){var data=this.__data__,result=data.delete(result);return this.size=data.size,result},Stack.prototype.get=function(key){return this.__data__.get(key)},Stack.prototype.has=function(key){return this.__data__.has(key)},Stack.prototype.set=function(key,value){var data=this.__data__;if(data instanceof ListCache){var pairs=data.__data__;if(!Map||pairs.length<199)return pairs.push([key,value]),this.size=++data.size,this;data=this.__data__=new MapCache(pairs)}return data.set(key,value),this.size=data.size,this};var getSymbols=nativeGetSymbols?function(object){return null==object?[]:(object=Object(object),function(array,predicate){for(var index=-1,length=null==array?0:array.length,resIndex=0,result=[];++index<length;){var value=array[index];predicate(value,index,array)&&(result[resIndex++]=value)}return result}(nativeGetSymbols(object),function(symbol){return propertyIsEnumerable.call(object,symbol)}))}:function(){return[]},getTag=baseGetTag;function toSource(func){if(null!=func){try{return funcToString.call(func)}catch(e){}try{return func+""}catch(e){}}return""}function eq(value,other){return value===other||value!=value&&other!=other}(DataView&&getTag(new DataView(new ArrayBuffer(1)))!=dataViewTag||Map&&getTag(new Map)!=mapTag||Promise&&"[object Promise]"!=getTag(Promise.resolve())||Set&&getTag(new Set)!=setTag||WeakMap&&"[object WeakMap]"!=getTag(new WeakMap))&&(getTag=function(ctorString){var result=baseGetTag(ctorString),ctorString=result==objectTag?ctorString.constructor:void 0,ctorString=ctorString?toSource(ctorString):"";if(ctorString)switch(ctorString){case dataViewCtorString:return dataViewTag;case mapCtorString:return mapTag;case promiseCtorString:return"[object Promise]";case setCtorString:return setTag;case weakMapCtorString:return"[object WeakMap]"}return result});var isArguments=baseIsArguments(function(){return arguments}())?baseIsArguments:function(value){return isObjectLike(value)&&hasOwnProperty.call(value,"callee")&&!propertyIsEnumerable.call(value,"callee")},isArray=Array.isArray;var isBuffer=nativeIsBuffer||function(){return!1};function isFunction(tag){if(isObject(tag)){tag=baseGetTag(tag);return tag==funcTag||tag==genTag||tag==asyncTag||tag==proxyTag}}function isLength(value){return"number"==typeof value&&-1<value&&value%1==0&&value<=MAX_SAFE_INTEGER}function isObject(value){var type=typeof value;return null!=value&&("object"==type||"function"==type)}function isObjectLike(value){return null!=value&&"object"==typeof value}var isTypedArray=nodeIsTypedArray?function(func){return function(value){return func(value)}}(nodeIsTypedArray):function(value){return isObjectLike(value)&&isLength(value.length)&&!!typedArrayTags[baseGetTag(value)]};function keys(object){return(null!=(value=object)&&isLength(value.length)&&!isFunction(value)?arrayLikeKeys:baseKeys)(object);var value}module.exports=function(value,other){return baseIsEqual(value,other)}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],108:[function(require,module,exports){!function(Buffer){!function(){function has(obj,key){return Object.hasOwnProperty.call(obj,key)}function isDef(val){return void 0!==val&&""!==val}function has(range,name){return Object.hasOwnProperty.call(range,name)}function hasKey(range,name){return Object.hasOwnProperty.call(range,name)&&name}exports.compare=function(a,b){if(Buffer.isBuffer(a)){for(var l=Math.min(a.length,b.length),i=0;i<l;i++){var cmp=a[i]-b[i];if(cmp)return cmp}return a.length-b.length}return a<b?-1:b<a?1:0};var lowerBoundKey=exports.lowerBoundKey=function(range){return hasKey(range,"gt")||hasKey(range,"gte")||hasKey(range,"min")||(range.reverse?hasKey(range,"end"):hasKey(range,"start"))||void 0},lowerBound=exports.lowerBound=function(range,def){var k=lowerBoundKey(range);return k?range[k]:def},lowerBoundInclusive=exports.lowerBoundInclusive=function(range){return!has(range,"gt")},upperBoundInclusive=exports.upperBoundInclusive=function(range){return!has(range,"lt")},lowerBoundExclusive=exports.lowerBoundExclusive=function(range){return!lowerBoundInclusive(range)},upperBoundExclusive=exports.upperBoundExclusive=function(range){return!upperBoundInclusive(range)},upperBoundKey=exports.upperBoundKey=function(range){return hasKey(range,"lt")||hasKey(range,"lte")||hasKey(range,"max")||(range.reverse?hasKey(range,"start"):hasKey(range,"end"))||void 0},upperBound=exports.upperBound=function(range,def){var k=upperBoundKey(range);return k?range[k]:def};function id(e){return e}exports.start=function(range,def){return(range.reverse?upperBound:lowerBound)(range,def)},exports.end=function(range,def){return(range.reverse?lowerBound:upperBound)(range,def)},exports.startInclusive=function(range){return(range.reverse?upperBoundInclusive:lowerBoundInclusive)(range)},exports.endInclusive=function(range){return(range.reverse?lowerBoundInclusive:upperBoundInclusive)(range)},exports.toLtgt=function(range,_range,map,lower,upper){_range=_range||{},map=map||id;var defaults=3<arguments.length,lb=exports.lowerBoundKey(range),ub=exports.upperBoundKey(range);return lb?"gt"===lb?_range.gt=map(range.gt,!1):_range.gte=map(range[lb],!1):defaults&&(_range.gte=map(lower,!1)),ub?"lt"===ub?_range.lt=map(range.lt,!0):_range.lte=map(range[ub],!0):defaults&&(_range.lte=map(upper,!0)),null!=range.reverse&&(_range.reverse=!!range.reverse),has(_range,"max")&&delete _range.max,has(_range,"min")&&delete _range.min,has(_range,"start")&&delete _range.start,has(_range,"end")&&delete _range.end,_range},exports.contains=function(range,key,compare){compare=compare||exports.compare;var ub=lowerBound(range);if(isDef(ub)&&((cmp=compare(key,ub))<0||0===cmp&&lowerBoundExclusive(range)))return!1;var cmp,ub=upperBound(range);if(isDef(ub)&&(0<(cmp=compare(key,ub))||0===cmp&&upperBoundExclusive(range)))return!1;return!0},exports.filter=function(range,compare){return function(key){return exports.contains(range,key,compare)}}}.call(this)}.call(this,{isBuffer:require("../is-buffer/index.js")})},{"../is-buffer/index.js":61}],109:[function(require,module,exports){"use strict";var getOwnPropertySymbols=Object.getOwnPropertySymbols,hasOwnProperty=Object.prototype.hasOwnProperty,propIsEnumerable=Object.prototype.propertyIsEnumerable;module.exports=function(){try{if(!Object.assign)return;var test1=new String("abc");if(test1[5]="de","5"===Object.getOwnPropertyNames(test1)[0])return;for(var test2={},i=0;i<10;i++)test2["_"+String.fromCharCode(i)]=i;if("0123456789"!==Object.getOwnPropertyNames(test2).map(function(n){return test2[n]}).join(""))return;var test3={};return"abcdefghijklmnopqrst".split("").forEach(function(letter){test3[letter]=letter}),"abcdefghijklmnopqrst"!==Object.keys(Object.assign({},test3)).join("")?void 0:1}catch(err){return}}()?Object.assign:function(target,source){for(var from,to=function(val){if(null==val)throw new TypeError("Object.assign cannot be called with null or undefined");return Object(val)}(target),s=1;s<arguments.length;s++){for(var key in from=Object(arguments[s]))hasOwnProperty.call(from,key)&&(to[key]=from[key]);if(getOwnPropertySymbols)for(var symbols=getOwnPropertySymbols(from),i=0;i<symbols.length;i++)propIsEnumerable.call(from,symbols[i])&&(to[symbols[i]]=from[symbols[i]])}return to}},{}],110:[function(wrappy,module,exports){wrappy=wrappy("wrappy");function once(fn){function f(){return f.called?f.value:(f.called=!0,f.value=fn.apply(this,arguments))}return f.called=!1,f}function onceStrict(fn){function f(){if(f.called)throw new Error(f.onceError);return f.called=!0,f.value=fn.apply(this,arguments)}var name=fn.name||"Function wrapped with `once`";return f.onceError=name+" shouldn't be called more than once",f.called=!1,f}module.exports=wrappy(once),module.exports.strict=wrappy(onceStrict),once.proto=once(function(){Object.defineProperty(Function.prototype,"once",{value:function(){return once(this)},configurable:!0}),Object.defineProperty(Function.prototype,"onceStrict",{value:function(){return onceStrict(this)},configurable:!0})})},{wrappy:156}],111:[function(require,module,exports){!function(process){!function(){"use strict";!process.version||0===process.version.indexOf("v0.")||0===process.version.indexOf("v1.")&&0!==process.version.indexOf("v1.8.")?module.exports=function(fn,arg1,arg2,arg3){if("function"!=typeof fn)throw new TypeError('"callback" argument must be a function');var args,i,len=arguments.length;switch(len){case 0:case 1:return process.nextTick(fn);case 2:return process.nextTick(function(){fn.call(null,arg1)});case 3:return process.nextTick(function(){fn.call(null,arg1,arg2)});case 4:return process.nextTick(function(){fn.call(null,arg1,arg2,arg3)});default:for(args=new Array(len-1),i=0;i<args.length;)args[i++]=arguments[i];return process.nextTick(function(){fn.apply(null,args)})}}:module.exports=process.nextTick}.call(this)}.call(this,require("_process"))},{_process:112}],112:[function(require,process,exports){var cachedSetTimeout,cachedClearTimeout,process=process.exports={};function defaultSetTimout(){throw new Error("setTimeout has not been defined")}function defaultClearTimeout(){throw new Error("clearTimeout has not been defined")}function runTimeout(fun){if(cachedSetTimeout===setTimeout)return setTimeout(fun,0);if((cachedSetTimeout===defaultSetTimout||!cachedSetTimeout)&&setTimeout)return cachedSetTimeout=setTimeout,setTimeout(fun,0);try{return cachedSetTimeout(fun,0)}catch(e){try{return cachedSetTimeout.call(null,fun,0)}catch(e){return cachedSetTimeout.call(this,fun,0)}}}!function(){try{cachedSetTimeout="function"==typeof setTimeout?setTimeout:defaultSetTimout}catch(e){cachedSetTimeout=defaultSetTimout}try{cachedClearTimeout="function"==typeof clearTimeout?clearTimeout:defaultClearTimeout}catch(e){cachedClearTimeout=defaultClearTimeout}}();var currentQueue,queue=[],draining=!1,queueIndex=-1;function cleanUpNextTick(){draining&&currentQueue&&(draining=!1,currentQueue.length?queue=currentQueue.concat(queue):queueIndex=-1,queue.length&&drainQueue())}function drainQueue(){if(!draining){var timeout=runTimeout(cleanUpNextTick);draining=!0;for(var len=queue.length;len;){for(currentQueue=queue,queue=[];++queueIndex<len;)currentQueue&&currentQueue[queueIndex].run();queueIndex=-1,len=queue.length}currentQueue=null,draining=!1,function(marker){if(cachedClearTimeout===clearTimeout)return clearTimeout(marker);if((cachedClearTimeout===defaultClearTimeout||!cachedClearTimeout)&&clearTimeout)return cachedClearTimeout=clearTimeout,clearTimeout(marker);try{cachedClearTimeout(marker)}catch(e){try{return cachedClearTimeout.call(null,marker)}catch(e){return cachedClearTimeout.call(this,marker)}}}(timeout)}}function Item(fun,array){this.fun=fun,this.array=array}function noop(){}process.nextTick=function(fun){var args=new Array(arguments.length-1);if(1<arguments.length)for(var i=1;i<arguments.length;i++)args[i-1]=arguments[i];queue.push(new Item(fun,args)),1!==queue.length||draining||runTimeout(drainQueue)},Item.prototype.run=function(){this.fun.apply(null,this.array)},process.title="browser",process.browser=!0,process.env={},process.argv=[],process.version="",process.versions={},process.on=noop,process.addListener=noop,process.once=noop,process.off=noop,process.removeListener=noop,process.removeAllListeners=noop,process.emit=noop,process.prependListener=noop,process.prependOnceListener=noop,process.listeners=function(name){return[]},process.binding=function(name){throw new Error("process.binding is not supported")},process.cwd=function(){return"/"},process.chdir=function(dir){throw new Error("process.chdir is not supported")},process.umask=function(){return 0}},{}],113:[function(require,module,exports){var context,definition;context=this,definition=function(){function makeOptions(value,options){function op(p){return oo?!!options[p]:os&&-1<options.indexOf(p[0])}var oo="object"==typeof options,os=!oo&&"string"==typeof options;return{enumerable:op("enumerable"),configurable:op("configurable"),writable:op("writable"),value:value}}var setProperty="function"==typeof Object.defineProperty?function(obj,key,options){return Object.defineProperty(obj,key,options),obj}:function(obj,key,options){return obj[key]=options.value,obj};return function(obj,key,value,options){if(options=makeOptions(value,options),"object"!=typeof key)return setProperty(obj,key,options);for(var k in key)Object.hasOwnProperty.call(key,k)&&(options.value=key[k],setProperty(obj,k,options));return obj}},void 0!==module&&module.exports?module.exports=definition():context.prr=definition()},{}],114:[function(require,module,exports){function noop(){}function call(fn){fn()}function pipe(from,to){return from.pipe(to)}var once=require("once"),eos=require("end-of-stream"),fs=require("fs"),isFn=function(fn){return"function"==typeof fn},isFS=function(stream){return!!fs&&((stream instanceof(fs.ReadStream||noop)||stream instanceof(fs.WriteStream||noop))&&isFn(stream.close))},isRequest=function(stream){return stream.setHeader&&isFn(stream.abort)};module.exports=function(){var error,streams=Array.prototype.slice.call(arguments),callback=isFn(streams[streams.length-1]||noop)&&streams.pop()||noop;if((streams=Array.isArray(streams[0])?streams[0]:streams).length<2)throw new Error("pump requires two streams per minimum");var destroys=streams.map(function(stream,i){var reading=i<streams.length-1;return function(stream,reading,writing,callback){callback=once(callback);var closed=!1;stream.on("close",function(){closed=!0}),eos(stream,{readable:reading,writable:writing},function(err){return err?callback(err):(closed=!0,void callback())});var destroyed=!1;return function(err){if(!closed&&!destroyed)return destroyed=!0,isFS(stream)?stream.close():isRequest(stream)?stream.abort():isFn(stream.destroy)?stream.destroy():void callback(err||new Error("stream was destroyed"))}}(stream,reading,0<i,function(err){error=error||err,err&&destroys.forEach(call),reading||(destroys.forEach(call),callback(error))})});return streams.reduce(pipe)}},{"end-of-stream":40,fs:19,once:110}],115:[function(define,module,exports){function toArray(args){return args.length?Array.isArray(args[0])?args[0]:Array.prototype.slice.call(args):[]}var pump=define("pump"),inherits=define("inherits"),Duplexify=define("duplexify"),define=function(opts){function Pumpify(){var streams=toArray(arguments);if(!(this instanceof Pumpify))return new Pumpify(streams);Duplexify.call(this,null,null,opts),streams.length&&this.setPipeline(streams)}return inherits(Pumpify,Duplexify),Pumpify.prototype.setPipeline=function(){function onclose(){streams[0].emit("error",new Error("stream was destroyed"))}var streams=toArray(arguments),self=this,ended=!1,w=streams[0],r=(r=streams[streams.length-1]).readable?r:null,w=w.writable?w:null;if(this.on("close",onclose),this.on("prefinish",function(){ended||self.cork()}),pump(streams,function(err){return self.removeListener("close",onclose),err?self.destroy(err):(ended=!0,void self.uncork())}),this.destroyed)return onclose();this.setWritable(w),this.setReadable(r)},Pumpify};module.exports=define({destroy:!1}),module.exports.obj=define({destroy:!1,objectMode:!0,highWaterMark:16})},{duplexify:38,inherits:59,pump:114}],116:[function(require,util,exports){"use strict";var processNextTick=require("process-nextick-args"),objectKeys=Object.keys||function(obj){var key,keys=[];for(key in obj)keys.push(key);return keys};util.exports=Duplex;util=require("core-util-is");util.inherits=require("inherits");var Readable=require("./_stream_readable"),Writable=require("./_stream_writable");util.inherits(Duplex,Readable);for(var keys=objectKeys(Writable.prototype),v=0;v<keys.length;v++){var method=keys[v];Duplex.prototype[method]||(Duplex.prototype[method]=Writable.prototype[method])}function Duplex(options){if(!(this instanceof Duplex))return new Duplex(options);Readable.call(this,options),Writable.call(this,options),options&&!1===options.readable&&(this.readable=!1),options&&!1===options.writable&&(this.writable=!1),this.allowHalfOpen=!0,options&&!1===options.allowHalfOpen&&(this.allowHalfOpen=!1),this.once("end",onend)}function onend(){this.allowHalfOpen||this._writableState.ended||processNextTick(onEndNT,this)}function onEndNT(self){self.end()}Object.defineProperty(Duplex.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed&&this._writableState.destroyed)},set:function(value){void 0!==this._readableState&&void 0!==this._writableState&&(this._readableState.destroyed=value,this._writableState.destroyed=value)}}),Duplex.prototype._destroy=function(err,cb){this.push(null),this.end(),processNextTick(cb,err)}},{"./_stream_readable":118,"./_stream_writable":120,"core-util-is":23,inherits:59,"process-nextick-args":111}],117:[function(require,util,exports){"use strict";util.exports=PassThrough;var Transform=require("./_stream_transform"),util=require("core-util-is");function PassThrough(options){if(!(this instanceof PassThrough))return new PassThrough(options);Transform.call(this,options)}util.inherits=require("inherits"),util.inherits(PassThrough,Transform),PassThrough.prototype._transform=function(chunk,encoding,cb){cb(null,chunk)}},{"./_stream_transform":119,"core-util-is":23,inherits:59}],118:[function(require,module,exports){!function(process,global){!function(){"use strict";var processNextTick=require("process-nextick-args");module.exports=Readable;var Duplex,isArray=require("isarray");Readable.ReadableState=ReadableState;function EElistenerCount(emitter,type){return emitter.listeners(type).length}require("events").EventEmitter;var Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var util=require("core-util-is");util.inherits=require("inherits");var StringDecoder,destroyImpl=require("util"),debug=void 0,debug=destroyImpl&&destroyImpl.debuglog?destroyImpl.debuglog("stream"):function(){},BufferList=require("./internal/streams/BufferList"),destroyImpl=require("./internal/streams/destroy");util.inherits(Readable,Stream);var kProxyEvents=["error","close","destroy","pause","resume"];function ReadableState(options,defaultHwm){Duplex=Duplex||require("./_stream_duplex"),this.objectMode=!!(options=options||{}).objectMode,defaultHwm instanceof Duplex&&(this.objectMode=this.objectMode||!!options.readableObjectMode);var hwm=options.highWaterMark,defaultHwm=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:defaultHwm,this.highWaterMark=Math.floor(this.highWaterMark),this.buffer=new BufferList,this.length=0,this.pipes=null,this.pipesCount=0,this.flowing=null,this.ended=!1,this.endEmitted=!1,this.reading=!1,this.sync=!0,this.needReadable=!1,this.emittedReadable=!1,this.readableListening=!1,this.resumeScheduled=!1,this.destroyed=!1,this.defaultEncoding=options.defaultEncoding||"utf8",this.awaitDrain=0,this.readingMore=!1,this.decoder=null,this.encoding=null,options.encoding&&(StringDecoder=StringDecoder||require("string_decoder/").StringDecoder,this.decoder=new StringDecoder(options.encoding),this.encoding=options.encoding)}function Readable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(this instanceof Readable))return new Readable(options);this._readableState=new ReadableState(options,this),this.readable=!0,options&&("function"==typeof options.read&&(this._read=options.read),"function"==typeof options.destroy&&(this._destroy=options.destroy)),Stream.call(this)}function readableAddChunk(stream,chunk,encoding,addToFront,skipChunkCheck){var er,state=stream._readableState;return null===chunk?(state.reading=!1,function(stream,state){var chunk;state.ended||(!state.decoder||(chunk=state.decoder.end())&&chunk.length&&(state.buffer.push(chunk),state.length+=state.objectMode?1:chunk.length),state.ended=!0,emitReadable(stream))}(stream,state)):(er=!skipChunkCheck?function(state,chunk){var er;(function(obj){return Buffer.isBuffer(obj)||obj instanceof OurUint8Array})(chunk)||"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk"));return er}(state,chunk):er)?stream.emit("error",er):state.objectMode||chunk&&0<chunk.length?("string"==typeof chunk||state.objectMode||Object.getPrototypeOf(chunk)===Buffer.prototype||(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),addToFront?state.endEmitted?stream.emit("error",new Error("stream.unshift() after end event")):addChunk(stream,state,chunk,!0):state.ended?stream.emit("error",new Error("stream.push() after EOF")):(state.reading=!1,state.decoder&&!encoding?(chunk=state.decoder.write(chunk),state.objectMode||0!==chunk.length?addChunk(stream,state,chunk,!1):maybeReadMore(stream,state)):addChunk(stream,state,chunk,!1))):addToFront||(state.reading=!1),function(state){return!state.ended&&(state.needReadable||state.length<state.highWaterMark||0===state.length)}(state)}function addChunk(stream,state,chunk,addToFront){state.flowing&&0===state.length&&!state.sync?(stream.emit("data",chunk),stream.read(0)):(state.length+=state.objectMode?1:chunk.length,addToFront?state.buffer.unshift(chunk):state.buffer.push(chunk),state.needReadable&&emitReadable(stream)),maybeReadMore(stream,state)}Object.defineProperty(Readable.prototype,"destroyed",{get:function(){return void 0!==this._readableState&&this._readableState.destroyed},set:function(value){this._readableState&&(this._readableState.destroyed=value)}}),Readable.prototype.destroy=destroyImpl.destroy,Readable.prototype._undestroy=destroyImpl.undestroy,Readable.prototype._destroy=function(err,cb){this.push(null),cb(err)},Readable.prototype.push=function(chunk,encoding){var skipChunkCheck,state=this._readableState;return state.objectMode?skipChunkCheck=!0:"string"==typeof chunk&&((encoding=encoding||state.defaultEncoding)!==state.encoding&&(chunk=Buffer.from(chunk,encoding),encoding=""),skipChunkCheck=!0),readableAddChunk(this,chunk,encoding,!1,skipChunkCheck)},Readable.prototype.unshift=function(chunk){return readableAddChunk(this,chunk,null,!0,!1)},Readable.prototype.isPaused=function(){return!1===this._readableState.flowing},Readable.prototype.setEncoding=function(enc){return StringDecoder=StringDecoder||require("string_decoder/").StringDecoder,this._readableState.decoder=new StringDecoder(enc),this._readableState.encoding=enc,this};var MAX_HWM=8388608;function howMuchToRead(n,state){return n<=0||0===state.length&&state.ended?0:state.objectMode?1:n!=n?(state.flowing&&state.length?state.buffer.head.data:state).length:(n>state.highWaterMark&&(state.highWaterMark=function(n){return MAX_HWM<=n?n=MAX_HWM:(n--,n|=n>>>1,n|=n>>>2,n|=n>>>4,n|=n>>>8,n|=n>>>16,n++),n}(n)),n<=state.length?n:state.ended?state.length:(state.needReadable=!0,0))}function emitReadable(stream){var state=stream._readableState;state.needReadable=!1,state.emittedReadable||(debug("emitReadable",state.flowing),state.emittedReadable=!0,state.sync?processNextTick(emitReadable_,stream):emitReadable_(stream))}function emitReadable_(stream){debug("emit readable"),stream.emit("readable"),flow(stream)}function maybeReadMore(stream,state){state.readingMore||(state.readingMore=!0,processNextTick(maybeReadMore_,stream,state))}function maybeReadMore_(stream,state){for(var len=state.length;!state.reading&&!state.flowing&&!state.ended&&state.length<state.highWaterMark&&(debug("maybeReadMore read 0"),stream.read(0),len!==state.length);)len=state.length;state.readingMore=!1}function nReadingNextTick(self){debug("readable nexttick read 0"),self.read(0)}function resume_(stream,state){state.reading||(debug("resume read 0"),stream.read(0)),state.resumeScheduled=!1,state.awaitDrain=0,stream.emit("resume"),flow(stream),state.flowing&&!state.reading&&stream.read(0)}function flow(stream){var state=stream._readableState;for(debug("flow",state.flowing);state.flowing&&null!==stream.read(););}function fromList(n,state){return 0===state.length?null:(state.objectMode?ret=state.buffer.shift():!n||n>=state.length?(ret=state.decoder?state.buffer.join(""):1===state.buffer.length?state.buffer.head.data:state.buffer.concat(state.length),state.buffer.clear()):ret=function(n,list,hasStrings){var ret;n<list.head.data.length?(ret=list.head.data.slice(0,n),list.head.data=list.head.data.slice(n)):ret=n===list.head.data.length?list.shift():(hasStrings?function(n,list){var p=list.head,c=1,ret=p.data;n-=ret.length;for(;p=p.next;){var str=p.data,nb=n>str.length?str.length:n;if(nb===str.length?ret+=str:ret+=str.slice(0,n),0===(n-=nb)){nb===str.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p).data=str.slice(nb);break}++c}return list.length-=c,ret}:function(n,list){var ret=Buffer.allocUnsafe(n),p=list.head,c=1;p.data.copy(ret),n-=p.data.length;for(;p=p.next;){var buf=p.data,nb=n>buf.length?buf.length:n;if(buf.copy(ret,ret.length-n,0,nb),0===(n-=nb)){nb===buf.length?(++c,p.next?list.head=p.next:list.head=list.tail=null):(list.head=p).data=buf.slice(nb);break}++c}return list.length-=c,ret})(n,list);return ret}(n,state.buffer,state.decoder),ret);var ret}function endReadable(stream){var state=stream._readableState;if(0<state.length)throw new Error('"endReadable()" called on non-empty stream');state.endEmitted||(state.ended=!0,processNextTick(endReadableNT,state,stream))}function endReadableNT(state,stream){state.endEmitted||0!==state.length||(state.endEmitted=!0,stream.readable=!1,stream.emit("end"))}function indexOf(xs,x){for(var i=0,l=xs.length;i<l;i++)if(xs[i]===x)return i;return-1}Readable.prototype.read=function(n){debug("read",n),n=parseInt(n,10);var state=this._readableState,nOrig=n;if(0!==n&&(state.emittedReadable=!1),0===n&&state.needReadable&&(state.length>=state.highWaterMark||state.ended))return debug("read: emitReadable",state.length,state.ended),(0===state.length&&state.ended?endReadable:emitReadable)(this),null;if(0===(n=howMuchToRead(n,state))&&state.ended)return 0===state.length&&endReadable(this),null;var ret=state.needReadable;return debug("need readable",ret),(0===state.length||state.length-n<state.highWaterMark)&&debug("length less than watermark",ret=!0),state.ended||state.reading?debug("reading or ended",ret=!1):ret&&(debug("do read"),state.reading=!0,state.sync=!0,0===state.length&&(state.needReadable=!0),this._read(state.highWaterMark),state.sync=!1,state.reading||(n=howMuchToRead(nOrig,state))),null===(ret=0<n?fromList(n,state):null)?(state.needReadable=!0,n=0):state.length-=n,0===state.length&&(state.ended||(state.needReadable=!0),nOrig!==n&&state.ended&&endReadable(this)),null!==ret&&this.emit("data",ret),ret},Readable.prototype._read=function(n){this.emit("error",new Error("_read() is not implemented"))},Readable.prototype.pipe=function(dest,endFn){var src=this,state=this._readableState;switch(state.pipesCount){case 0:state.pipes=dest;break;case 1:state.pipes=[state.pipes,dest];break;default:state.pipes.push(dest)}state.pipesCount+=1,debug("pipe count=%d opts=%j",state.pipesCount,endFn);endFn=(!endFn||!1!==endFn.end)&&dest!==process.stdout&&dest!==process.stderr?onend:unpipe;function onunpipe(readable,unpipeInfo){debug("onunpipe"),readable===src&&unpipeInfo&&!1===unpipeInfo.hasUnpiped&&(unpipeInfo.hasUnpiped=!0,debug("cleanup"),dest.removeListener("close",onclose),dest.removeListener("finish",onfinish),dest.removeListener("drain",ondrain),dest.removeListener("error",onerror),dest.removeListener("unpipe",onunpipe),src.removeListener("end",onend),src.removeListener("end",unpipe),src.removeListener("data",ondata),cleanedUp=!0,!state.awaitDrain||dest._writableState&&!dest._writableState.needDrain||ondrain())}function onend(){debug("onend"),dest.end()}state.endEmitted?processNextTick(endFn):src.once("end",endFn),dest.on("unpipe",onunpipe);var ondrain=function(src){return function(){var state=src._readableState;debug("pipeOnDrain",state.awaitDrain),state.awaitDrain&&state.awaitDrain--,0===state.awaitDrain&&EElistenerCount(src,"data")&&(state.flowing=!0,flow(src))}}(src);dest.on("drain",ondrain);var cleanedUp=!1;var increasedAwaitDrain=!1;function ondata(chunk){debug("ondata"),(increasedAwaitDrain=!1)!==dest.write(chunk)||increasedAwaitDrain||((1===state.pipesCount&&state.pipes===dest||1<state.pipesCount&&-1!==indexOf(state.pipes,dest))&&!cleanedUp&&(debug("false write response, pause",src._readableState.awaitDrain),src._readableState.awaitDrain++,increasedAwaitDrain=!0),src.pause())}function onerror(er){debug("onerror",er),unpipe(),dest.removeListener("error",onerror),0===EElistenerCount(dest,"error")&&dest.emit("error",er)}function onclose(){dest.removeListener("finish",onfinish),unpipe()}function onfinish(){debug("onfinish"),dest.removeListener("close",onclose),unpipe()}function unpipe(){debug("unpipe"),src.unpipe(dest)}return src.on("data",ondata),function(emitter,event,fn){if("function"==typeof emitter.prependListener)return emitter.prependListener(event,fn);emitter._events&&emitter._events[event]?isArray(emitter._events[event])?emitter._events[event].unshift(fn):emitter._events[event]=[fn,emitter._events[event]]:emitter.on(event,fn)}(dest,"error",onerror),dest.once("close",onclose),dest.once("finish",onfinish),dest.emit("pipe",src),state.flowing||(debug("pipe resume"),src.resume()),dest},Readable.prototype.unpipe=function(dest){var state=this._readableState,unpipeInfo={hasUnpiped:!1};if(0===state.pipesCount)return this;if(1===state.pipesCount)return dest&&dest!==state.pipes||(dest=dest||state.pipes,state.pipes=null,state.pipesCount=0,state.flowing=!1,dest&&dest.emit("unpipe",this,unpipeInfo)),this;if(!dest){var dests=state.pipes,len=state.pipesCount;state.pipes=null,state.pipesCount=0,state.flowing=!1;for(var i=0;i<len;i++)dests[i].emit("unpipe",this,unpipeInfo);return this}var index=indexOf(state.pipes,dest);return-1===index||(state.pipes.splice(index,1),--state.pipesCount,1===state.pipesCount&&(state.pipes=state.pipes[0]),dest.emit("unpipe",this,unpipeInfo)),this},Readable.prototype.addListener=Readable.prototype.on=function(state,res){res=Stream.prototype.on.call(this,state,res);return"data"===state?!1!==this._readableState.flowing&&this.resume():"readable"===state&&((state=this._readableState).endEmitted||state.readableListening||(state.readableListening=state.needReadable=!0,state.emittedReadable=!1,state.reading?state.length&&emitReadable(this):processNextTick(nReadingNextTick,this))),res},Readable.prototype.resume=function(){var state=this._readableState;return state.flowing||(debug("resume"),state.flowing=!0,function(stream,state){state.resumeScheduled||(state.resumeScheduled=!0,processNextTick(resume_,stream,state))}(this,state)),this},Readable.prototype.pause=function(){return debug("call pause flowing=%j",this._readableState.flowing),!1!==this._readableState.flowing&&(debug("pause"),this._readableState.flowing=!1,this.emit("pause")),this},Readable.prototype.wrap=function(stream){var i,state=this._readableState,paused=!1,self=this;for(i in stream.on("end",function(){var chunk;debug("wrapped end"),!state.decoder||state.ended||(chunk=state.decoder.end())&&chunk.length&&self.push(chunk),self.push(null)}),stream.on("data",function(chunk){debug("wrapped data"),state.decoder&&(chunk=state.decoder.write(chunk)),state.objectMode&&null==chunk||(state.objectMode||chunk&&chunk.length)&&(self.push(chunk)||(paused=!0,stream.pause()))}),stream)void 0===this[i]&&"function"==typeof stream[i]&&(this[i]=function(method){return function(){return stream[method].apply(stream,arguments)}}(i));for(var n=0;n<kProxyEvents.length;n++)stream.on(kProxyEvents[n],self.emit.bind(self,kProxyEvents[n]));return self._read=function(n){debug("wrapped _read",n),paused&&(paused=!1,stream.resume())},self},Readable._fromList=fromList}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"./_stream_duplex":116,"./internal/streams/BufferList":121,"./internal/streams/destroy":122,"./internal/streams/stream":123,_process:112,"core-util-is":23,events:43,inherits:59,isarray:65,"process-nextick-args":111,"safe-buffer":125,"string_decoder/":145,util:19}],119:[function(require,util,exports){"use strict";util.exports=Transform;var Duplex=require("./_stream_duplex"),util=require("core-util-is");function TransformState(stream){this.afterTransform=function(er,data){return function(stream,rs,data){var ts=stream._transformState;ts.transforming=!1;var cb=ts.writecb;if(!cb)return stream.emit("error",new Error("write callback called multiple times"));ts.writechunk=null,(ts.writecb=null)!=data&&stream.push(data);cb(rs);rs=stream._readableState;rs.reading=!1,(rs.needReadable||rs.length<rs.highWaterMark)&&stream._read(rs.highWaterMark)}(stream,er,data)},this.needTransform=!1,this.transforming=!1,this.writecb=null,this.writechunk=null,this.writeencoding=null}function Transform(options){if(!(this instanceof Transform))return new Transform(options);Duplex.call(this,options),this._transformState=new TransformState(this);var stream=this;this._readableState.needReadable=!0,this._readableState.sync=!1,options&&("function"==typeof options.transform&&(this._transform=options.transform),"function"==typeof options.flush&&(this._flush=options.flush)),this.once("prefinish",function(){"function"==typeof this._flush?this._flush(function(er,data){done(stream,er,data)}):done(stream)})}function done(stream,ws,ts){if(ws)return stream.emit("error",ws);null!=ts&&stream.push(ts);ws=stream._writableState,ts=stream._transformState;if(ws.length)throw new Error("Calling transform done when ws.length != 0");if(ts.transforming)throw new Error("Calling transform done when still transforming");return stream.push(null)}util.inherits=require("inherits"),util.inherits(Transform,Duplex),Transform.prototype.push=function(chunk,encoding){return this._transformState.needTransform=!1,Duplex.prototype.push.call(this,chunk,encoding)},Transform.prototype._transform=function(chunk,encoding,cb){throw new Error("_transform() is not implemented")},Transform.prototype._write=function(chunk,rs,cb){var ts=this._transformState;ts.writecb=cb,ts.writechunk=chunk,ts.writeencoding=rs,ts.transforming||(rs=this._readableState,(ts.needTransform||rs.needReadable||rs.length<rs.highWaterMark)&&this._read(rs.highWaterMark))},Transform.prototype._read=function(n){var ts=this._transformState;null!==ts.writechunk&&ts.writecb&&!ts.transforming?(ts.transforming=!0,this._transform(ts.writechunk,ts.writeencoding,ts.afterTransform)):ts.needTransform=!0},Transform.prototype._destroy=function(err,cb){var _this=this;Duplex.prototype._destroy.call(this,err,function(err2){cb(err2),_this.emit("close")})}},{"./_stream_duplex":116,"core-util-is":23,inherits:59}],120:[function(require,module,exports){!function(process,global,setImmediate){!function(){"use strict";var processNextTick=require("process-nextick-args");function CorkedRequest(state){var _this=this;this.next=null,this.entry=null,this.finish=function(){!function(corkReq,state,err){var entry=corkReq.entry;corkReq.entry=null;for(;entry;){var cb=entry.callback;state.pendingcb--,cb(err),entry=entry.next}state.corkedRequestsFree?state.corkedRequestsFree.next=corkReq:state.corkedRequestsFree=corkReq}(_this,state)}}module.exports=Writable;var Duplex,asyncWrite=!process.browser&&-1<["v0.10","v0.9."].indexOf(process.version.slice(0,5))?setImmediate:processNextTick;Writable.WritableState=WritableState;var util=require("core-util-is");util.inherits=require("inherits");var internalUtil={deprecate:require("util-deprecate")},Stream=require("./internal/streams/stream"),Buffer=require("safe-buffer").Buffer,OurUint8Array=global.Uint8Array||function(){};var realHasInstance,destroyImpl=require("./internal/streams/destroy");function nop(){}function WritableState(options,stream){Duplex=Duplex||require("./_stream_duplex"),this.objectMode=!!(options=options||{}).objectMode,stream instanceof Duplex&&(this.objectMode=this.objectMode||!!options.writableObjectMode);var hwm=options.highWaterMark,noDecode=this.objectMode?16:16384;this.highWaterMark=hwm||0===hwm?hwm:noDecode,this.highWaterMark=Math.floor(this.highWaterMark),this.finalCalled=!1,this.needDrain=!1,this.ending=!1,this.ended=!1,this.finished=!1;noDecode=(this.destroyed=!1)===options.decodeStrings;this.decodeStrings=!noDecode,this.defaultEncoding=options.defaultEncoding||"utf8",this.length=0,this.writing=!1,this.corked=0,this.sync=!0,this.bufferProcessing=!1,this.onwrite=function(er){!function(stream,finished){var state=stream._writableState,sync=state.sync,cb=state.writecb;(function(state){state.writing=!1,state.writecb=null,state.length-=state.writelen,state.writelen=0})(state),finished?function(stream,state,sync,er,cb){--state.pendingcb,sync?(processNextTick(cb,er),processNextTick(finishMaybe,stream,state),stream._writableState.errorEmitted=!0,stream.emit("error",er)):(cb(er),stream._writableState.errorEmitted=!0,stream.emit("error",er),finishMaybe(stream,state))}(stream,state,sync,finished,cb):((finished=needFinish(state))||state.corked||state.bufferProcessing||!state.bufferedRequest||clearBuffer(stream,state),sync?asyncWrite(afterWrite,stream,state,finished,cb):afterWrite(stream,state,finished,cb))}(stream,er)},this.writecb=null,this.writelen=0,this.bufferedRequest=null,this.lastBufferedRequest=null,this.pendingcb=0,this.prefinished=!1,this.errorEmitted=!1,this.bufferedRequestCount=0,this.corkedRequestsFree=new CorkedRequest(this)}function Writable(options){if(Duplex=Duplex||require("./_stream_duplex"),!(realHasInstance.call(Writable,this)||this instanceof Duplex))return new Writable(options);this._writableState=new WritableState(options,this),this.writable=!0,options&&("function"==typeof options.write&&(this._write=options.write),"function"==typeof options.writev&&(this._writev=options.writev),"function"==typeof options.destroy&&(this._destroy=options.destroy),"function"==typeof options.final&&(this._final=options.final)),Stream.call(this)}function doWrite(stream,state,writev,len,chunk,encoding,cb){state.writelen=len,state.writecb=cb,state.writing=!0,state.sync=!0,writev?stream._writev(chunk,state.onwrite):stream._write(chunk,encoding,state.onwrite),state.sync=!1}function afterWrite(stream,state,finished,cb){finished||function(stream,state){0===state.length&&state.needDrain&&(state.needDrain=!1,stream.emit("drain"))}(stream,state),state.pendingcb--,cb(),finishMaybe(stream,state)}function clearBuffer(stream,state){state.bufferProcessing=!0;var entry=state.bufferedRequest;if(stream._writev&&entry&&entry.next){var holder=state.bufferedRequestCount,buffer=new Array(holder),holder=state.corkedRequestsFree;holder.entry=entry;for(var count=0,allBuffers=!0;entry;)(buffer[count]=entry).isBuf||(allBuffers=!1),entry=entry.next,count+=1;buffer.allBuffers=allBuffers,doWrite(stream,state,!0,state.length,buffer,"",holder.finish),state.pendingcb++,state.lastBufferedRequest=null,holder.next?(state.corkedRequestsFree=holder.next,holder.next=null):state.corkedRequestsFree=new CorkedRequest(state)}else{for(;entry;){var chunk=entry.chunk,encoding=entry.encoding,cb=entry.callback;if(doWrite(stream,state,!1,state.objectMode?1:chunk.length,chunk,encoding,cb),entry=entry.next,state.writing)break}null===entry&&(state.lastBufferedRequest=null)}state.bufferedRequestCount=0,state.bufferedRequest=entry,state.bufferProcessing=!1}function needFinish(state){return state.ending&&0===state.length&&null===state.bufferedRequest&&!state.finished&&!state.writing}function callFinal(stream,state){stream._final(function(err){state.pendingcb--,err&&stream.emit("error",err),state.prefinished=!0,stream.emit("prefinish"),finishMaybe(stream,state)})}function finishMaybe(stream,state){var need=needFinish(state);return need&&(function(stream,state){state.prefinished||state.finalCalled||("function"==typeof stream._final?(state.pendingcb++,state.finalCalled=!0,processNextTick(callFinal,stream,state)):(state.prefinished=!0,stream.emit("prefinish")))}(stream,state),0===state.pendingcb&&(state.finished=!0,stream.emit("finish"))),need}util.inherits(Writable,Stream),WritableState.prototype.getBuffer=function(){for(var current=this.bufferedRequest,out=[];current;)out.push(current),current=current.next;return out},function(){try{Object.defineProperty(WritableState.prototype,"buffer",{get:internalUtil.deprecate(function(){return this.getBuffer()},"_writableState.buffer is deprecated. Use _writableState.getBuffer instead.","DEP0003")})}catch(_){}}(),"function"==typeof Symbol&&Symbol.hasInstance&&"function"==typeof Function.prototype[Symbol.hasInstance]?(realHasInstance=Function.prototype[Symbol.hasInstance],Object.defineProperty(Writable,Symbol.hasInstance,{value:function(object){return!!realHasInstance.call(this,object)||object&&object._writableState instanceof WritableState}})):realHasInstance=function(object){return object instanceof this},Writable.prototype.pipe=function(){this.emit("error",new Error("Cannot pipe, not readable"))},Writable.prototype.write=function(chunk,encoding,cb){var isBuf,state=this._writableState,ret=!1,isBuf=(isBuf=chunk,(Buffer.isBuffer(isBuf)||isBuf instanceof OurUint8Array)&&!state.objectMode);return isBuf&&!Buffer.isBuffer(chunk)&&(chunk=function(chunk){return Buffer.from(chunk)}(chunk)),"function"==typeof encoding&&(cb=encoding,encoding=null),encoding=isBuf?"buffer":encoding||state.defaultEncoding,"function"!=typeof cb&&(cb=nop),state.ended?function(stream,cb){var er=new Error("write after end");stream.emit("error",er),processNextTick(cb,er)}(this,cb):(isBuf||function(stream,state,chunk,cb){var valid=!0,er=!1;return null===chunk?er=new TypeError("May not write null values to stream"):"string"==typeof chunk||void 0===chunk||state.objectMode||(er=new TypeError("Invalid non-string/buffer chunk")),er&&(stream.emit("error",er),processNextTick(cb,er),valid=!1),valid}(this,state,chunk,cb))&&(state.pendingcb++,ret=function(stream,state,isBuf,chunk,encoding,cb){isBuf||(last=function(state,chunk,encoding){state.objectMode||!1===state.decodeStrings||"string"!=typeof chunk||(chunk=Buffer.from(chunk,encoding));return chunk}(state,chunk,encoding),chunk!==last&&(isBuf=!0,encoding="buffer",chunk=last));var len=state.objectMode?1:chunk.length;state.length+=len;var ret=state.length<state.highWaterMark;ret||(state.needDrain=!0);{var last;state.writing||state.corked?(last=state.lastBufferedRequest,state.lastBufferedRequest={chunk:chunk,encoding:encoding,isBuf:isBuf,callback:cb,next:null},last?last.next=state.lastBufferedRequest:state.bufferedRequest=state.lastBufferedRequest,state.bufferedRequestCount+=1):doWrite(stream,state,!1,len,chunk,encoding,cb)}return ret}(this,state,isBuf,chunk,encoding,cb)),ret},Writable.prototype.cork=function(){this._writableState.corked++},Writable.prototype.uncork=function(){var state=this._writableState;state.corked&&(state.corked--,state.writing||state.corked||state.finished||state.bufferProcessing||!state.bufferedRequest||clearBuffer(this,state))},Writable.prototype.setDefaultEncoding=function(encoding){if("string"==typeof encoding&&(encoding=encoding.toLowerCase()),!(-1<["hex","utf8","utf-8","ascii","binary","base64","ucs2","ucs-2","utf16le","utf-16le","raw"].indexOf((encoding+"").toLowerCase())))throw new TypeError("Unknown encoding: "+encoding);return this._writableState.defaultEncoding=encoding,this},Writable.prototype._write=function(chunk,encoding,cb){cb(new Error("_write() is not implemented"))},Writable.prototype._writev=null,Writable.prototype.end=function(chunk,encoding,cb){var state=this._writableState;"function"==typeof chunk?(cb=chunk,encoding=chunk=null):"function"==typeof encoding&&(cb=encoding,encoding=null),null!=chunk&&this.write(chunk,encoding),state.corked&&(state.corked=1,this.uncork()),state.ending||state.finished||function(stream,state,cb){state.ending=!0,finishMaybe(stream,state),cb&&(state.finished?processNextTick(cb):stream.once("finish",cb));state.ended=!0,stream.writable=!1}(this,state,cb)},Object.defineProperty(Writable.prototype,"destroyed",{get:function(){return void 0!==this._writableState&&this._writableState.destroyed},set:function(value){this._writableState&&(this._writableState.destroyed=value)}}),Writable.prototype.destroy=destroyImpl.destroy,Writable.prototype._undestroy=destroyImpl.undestroy,Writable.prototype._destroy=function(err,cb){this.end(),cb(err)}}.call(this)}.call(this,require("_process"),"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{},require("timers").setImmediate)},{"./_stream_duplex":116,"./internal/streams/destroy":122,"./internal/streams/stream":123,_process:112,"core-util-is":23,inherits:59,"process-nextick-args":111,"safe-buffer":125,timers:149,"util-deprecate":150}],121:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer;function BufferList(){!function(instance,Constructor){if(!(instance instanceof Constructor))throw new TypeError("Cannot call a class as a function")}(this,BufferList),this.head=null,this.tail=null,this.length=0}module.exports=(BufferList.prototype.push=function(entry){entry={data:entry,next:null};0<this.length?this.tail.next=entry:this.head=entry,this.tail=entry,++this.length},BufferList.prototype.unshift=function(entry){entry={data:entry,next:this.head};0===this.length&&(this.tail=entry),this.head=entry,++this.length},BufferList.prototype.shift=function(){if(0!==this.length){var ret=this.head.data;return 1===this.length?this.head=this.tail=null:this.head=this.head.next,--this.length,ret}},BufferList.prototype.clear=function(){this.head=this.tail=null,this.length=0},BufferList.prototype.join=function(s){if(0===this.length)return"";for(var p=this.head,ret=""+p.data;p=p.next;)ret+=s+p.data;return ret},BufferList.prototype.concat=function(n){if(0===this.length)return Buffer.alloc(0);if(1===this.length)return this.head.data;for(var src,offset,ret=Buffer.allocUnsafe(n>>>0),p=this.head,i=0;p;)src=p.data,offset=i,src.copy(ret,offset),i+=p.data.length,p=p.next;return ret},BufferList)},{"safe-buffer":125}],122:[function(require,module,exports){"use strict";var processNextTick=require("process-nextick-args");function emitErrorNT(self,err){self.emit("error",err)}module.exports={destroy:function(err,cb){var _this=this,readableDestroyed=this._readableState&&this._readableState.destroyed,writableDestroyed=this._writableState&&this._writableState.destroyed;readableDestroyed||writableDestroyed?cb?cb(err):!err||this._writableState&&this._writableState.errorEmitted||processNextTick(emitErrorNT,this,err):(this._readableState&&(this._readableState.destroyed=!0),this._writableState&&(this._writableState.destroyed=!0),this._destroy(err||null,function(err){!cb&&err?(processNextTick(emitErrorNT,_this,err),_this._writableState&&(_this._writableState.errorEmitted=!0)):cb&&cb(err)}))},undestroy:function(){this._readableState&&(this._readableState.destroyed=!1,this._readableState.reading=!1,this._readableState.ended=!1,this._readableState.endEmitted=!1),this._writableState&&(this._writableState.destroyed=!1,this._writableState.ended=!1,this._writableState.ending=!1,this._writableState.finished=!1,this._writableState.errorEmitted=!1)}}},{"process-nextick-args":111}],123:[function(require,module,exports){arguments[4][86][0].apply(exports,arguments)},{dup:86,events:43}],124:[function(require,module,exports){(((exports=module.exports=require("./lib/_stream_readable.js")).Stream=exports).Readable=exports).Writable=require("./lib/_stream_writable.js"),exports.Duplex=require("./lib/_stream_duplex.js"),exports.Transform=require("./lib/_stream_transform.js"),exports.PassThrough=require("./lib/_stream_passthrough.js")},{"./lib/_stream_duplex.js":116,"./lib/_stream_passthrough.js":117,"./lib/_stream_readable.js":118,"./lib/_stream_transform.js":119,"./lib/_stream_writable.js":120}],125:[function(require,module,exports){var buffer=require("buffer"),Buffer=buffer.Buffer;function copyProps(src,dst){for(var key in src)dst[key]=src[key]}function SafeBuffer(arg,encodingOrOffset,length){return Buffer(arg,encodingOrOffset,length)}Buffer.from&&Buffer.alloc&&Buffer.allocUnsafe&&Buffer.allocUnsafeSlow?module.exports=buffer:(copyProps(buffer,exports),exports.Buffer=SafeBuffer),copyProps(Buffer,SafeBuffer),SafeBuffer.from=function(arg,encodingOrOffset,length){if("number"==typeof arg)throw new TypeError("Argument must not be a number");return Buffer(arg,encodingOrOffset,length)},SafeBuffer.alloc=function(buf,fill,encoding){if("number"!=typeof buf)throw new TypeError("Argument must be a number");buf=Buffer(buf);return void 0!==fill?"string"==typeof encoding?buf.fill(fill,encoding):buf.fill(fill):buf.fill(0),buf},SafeBuffer.allocUnsafe=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return Buffer(size)},SafeBuffer.allocUnsafeSlow=function(size){if("number"!=typeof size)throw new TypeError("Argument must be a number");return buffer.SlowBuffer(size)}},{buffer:20}],126:[function(require,module,exports){module.exports=Stream;var EE=require("events").EventEmitter;function Stream(){EE.call(this)}require("inherits")(Stream,EE),Stream.Readable=require("readable-stream/lib/_stream_readable.js"),Stream.Writable=require("readable-stream/lib/_stream_writable.js"),Stream.Duplex=require("readable-stream/lib/_stream_duplex.js"),Stream.Transform=require("readable-stream/lib/_stream_transform.js"),Stream.PassThrough=require("readable-stream/lib/_stream_passthrough.js"),Stream.finished=require("readable-stream/lib/internal/streams/end-of-stream.js"),Stream.pipeline=require("readable-stream/lib/internal/streams/pipeline.js"),(Stream.Stream=Stream).prototype.pipe=function(dest,options){var source=this;function ondata(chunk){dest.writable&&!1===dest.write(chunk)&&source.pause&&source.pause()}function ondrain(){source.readable&&source.resume&&source.resume()}source.on("data",ondata),dest.on("drain",ondrain),dest._isStdio||options&&!1===options.end||(source.on("end",onend),source.on("close",onclose));var didOnEnd=!1;function onend(){didOnEnd||(didOnEnd=!0,dest.end())}function onclose(){didOnEnd||(didOnEnd=!0,"function"==typeof dest.destroy&&dest.destroy())}function onerror(er){if(cleanup(),0===EE.listenerCount(this,"error"))throw er}function cleanup(){source.removeListener("data",ondata),dest.removeListener("drain",ondrain),source.removeListener("end",onend),source.removeListener("close",onclose),source.removeListener("error",onerror),dest.removeListener("error",onerror),source.removeListener("end",cleanup),source.removeListener("close",cleanup),dest.removeListener("close",cleanup)}return source.on("error",onerror),dest.on("error",onerror),source.on("end",cleanup),source.on("close",cleanup),dest.on("close",cleanup),dest.emit("pipe",source),dest}},{events:43,inherits:127,"readable-stream/lib/_stream_duplex.js":129,"readable-stream/lib/_stream_passthrough.js":130,"readable-stream/lib/_stream_readable.js":131,"readable-stream/lib/_stream_transform.js":132,"readable-stream/lib/_stream_writable.js":133,"readable-stream/lib/internal/streams/end-of-stream.js":137,"readable-stream/lib/internal/streams/pipeline.js":139}],127:[function(require,module,exports){arguments[4][72][0].apply(exports,arguments)},{dup:72}],128:[function(require,module,exports){arguments[4][73][0].apply(exports,arguments)},{dup:73}],129:[function(require,module,exports){arguments[4][74][0].apply(exports,arguments)},{"./_stream_readable":131,"./_stream_writable":133,_process:112,dup:74,inherits:127}],130:[function(require,module,exports){arguments[4][75][0].apply(exports,arguments)},{"./_stream_transform":132,dup:75,inherits:127}],131:[function(require,module,exports){arguments[4][76][0].apply(exports,arguments)},{"../errors":128,"./_stream_duplex":129,"./internal/streams/async_iterator":134,"./internal/streams/buffer_list":135,"./internal/streams/destroy":136,"./internal/streams/from":138,"./internal/streams/state":140,"./internal/streams/stream":141,_process:112,buffer:20,dup:76,events:43,inherits:127,"string_decoder/":143,util:19}],132:[function(require,module,exports){arguments[4][77][0].apply(exports,arguments)},{"../errors":128,"./_stream_duplex":129,dup:77,inherits:127}],133:[function(require,module,exports){arguments[4][78][0].apply(exports,arguments)},{"../errors":128,"./_stream_duplex":129,"./internal/streams/destroy":136,"./internal/streams/state":140,"./internal/streams/stream":141,_process:112,buffer:20,dup:78,inherits:127,"util-deprecate":150}],134:[function(require,module,exports){arguments[4][79][0].apply(exports,arguments)},{"./end-of-stream":137,_process:112,dup:79}],135:[function(require,module,exports){arguments[4][80][0].apply(exports,arguments)},{buffer:20,dup:80,util:19}],136:[function(require,module,exports){arguments[4][81][0].apply(exports,arguments)},{_process:112,dup:81}],137:[function(require,module,exports){arguments[4][82][0].apply(exports,arguments)},{"../../../errors":128,dup:82}],138:[function(require,module,exports){arguments[4][83][0].apply(exports,arguments)},{dup:83}],139:[function(require,module,exports){arguments[4][84][0].apply(exports,arguments)},{"../../../errors":128,"./end-of-stream":137,dup:84}],140:[function(require,module,exports){arguments[4][85][0].apply(exports,arguments)},{"../../../errors":128,dup:85}],141:[function(require,module,exports){arguments[4][86][0].apply(exports,arguments)},{dup:86,events:43}],142:[function(require,module,exports){arguments[4][88][0].apply(exports,arguments)},{buffer:20,dup:88}],143:[function(require,module,exports){arguments[4][89][0].apply(exports,arguments)},{dup:89,"safe-buffer":142}],144:[function(require,module,exports){module.exports=function(stream){var rs=stream._readableState;return rs?rs.objectMode?stream.read():stream.read(function(state){if(state.buffer.length)return(state.buffer.head?state.buffer.head.data:state.buffer[0]).length;return state.length}(rs)):null}},{}],145:[function(require,module,exports){"use strict";var Buffer=require("safe-buffer").Buffer,isEncoding=Buffer.isEncoding||function(encoding){switch((encoding=""+encoding)&&encoding.toLowerCase()){case"hex":case"utf8":case"utf-8":case"ascii":case"binary":case"base64":case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":case"raw":return!0;default:return!1}};function normalizeEncoding(enc){var nenc=function(enc){if(!enc)return"utf8";for(var retried;;)switch(enc){case"utf8":case"utf-8":return"utf8";case"ucs2":case"ucs-2":case"utf16le":case"utf-16le":return"utf16le";case"latin1":case"binary":return"latin1";case"base64":case"ascii":case"hex":return enc;default:if(retried)return;enc=(""+enc).toLowerCase(),retried=!0}}(enc);if("string"!=typeof nenc&&(Buffer.isEncoding===isEncoding||!isEncoding(enc)))throw new Error("Unknown encoding: "+enc);return nenc||enc}function StringDecoder(encoding){var nb;switch(this.encoding=normalizeEncoding(encoding),this.encoding){case"utf16le":this.text=utf16Text,this.end=utf16End,nb=4;break;case"utf8":this.fillLast=utf8FillLast,nb=4;break;case"base64":this.text=base64Text,this.end=base64End,nb=3;break;default:return this.write=simpleWrite,void(this.end=simpleEnd)}this.lastNeed=0,this.lastTotal=0,this.lastChar=Buffer.allocUnsafe(nb)}function utf8CheckByte(byte){return byte<=127?0:byte>>5==6?2:byte>>4==14?3:byte>>3==30?4:-1}function utf8FillLast(buf){var p=this.lastTotal-this.lastNeed,r=function(self,buf,p){return 128!=(192&buf[0])?(self.lastNeed=0,"ï¿½".repeat(p)):1<self.lastNeed&&1<buf.length?128!=(192&buf[1])?(self.lastNeed=1,"ï¿½".repeat(p+1)):2<self.lastNeed&&2<buf.length&&128!=(192&buf[2])?(self.lastNeed=2,"ï¿½".repeat(p+2)):void 0:void 0}(this,buf,p);return void 0!==r?r:this.lastNeed<=buf.length?(buf.copy(this.lastChar,p,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal)):(buf.copy(this.lastChar,p,0,buf.length),void(this.lastNeed-=buf.length))}function utf16Text(buf,c){if((buf.length-c)%2!=0)return this.lastNeed=1,this.lastTotal=2,this.lastChar[0]=buf[buf.length-1],buf.toString("utf16le",c,buf.length-1);var r=buf.toString("utf16le",c);if(r){c=r.charCodeAt(r.length-1);if(55296<=c&&c<=56319)return this.lastNeed=2,this.lastTotal=4,this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1],r.slice(0,-1)}return r}function utf16End(end){var r=end&&end.length?this.write(end):"";if(this.lastNeed){end=this.lastTotal-this.lastNeed;return r+this.lastChar.toString("utf16le",0,end)}return r}function base64Text(buf,i){var n=(buf.length-i)%3;return 0==n?buf.toString("base64",i):(this.lastNeed=3-n,this.lastTotal=3,1==n?this.lastChar[0]=buf[buf.length-1]:(this.lastChar[0]=buf[buf.length-2],this.lastChar[1]=buf[buf.length-1]),buf.toString("base64",i,buf.length-n))}function base64End(r){r=r&&r.length?this.write(r):"";return this.lastNeed?r+this.lastChar.toString("base64",0,3-this.lastNeed):r}function simpleWrite(buf){return buf.toString(this.encoding)}function simpleEnd(buf){return buf&&buf.length?this.write(buf):""}(exports.StringDecoder=StringDecoder).prototype.write=function(buf){if(0===buf.length)return"";var r,i;if(this.lastNeed){if(void 0===(r=this.fillLast(buf)))return"";i=this.lastNeed,this.lastNeed=0}else i=0;return i<buf.length?r?r+this.text(buf,i):this.text(buf,i):r||""},StringDecoder.prototype.end=function(r){r=r&&r.length?this.write(r):"";return this.lastNeed?r+"ï¿½".repeat(this.lastTotal-this.lastNeed):r},StringDecoder.prototype.text=function(buf,i){var end=function(self,buf,i){var j=buf.length-1;if(j<i)return 0;var nb=utf8CheckByte(buf[j]);if(0<=nb)return 0<nb&&(self.lastNeed=nb-1),nb;if(--j<i)return 0;if(0<=(nb=utf8CheckByte(buf[j])))return 0<nb&&(self.lastNeed=nb-2),nb;if(--j<i)return 0;if(0<=(nb=utf8CheckByte(buf[j])))return 0<nb&&(2===nb?nb=0:self.lastNeed=nb-3),nb;return 0}(this,buf,i);if(!this.lastNeed)return buf.toString("utf8",i);this.lastTotal=end;end=buf.length-(end-this.lastNeed);return buf.copy(this.lastChar,0,end),buf.toString("utf8",i,end)},StringDecoder.prototype.fillLast=function(buf){if(this.lastNeed<=buf.length)return buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,this.lastNeed),this.lastChar.toString(this.encoding,0,this.lastTotal);buf.copy(this.lastChar,this.lastTotal-this.lastNeed,0,buf.length),this.lastNeed-=buf.length}},{"safe-buffer":125}],146:[function(require,module,exports){exports.doubleNormalization0point5="doubleNormalization0point5",exports.logNormalization="logNormalization",exports.raw="raw",exports.selfString="selfString",exports.selfNumeric="selfNumeric",exports.getTermFrequency=function(docVector,options){if(options=Object.assign({},{scheme:"raw",weight:0},options),!docVector)return[];if(0===docVector.length)return[];if("logNormalization"===options.scheme)return docVector.map(function(item){return[item[0],+options.weight+Math.log(+item[1]+1)]});if("doubleNormalization0point5"!==options.scheme)return"raw"===options.scheme?docVector.map(function(item){return[item[0],+options.weight+item[1]]}):"selfString"===options.scheme?docVector.map(function(item){return[item[0],item[0][0]+""]}):"selfNumeric"===options.scheme?docVector.map(function(item){var value=item[0][0];return!isNaN(parseFloat(value))&&isFinite(value)&&(value=+options.weight+ +item[0][0]),[item[0],value]}):void 0;var maxFreq=docVector.sort(function(a,b){return b[1]-a[1]})[0][1];return docVector.map(function(item){return[item[0],+options.weight+.5+.5*+item[1]/maxFreq]})}},{}],147:[function(require,module,exports){const _isEqual=require("lodash.isequal");exports.getVector=function(tokens,nGramLength){if(nGramLength=nGramLength||1,"[object Array]"!==Object.prototype.toString.call(tokens))throw new Error("error: input must be an Array");if(0===nGramLength)throw new Error("error: nGramLength must be greater than 0");var vec=[];if(isNaN(nGramLength)){if("[object Array]"===Object.prototype.toString.call(nGramLength)){for(var i=0;i<nGramLength.length;i++)vec=vec.concat(getTermVectorForNgramLength(tokens,nGramLength[i]));return vec}if(parseInt(nGramLength.gte)<=parseInt(nGramLength.lte)){for(var j=parseInt(nGramLength.gte);j<=nGramLength.lte&&tokens[j-1];)vec=vec.concat(getTermVectorForNgramLength(tokens,j++));return vec}throw new Error("nGramLength seems to be maformed- see docs")}return getTermVectorForNgramLength(tokens,nGramLength)};var getTermVectorForNgramLength=function(tokens,nGramLength){if(nGramLength>tokens.length)return[];for(var ngrams=[],i=0;i<=tokens.length-nGramLength;i++)ngrams.push(tokens.slice(i,i+nGramLength));if(1===(ngrams=ngrams.sort()).length)return[[ngrams[0],1]];for(var counter=1,lastToken=ngrams[0],vector=[],j=1;j<ngrams.length;j++)_isEqual(ngrams[j],lastToken)?counter++:(vector.push([lastToken,counter]),counter=1,lastToken=ngrams[j]);return vector.push([ngrams[i-1],counter]),vector}},{"lodash.isequal":107}],148:[function(require,module,exports){!function(process){!function(){var Stream=require("stream");function through(write,end,opts){write=write||function(data){this.queue(data)},end=end||function(){this.queue(null)};var ended=!1,destroyed=!1,buffer=[],_ended=!1,stream=new Stream;function drain(){for(;buffer.length&&!stream.paused;){var data=buffer.shift();if(null===data)return stream.emit("end");stream.emit("data",data)}}return stream.readable=stream.writable=!0,stream.paused=!1,stream.autoDestroy=!(opts&&!1===opts.autoDestroy),stream.write=function(data){return write.call(this,data),!stream.paused},stream.queue=stream.push=function(data){return _ended||(null===data&&(_ended=!0),buffer.push(data),drain()),stream},stream.on("end",function(){stream.readable=!1,!stream.writable&&stream.autoDestroy&&process.nextTick(function(){stream.destroy()})}),stream.end=function(data){if(!ended)return ended=!0,arguments.length&&stream.write(data),stream.writable=!1,end.call(stream),!stream.readable&&stream.autoDestroy&&stream.destroy(),stream},stream.destroy=function(){if(!destroyed)return ended=destroyed=!0,buffer.length=0,stream.writable=stream.readable=!1,stream.emit("close"),stream},stream.pause=function(){if(!stream.paused)return stream.paused=!0,stream},stream.resume=function(){return stream.paused&&(stream.paused=!1,stream.emit("resume")),drain(),stream.paused||stream.emit("drain"),stream},stream}(module.exports=through).through=through}.call(this)}.call(this,require("_process"))},{_process:112,stream:126}],149:[function(require,module,exports){!function(setImmediate,clearImmediate){!function(){var nextTick=require("process/browser.js").nextTick,apply=Function.prototype.apply,slice=Array.prototype.slice,immediateIds={},nextImmediateId=0;function Timeout(id,clearFn){this._id=id,this._clearFn=clearFn}exports.setTimeout=function(){return new Timeout(apply.call(setTimeout,window,arguments),clearTimeout)},exports.setInterval=function(){return new Timeout(apply.call(setInterval,window,arguments),clearInterval)},exports.clearTimeout=exports.clearInterval=function(timeout){timeout.close()},Timeout.prototype.unref=Timeout.prototype.ref=function(){},Timeout.prototype.close=function(){this._clearFn.call(window,this._id)},exports.enroll=function(item,msecs){clearTimeout(item._idleTimeoutId),item._idleTimeout=msecs},exports.unenroll=function(item){clearTimeout(item._idleTimeoutId),item._idleTimeout=-1},exports._unrefActive=exports.active=function(item){clearTimeout(item._idleTimeoutId);var msecs=item._idleTimeout;0<=msecs&&(item._idleTimeoutId=setTimeout(function(){item._onTimeout&&item._onTimeout()},msecs))},exports.setImmediate="function"==typeof setImmediate?setImmediate:function(fn){var id=nextImmediateId++,args=!(arguments.length<2)&&slice.call(arguments,1);return immediateIds[id]=!0,nextTick(function(){immediateIds[id]&&(args?fn.apply(null,args):fn.call(null),exports.clearImmediate(id))}),id},exports.clearImmediate="function"==typeof clearImmediate?clearImmediate:function(id){delete immediateIds[id]}}.call(this)}.call(this,require("timers").setImmediate,require("timers").clearImmediate)},{"process/browser.js":112,timers:149}],150:[function(require,module,exports){!function(global){!function(){function config(val){try{if(!global.localStorage)return}catch(_){return}val=global.localStorage[val];return null!=val&&"true"===String(val).toLowerCase()}module.exports=function(fn,msg){if(config("noDeprecation"))return fn;var warned=!1;return function(){if(!warned){if(config("throwDeprecation"))throw new Error(msg);config("traceDeprecation")?console.trace(msg):console.warn(msg),warned=!0}return fn.apply(this,arguments)}}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{}],151:[function(require,module,exports){arguments[4][14][0].apply(exports,arguments)},{dup:14}],152:[function(require,module,exports){"use strict";var isArgumentsObject=require("is-arguments"),isGeneratorFunction=require("is-generator-function"),whichTypedArray=require("which-typed-array"),isTypedArray=require("is-typed-array");function uncurryThis(f){return f.call.bind(f)}var bigIntValue,symbolValue,BigIntSupported="undefined"!=typeof BigInt,SymbolSupported="undefined"!=typeof Symbol,ObjectToString=uncurryThis(Object.prototype.toString),numberValue=uncurryThis(Number.prototype.valueOf),stringValue=uncurryThis(String.prototype.valueOf),booleanValue=uncurryThis(Boolean.prototype.valueOf);function checkBoxedPrimitive(value,prototypeValueOf){if("object"!=typeof value)return!1;try{return prototypeValueOf(value),!0}catch(e){return!1}}function isMapToString(value){return"[object Map]"===ObjectToString(value)}function isSetToString(value){return"[object Set]"===ObjectToString(value)}function isWeakMapToString(value){return"[object WeakMap]"===ObjectToString(value)}function isWeakSetToString(value){return"[object WeakSet]"===ObjectToString(value)}function isArrayBufferToString(value){return"[object ArrayBuffer]"===ObjectToString(value)}function isArrayBuffer(value){return"undefined"!=typeof ArrayBuffer&&(isArrayBufferToString.working?isArrayBufferToString(value):value instanceof ArrayBuffer)}function isDataViewToString(value){return"[object DataView]"===ObjectToString(value)}function isDataView(value){return"undefined"!=typeof DataView&&(isDataViewToString.working?isDataViewToString(value):value instanceof DataView)}BigIntSupported&&(bigIntValue=uncurryThis(BigInt.prototype.valueOf)),SymbolSupported&&(symbolValue=uncurryThis(Symbol.prototype.valueOf)),exports.isArgumentsObject=isArgumentsObject,exports.isGeneratorFunction=isGeneratorFunction,exports.isTypedArray=isTypedArray,exports.isPromise=function(input){return"undefined"!=typeof Promise&&input instanceof Promise||null!==input&&"object"==typeof input&&"function"==typeof input.then&&"function"==typeof input.catch},exports.isArrayBufferView=function(value){return"undefined"!=typeof ArrayBuffer&&ArrayBuffer.isView?ArrayBuffer.isView(value):isTypedArray(value)||isDataView(value)},exports.isUint8Array=function(value){return"Uint8Array"===whichTypedArray(value)},exports.isUint8ClampedArray=function(value){return"Uint8ClampedArray"===whichTypedArray(value)},exports.isUint16Array=function(value){return"Uint16Array"===whichTypedArray(value)},exports.isUint32Array=function(value){return"Uint32Array"===whichTypedArray(value)},exports.isInt8Array=function(value){return"Int8Array"===whichTypedArray(value)},exports.isInt16Array=function(value){return"Int16Array"===whichTypedArray(value)},exports.isInt32Array=function(value){return"Int32Array"===whichTypedArray(value)},exports.isFloat32Array=function(value){return"Float32Array"===whichTypedArray(value)},exports.isFloat64Array=function(value){return"Float64Array"===whichTypedArray(value)},exports.isBigInt64Array=function(value){return"BigInt64Array"===whichTypedArray(value)},exports.isBigUint64Array=function(value){return"BigUint64Array"===whichTypedArray(value)},isMapToString.working="undefined"!=typeof Map&&isMapToString(new Map),exports.isMap=function(value){return"undefined"!=typeof Map&&(isMapToString.working?isMapToString(value):value instanceof Map)},isSetToString.working="undefined"!=typeof Set&&isSetToString(new Set),exports.isSet=function(value){return"undefined"!=typeof Set&&(isSetToString.working?isSetToString(value):value instanceof Set)},isWeakMapToString.working="undefined"!=typeof WeakMap&&isWeakMapToString(new WeakMap),exports.isWeakMap=function(value){return"undefined"!=typeof WeakMap&&(isWeakMapToString.working?isWeakMapToString(value):value instanceof WeakMap)},isWeakSetToString.working="undefined"!=typeof WeakSet&&isWeakSetToString(new WeakSet),exports.isWeakSet=isWeakSetToString,isArrayBufferToString.working="undefined"!=typeof ArrayBuffer&&isArrayBufferToString(new ArrayBuffer),exports.isArrayBuffer=isArrayBuffer,isDataViewToString.working="undefined"!=typeof ArrayBuffer&&"undefined"!=typeof DataView&&isDataViewToString(new DataView(new ArrayBuffer(1),0,1)),exports.isDataView=isDataView;var SharedArrayBufferCopy="undefined"!=typeof SharedArrayBuffer?SharedArrayBuffer:void 0;function isSharedArrayBufferToString(value){return"[object SharedArrayBuffer]"===ObjectToString(value)}function isSharedArrayBuffer(value){return void 0!==SharedArrayBufferCopy&&((isSharedArrayBufferToString.working=void 0===isSharedArrayBufferToString.working?isSharedArrayBufferToString(new SharedArrayBufferCopy):isSharedArrayBufferToString.working)?isSharedArrayBufferToString(value):value instanceof SharedArrayBufferCopy)}function isNumberObject(value){return checkBoxedPrimitive(value,numberValue)}function isStringObject(value){return checkBoxedPrimitive(value,stringValue)}function isBooleanObject(value){return checkBoxedPrimitive(value,booleanValue)}function isBigIntObject(value){return BigIntSupported&&checkBoxedPrimitive(value,bigIntValue)}function isSymbolObject(value){return SymbolSupported&&checkBoxedPrimitive(value,symbolValue)}exports.isSharedArrayBuffer=isSharedArrayBuffer,exports.isAsyncFunction=function(value){return"[object AsyncFunction]"===ObjectToString(value)},exports.isMapIterator=function(value){return"[object Map Iterator]"===ObjectToString(value)},exports.isSetIterator=function(value){return"[object Set Iterator]"===ObjectToString(value)},exports.isGeneratorObject=function(value){return"[object Generator]"===ObjectToString(value)},exports.isWebAssemblyCompiledModule=function(value){return"[object WebAssembly.Module]"===ObjectToString(value)},exports.isNumberObject=isNumberObject,exports.isStringObject=isStringObject,exports.isBooleanObject=isBooleanObject,exports.isBigIntObject=isBigIntObject,exports.isSymbolObject=isSymbolObject,exports.isBoxedPrimitive=function(value){return isNumberObject(value)||isStringObject(value)||isBooleanObject(value)||isBigIntObject(value)||isSymbolObject(value)},exports.isAnyArrayBuffer=function(value){return"undefined"!=typeof Uint8Array&&(isArrayBuffer(value)||isSharedArrayBuffer(value))},["isProxy","isExternal","isModuleNamespaceObject"].forEach(function(method){Object.defineProperty(exports,method,{enumerable:!1,value:function(){throw new Error(method+" is not supported in userland")}})})},{"is-arguments":60,"is-generator-function":62,"is-typed-array":63,"which-typed-array":154}],153:[function(require,module,exports){!function(process){!function(){var getOwnPropertyDescriptors=Object.getOwnPropertyDescriptors||function(obj){for(var keys=Object.keys(obj),descriptors={},i=0;i<keys.length;i++)descriptors[keys[i]]=Object.getOwnPropertyDescriptor(obj,keys[i]);return descriptors},formatRegExp=/%[sdj%]/g;exports.format=function(f){if(!isString(f)){for(var objects=[],i=0;i<arguments.length;i++)objects.push(inspect(arguments[i]));return objects.join(" ")}for(var i=1,args=arguments,len=args.length,str=String(f).replace(formatRegExp,function(x){if("%%"===x)return"%";if(len<=i)return x;switch(x){case"%s":return String(args[i++]);case"%d":return Number(args[i++]);case"%j":try{return JSON.stringify(args[i++])}catch(_){return"[Circular]"}default:return x}}),x=args[i];i<len;x=args[++i])null!==x&&isObject(x)?str+=" "+inspect(x):str+=" "+x;return str},exports.deprecate=function(fn,msg){if(void 0!==process&&!0===process.noDeprecation)return fn;if(void 0===process)return function(){return exports.deprecate(fn,msg).apply(this,arguments)};var warned=!1;return function(){if(!warned){if(process.throwDeprecation)throw new Error(msg);process.traceDeprecation?console.trace(msg):console.error(msg),warned=!0}return fn.apply(this,arguments)}};var debugEnv,debugs={},debugEnvRegex=/^$/;function inspect(obj,opts){var ctx={seen:[],stylize:stylizeNoColor};return 3<=arguments.length&&(ctx.depth=arguments[2]),4<=arguments.length&&(ctx.colors=arguments[3]),isBoolean(opts)?ctx.showHidden=opts:opts&&exports._extend(ctx,opts),void 0===ctx.showHidden&&(ctx.showHidden=!1),void 0===ctx.depth&&(ctx.depth=2),void 0===ctx.colors&&(ctx.colors=!1),void 0===ctx.customInspect&&(ctx.customInspect=!0),ctx.colors&&(ctx.stylize=stylizeWithColor),formatValue(ctx,obj,ctx.depth)}function stylizeWithColor(str,style){style=inspect.styles[style];return style?"["+inspect.colors[style][0]+"m"+str+"["+inspect.colors[style][1]+"m":str}function stylizeNoColor(str,styleType){return str}function formatValue(ctx,value,recurseTimes){if(ctx.customInspect&&value&&isFunction(value.inspect)&&value.inspect!==exports.inspect&&(!value.constructor||value.constructor.prototype!==value)){var output=value.inspect(recurseTimes,ctx);return output=!isString(output)?formatValue(ctx,output,recurseTimes):output}var base=function(ctx,value){if(void 0===value)return ctx.stylize("undefined","undefined");if(isString(value)){var simple="'"+JSON.stringify(value).replace(/^"|"$/g,"").replace(/'/g,"\\'").replace(/\\"/g,'"')+"'";return ctx.stylize(simple,"string")}return isNumber(value)?ctx.stylize(""+value,"number"):isBoolean(value)?ctx.stylize(""+value,"boolean"):null===value?ctx.stylize("null","null"):void 0}(ctx,value);if(base)return base;var output=Object.keys(value),visibleKeys=function(array){var hash={};return array.forEach(function(val,idx){hash[val]=!0}),hash}(output);if(ctx.showHidden&&(output=Object.getOwnPropertyNames(value)),isError(value)&&(0<=output.indexOf("message")||0<=output.indexOf("description")))return formatError(value);if(0===output.length){if(isFunction(value)){var braces=value.name?": "+value.name:"";return ctx.stylize("[Function"+braces+"]","special")}if(isRegExp(value))return ctx.stylize(RegExp.prototype.toString.call(value),"regexp");if(isDate(value))return ctx.stylize(Date.prototype.toString.call(value),"date");if(isError(value))return formatError(value)}var base="",array=!1,braces=["{","}"];return isArray(value)&&(array=!0,braces=["[","]"]),isFunction(value)&&(base=" [Function"+(value.name?": "+value.name:"")+"]"),isRegExp(value)&&(base=" "+RegExp.prototype.toString.call(value)),isDate(value)&&(base=" "+Date.prototype.toUTCString.call(value)),isError(value)&&(base=" "+formatError(value)),0!==output.length||array&&0!=value.length?recurseTimes<0?isRegExp(value)?ctx.stylize(RegExp.prototype.toString.call(value),"regexp"):ctx.stylize("[Object]","special"):(ctx.seen.push(value),output=array?function(ctx,value,recurseTimes,visibleKeys,keys){for(var output=[],i=0,l=value.length;i<l;++i)hasOwnProperty(value,String(i))?output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,String(i),!0)):output.push("");return keys.forEach(function(key){key.match(/^\d+$/)||output.push(formatProperty(ctx,value,recurseTimes,visibleKeys,key,!0))}),output}(ctx,value,recurseTimes,visibleKeys,output):output.map(function(key){return formatProperty(ctx,value,recurseTimes,visibleKeys,key,array)}),ctx.seen.pop(),function(output,base,braces){if(60<output.reduce(function(prev,cur){return 0<=cur.indexOf("\n")&&0,prev+cur.replace(/\u001b\[\d\d?m/g,"").length+1},0))return braces[0]+(""===base?"":base+"\n ")+" "+output.join(",\n  ")+" "+braces[1];return braces[0]+base+" "+output.join(", ")+" "+braces[1]}(output,base,braces)):braces[0]+base+braces[1]}function formatError(value){return"["+Error.prototype.toString.call(value)+"]"}function formatProperty(ctx,desc,recurseTimes,visibleKeys,key,array){var name,str,desc=Object.getOwnPropertyDescriptor(desc,key)||{value:desc[key]};if(desc.get?str=desc.set?ctx.stylize("[Getter/Setter]","special"):ctx.stylize("[Getter]","special"):desc.set&&(str=ctx.stylize("[Setter]","special")),hasOwnProperty(visibleKeys,key)||(name="["+key+"]"),str||(ctx.seen.indexOf(desc.value)<0?-1<(str=formatValue(ctx,desc.value,null===recurseTimes?null:recurseTimes-1)).indexOf("\n")&&(str=array?str.split("\n").map(function(line){return"  "+line}).join("\n").substr(2):"\n"+str.split("\n").map(function(line){return"   "+line}).join("\n")):str=ctx.stylize("[Circular]","special")),void 0===name){if(array&&key.match(/^\d+$/))return str;name=(name=JSON.stringify(""+key)).match(/^"([a-zA-Z_][a-zA-Z_0-9]*)"$/)?(name=name.substr(1,name.length-2),ctx.stylize(name,"name")):(name=name.replace(/'/g,"\\'").replace(/\\"/g,'"').replace(/(^"|"$)/g,"'"),ctx.stylize(name,"string"))}return name+": "+str}function isArray(ar){return Array.isArray(ar)}function isBoolean(arg){return"boolean"==typeof arg}function isNull(arg){return null===arg}function isNumber(arg){return"number"==typeof arg}function isString(arg){return"string"==typeof arg}function isUndefined(arg){return void 0===arg}function isRegExp(re){return isObject(re)&&"[object RegExp]"===objectToString(re)}function isObject(arg){return"object"==typeof arg&&null!==arg}function isDate(d){return isObject(d)&&"[object Date]"===objectToString(d)}function isError(e){return isObject(e)&&("[object Error]"===objectToString(e)||e instanceof Error)}function isFunction(arg){return"function"==typeof arg}function objectToString(o){return Object.prototype.toString.call(o)}function pad(n){return n<10?"0"+n.toString(10):n.toString(10)}process.env.NODE_DEBUG&&(debugEnv=(debugEnv=process.env.NODE_DEBUG).replace(/[|\\{}()[\]^$+?.]/g,"\\$&").replace(/\*/g,".*").replace(/,/g,"$|^").toUpperCase(),debugEnvRegex=new RegExp("^"+debugEnv+"$","i")),exports.debuglog=function(set){var pid;return set=set.toUpperCase(),debugs[set]||(debugEnvRegex.test(set)?(pid=process.pid,debugs[set]=function(){var msg=exports.format.apply(exports,arguments);console.error("%s %d: %s",set,pid,msg)}):debugs[set]=function(){}),debugs[set]},(exports.inspect=inspect).colors={bold:[1,22],italic:[3,23],underline:[4,24],inverse:[7,27],white:[37,39],grey:[90,39],black:[30,39],blue:[34,39],cyan:[36,39],green:[32,39],magenta:[35,39],red:[31,39],yellow:[33,39]},inspect.styles={special:"cyan",number:"yellow",boolean:"yellow",undefined:"grey",null:"bold",string:"green",date:"magenta",regexp:"red"},exports.types=require("./support/types"),exports.isArray=isArray,exports.isBoolean=isBoolean,exports.isNull=isNull,exports.isNullOrUndefined=function(arg){return null==arg},exports.isNumber=isNumber,exports.isString=isString,exports.isSymbol=function(arg){return"symbol"==typeof arg},exports.isUndefined=isUndefined,exports.isRegExp=isRegExp,exports.types.isRegExp=isRegExp,exports.isObject=isObject,exports.isDate=isDate,exports.types.isDate=isDate,exports.isError=isError,exports.types.isNativeError=isError,exports.isFunction=isFunction,exports.isPrimitive=function(arg){return null===arg||"boolean"==typeof arg||"number"==typeof arg||"string"==typeof arg||"symbol"==typeof arg||void 0===arg},exports.isBuffer=require("./support/isBuffer");var months=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];function hasOwnProperty(obj,prop){return Object.prototype.hasOwnProperty.call(obj,prop)}exports.log=function(){var d,time;console.log("%s - %s",(d=new Date,time=[pad(d.getHours()),pad(d.getMinutes()),pad(d.getSeconds())].join(":"),[d.getDate(),months[d.getMonth()],time].join(" ")),exports.format.apply(exports,arguments))},exports.inherits=require("inherits"),exports._extend=function(origin,add){if(!add||!isObject(add))return origin;for(var keys=Object.keys(add),i=keys.length;i--;)origin[keys[i]]=add[keys[i]];return origin};var kCustomPromisifiedSymbol="undefined"!=typeof Symbol?Symbol("util.promisify.custom"):void 0;exports.promisify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');if(kCustomPromisifiedSymbol&&original[kCustomPromisifiedSymbol]){var fn;if("function"!=typeof(fn=original[kCustomPromisifiedSymbol]))throw new TypeError('The "util.promisify.custom" argument must be of type Function');return Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),fn}function fn(){for(var promiseResolve,promiseReject,promise=new Promise(function(resolve,reject){promiseResolve=resolve,promiseReject=reject}),args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);args.push(function(err,value){err?promiseReject(err):promiseResolve(value)});try{original.apply(this,args)}catch(err){promiseReject(err)}return promise}return Object.setPrototypeOf(fn,Object.getPrototypeOf(original)),kCustomPromisifiedSymbol&&Object.defineProperty(fn,kCustomPromisifiedSymbol,{value:fn,enumerable:!1,writable:!1,configurable:!0}),Object.defineProperties(fn,getOwnPropertyDescriptors(original))},exports.promisify.custom=kCustomPromisifiedSymbol,exports.callbackify=function(original){if("function"!=typeof original)throw new TypeError('The "original" argument must be of type Function');function callbackified(){for(var args=[],i=0;i<arguments.length;i++)args.push(arguments[i]);var maybeCb=args.pop();if("function"!=typeof maybeCb)throw new TypeError("The last argument must be of type Function");function cb(){return maybeCb.apply(self,arguments)}var self=this;original.apply(this,args).then(function(ret){process.nextTick(cb.bind(null,null,ret))},function(rej){process.nextTick(function(reason,cb){var newReason;return reason||((newReason=new Error("Promise was rejected with a falsy value")).reason=reason,reason=newReason),cb(reason)}.bind(null,rej,cb))})}return Object.setPrototypeOf(callbackified,Object.getPrototypeOf(original)),Object.defineProperties(callbackified,getOwnPropertyDescriptors(original)),callbackified}}.call(this)}.call(this,require("_process"))},{"./support/isBuffer":151,"./support/types":152,_process:112,inherits:59}],154:[function(require,module,exports){!function(global){!function(){"use strict";var forEach=require("foreach"),typedArrays=require("available-typed-arrays"),callBound=require("call-bind/callBound"),$toString=callBound("Object.prototype.toString"),hasToStringTag=require("has-tostringtag/shams")(),g="undefined"==typeof globalThis?global:globalThis,typedArrays=typedArrays(),$slice=callBound("String.prototype.slice"),toStrTags={},gOPD=require("es-abstract/helpers/getOwnPropertyDescriptor"),getPrototypeOf=Object.getPrototypeOf;hasToStringTag&&gOPD&&getPrototypeOf&&forEach(typedArrays,function(typedArray){var superProto,descriptor;"function"==typeof g[typedArray]&&(descriptor=new g[typedArray],Symbol.toStringTag in descriptor&&(superProto=getPrototypeOf(descriptor),(descriptor=gOPD(superProto,Symbol.toStringTag))||(superProto=getPrototypeOf(superProto),descriptor=gOPD(superProto,Symbol.toStringTag)),toStrTags[typedArray]=descriptor.get))});var isTypedArray=require("is-typed-array");module.exports=function(value){return!!isTypedArray(value)&&(hasToStringTag&&Symbol.toStringTag in value?function(value){var foundName=!1;return forEach(toStrTags,function(getter,typedArray){if(!foundName)try{var name=getter.call(value);name===typedArray&&(foundName=name)}catch(e){}}),foundName}(value):$slice($toString(value),8,-1))}}.call(this)}.call(this,"undefined"!=typeof global?global:"undefined"!=typeof self?self:"undefined"!=typeof window?window:{})},{"available-typed-arrays":17,"call-bind/callBound":21,"es-abstract/helpers/getOwnPropertyDescriptor":155,foreach:44,"has-tostringtag/shams":51,"is-typed-array":63}],155:[function(require,module,exports){arguments[4][64][0].apply(exports,arguments)},{dup:64,"get-intrinsic":47}],156:[function(require,module,exports){module.exports=function wrappy(fn,cb){if(fn&&cb)return wrappy(fn)(cb);if("function"!=typeof fn)throw new TypeError("need wrapper function");Object.keys(fn).forEach(function(k){wrapper[k]=fn[k]});return wrapper;function wrapper(){for(var args=new Array(arguments.length),i=0;i<args.length;i++)args[i]=arguments[i];var ret=fn.apply(this,args),cb=args[args.length-1];return"function"==typeof ret&&ret!==cb&&Object.keys(cb).forEach(function(k){ret[k]=cb[k]}),ret}}},{}],157:[function(require,module,exports){arguments[4][90][0].apply(exports,arguments)},{dup:90}]},{},[1])(1)});
